#!/usr/bin/env bash
set -euo pipefail
. "$(cd "$(dirname "$0")" && pwd)/_lib.sh"

# Prefer npm-provided tree-cli, then repo cache, then system
retry_exec "$@" -- \
  "$REPO_ROOT/node_modules/.bin/tree" \
  "$TOOLS_DIR/tree/tree" \
  tree

echo "❌ tree not available; ensure devDeps are installed or provide a system 'tree'." >&2
exit 127
