{"version":3,"mappings":"ssBAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAcA,MAAMA,GAAwB,OAAO,OAAO,CAC3C,KAAM,EACN,IAAK,EACL,MAAO,GACP,OAAQ,EACT,CAAC,EAIKC,EAA6B,OAAO,OAAO,CAChD,OAAQ,EACR,MAAO,GACP,MAAO,EACR,CAAC,EAIKC,EAAmB,OAAO,OAAO,CACtC,GAAGF,GACH,GAAGC,CACJ,CAAC,EAIKE,EAA2B,OAAO,OAAO,CAC9C,GAAGD,EACH,KAAM,GACN,OAAQ,EACT,CAAC,EAKKE,GAAgC,OAAO,OAAO,CACnD,MAAO,KACP,OAAQ,IACT,CAAC,EACKC,GAA4B,OAAO,OAAO,CAC/C,GAAGD,GACH,GAAGH,CACJ,CAAC,EAKD,SAASK,GAAiBC,EAAOC,EAAe,EAAG,CAClD,MAAMC,EAAQF,EAAM,QAAQ,aAAc,EAAE,EAC5C,SAASG,EAAQC,EAAS,CACzB,KAAOA,EAAU,GAAGA,GAAW,EAC/B,OAAOA,EAAU,CAClB,CACA,GAAIF,IAAU,GAAI,CACjB,MAAMG,EAAM,SAASL,CAAK,EAC1B,OAAO,MAAMK,CAAG,EAAI,EAAIF,EAAQE,CAAG,CACpC,SAAWH,IAAUF,EAAO,CAC3B,IAAIM,EAAQ,EACZ,OAAQJ,EAAK,CACZ,IAAK,IACJI,EAAQ,GACR,MACD,IAAK,MAAOA,EAAQ,EACvB,CACE,GAAIA,EAAO,CACV,IAAID,EAAM,WAAWL,EAAM,MAAM,EAAGA,EAAM,OAASE,EAAM,MAAM,CAAC,EAChE,OAAI,MAAMG,CAAG,EAAU,GACvBA,EAAMA,EAAMC,EACLD,EAAM,IAAM,EAAIF,EAAQE,CAAG,EAAI,EACvC,CACD,CACA,OAAOJ,CACR,CAEA,MAAMM,GAAY,SAIlB,SAASC,GAAeC,EAAQC,EAAM,CACrCA,EAAK,MAAMH,EAAS,EAAE,QAASI,GAAQ,CAEtC,OADcA,EAAI,KAAI,EACT,CACZ,IAAK,aACJF,EAAO,MAAQ,GACf,MACD,IAAK,WACJA,EAAO,MAAQ,GACf,KACJ,CACC,CAAC,CACF,CAEA,MAAMG,GAAwB,CAC1B,GAAGd,GACH,oBAAqB,EACzB,EAIA,SAASe,GAAkBC,EAAM,CAC7B,MAAMC,EAAiB,CACnB,GAAGH,EACX,EACUI,EAAO,CAACC,EAAKC,IAAQJ,EAAK,aAAaG,CAAG,GAAKC,EAErD,OAAAH,EAAe,MAAQC,EAAK,QAAS,IAAI,EACzCD,EAAe,OAASC,EAAK,SAAU,IAAI,EAE3CD,EAAe,OAAShB,GAAiBiB,EAAK,SAAU,EAAE,CAAC,EAE3DR,GAAeO,EAAgBC,EAAK,OAAQ,EAAE,CAAC,EAE/CD,EAAe,oBAAsBC,EAAK,sBAAuBA,EAAK,sBAAuB,EAAE,CAAC,EACzFD,CACX,CAIA,SAASI,GAA0BC,EAAQC,EAAQ,CAC/C,UAAWJ,KAAOL,GACd,GAAIQ,EAAOH,CAAG,IAAMI,EAAOJ,CAAG,EAC1B,MAAO,GAGf,MAAO,EACX,CAQA,MAAMK,GAAgB,2BAIhBC,EAAe,CAACvB,EAAOwB,EAAUC,EAAiBC,EAAW,KAAO,CACzE,MAAMC,EAAiB3B,EAAM,MAAM,GAAG,EACtC,GAAIA,EAAM,MAAM,EAAG,CAAC,IAAM,IAAK,CAC9B,GAAI2B,EAAe,OAAS,GAAKA,EAAe,OAAS,EAAG,OAAO,KACnED,EAAWC,EAAe,QAAQ,MAAM,CAAC,CAC1C,CACA,GAAIA,EAAe,OAAS,GAAK,CAACA,EAAe,OAAQ,OAAO,KAChE,GAAIA,EAAe,OAAS,EAAG,CAC9B,MAAMC,EAASD,EAAe,IAAG,EAC3BE,EAASF,EAAe,IAAG,EAC3BG,EAAS,CACd,SAAUH,EAAe,OAAS,EAAIA,EAAe,CAAC,EAAID,EAC1D,OAAAG,EACA,KAAMD,CACT,EACE,OAAOJ,GAAY,CAACO,EAAiBD,CAAM,EAAI,KAAOA,CACvD,CACA,MAAME,EAAOL,EAAe,CAAC,EACvBM,EAAgBD,EAAK,MAAM,GAAG,EACpC,GAAIC,EAAc,OAAS,EAAG,CAC7B,MAAMH,EAAS,CACd,SAAAJ,EACA,OAAQO,EAAc,MAAK,EAC3B,KAAMA,EAAc,KAAK,GAAG,CAC/B,EACE,OAAOT,GAAY,CAACO,EAAiBD,CAAM,EAAI,KAAOA,CACvD,CACA,GAAIL,GAAmBC,IAAa,GAAI,CACvC,MAAMI,EAAS,CACd,SAAAJ,EACA,OAAQ,GACR,KAAAM,CACH,EACE,OAAOR,GAAY,CAACO,EAAiBD,EAAQL,CAAe,EAAI,KAAOK,CACxE,CACA,OAAO,IACR,EAMMC,EAAmB,CAACG,EAAMT,IAC1BS,EACE,CAAC,GAAGT,GAAmBS,EAAK,SAAW,IAAQA,EAAK,SAAaA,EAAK,MAD3D,GASnB,SAASC,GAAaC,EAAMC,EAAO,CAClC,MAAMC,EAAQF,EAAK,MACbG,EAAUH,EAAK,SAAW,OAAO,OAAO,IAAI,EAC5CI,EAAW,OAAO,OAAO,IAAI,EACnC,SAASC,EAAQT,EAAM,CACtB,GAAIM,EAAMN,CAAI,EAAG,OAAOQ,EAASR,CAAI,EAAI,GACzC,GAAI,EAAEA,KAAQQ,GAAW,CACxBA,EAASR,CAAI,EAAI,KACjB,MAAMU,EAASH,EAAQP,CAAI,GAAKO,EAAQP,CAAI,EAAE,OACxChC,EAAQ0C,GAAUD,EAAQC,CAAM,EAClC1C,IAAOwC,EAASR,CAAI,EAAI,CAACU,CAAM,EAAE,OAAO1C,CAAK,EAClD,CACA,OAAOwC,EAASR,CAAI,CACrB,CACA,OAAC,OAAO,KAAKM,CAAK,EAAE,OAAO,OAAO,KAAKC,CAAO,CAAC,EAAG,QAAQE,CAAO,EAC1DD,CACR,CAKA,SAASG,GAAyBC,EAAMC,EAAM,CAC7C,MAAMf,EAAS,GACX,CAACc,EAAK,OAAU,CAACC,EAAK,QAAOf,EAAO,MAAQ,IAC5C,CAACc,EAAK,OAAU,CAACC,EAAK,QAAOf,EAAO,MAAQ,IAChD,MAAMgB,IAAWF,EAAK,QAAU,IAAMC,EAAK,QAAU,IAAM,EAC3D,OAAIC,IAAQhB,EAAO,OAASgB,GACrBhB,CACR,CAOA,SAASiB,GAAcL,EAAQM,EAAO,CACrC,MAAMlB,EAASa,GAAyBD,EAAQM,CAAK,EACrD,UAAW/B,KAAOrB,EAA8BqB,KAAOvB,EAClDuB,KAAOyB,GAAU,EAAEzB,KAAOa,KAASA,EAAOb,CAAG,EAAIvB,EAA2BuB,CAAG,GACzEA,KAAO+B,EAAOlB,EAAOb,CAAG,EAAI+B,EAAM/B,CAAG,EACvCA,KAAOyB,IAAQZ,EAAOb,CAAG,EAAIyB,EAAOzB,CAAG,GAChD,OAAOa,CACR,CAKA,SAASmB,GAAoBb,EAAMJ,EAAMkB,EAAM,CAC9C,MAAMZ,EAAQF,EAAK,MACbG,EAAUH,EAAK,SAAW,OAAO,OAAO,IAAI,EAClD,IAAIe,EAAe,GACnB,SAASC,EAAMxB,EAAQ,CACtBuB,EAAeJ,GAAcT,EAAMV,CAAM,GAAKW,EAAQX,CAAM,EAAGuB,CAAY,CAC5E,CACA,OAAAC,EAAMpB,CAAI,EACVkB,EAAK,QAAQE,CAAK,EACXL,GAAcX,EAAMe,CAAY,CACxC,CAOA,SAASE,GAAajB,EAAMkB,EAAU,CACrC,MAAMjB,EAAQ,GACd,GAAI,OAAOD,GAAS,UAAY,OAAOA,EAAK,OAAU,SAAU,OAAOC,EACnED,EAAK,qBAAqB,OAAOA,EAAK,UAAU,QAASJ,GAAS,CACrEsB,EAAStB,EAAM,IAAI,EACnBK,EAAM,KAAKL,CAAI,CAChB,CAAC,EACD,MAAMkB,EAAOf,GAAaC,CAAI,EAC9B,UAAWJ,KAAQkB,EAAM,CACxB,MAAMK,EAAOL,EAAKlB,CAAI,EAClBuB,IACHD,EAAStB,EAAMiB,GAAoBb,EAAMJ,EAAMuB,CAAI,CAAC,EACpDlB,EAAM,KAAKL,CAAI,EAEjB,CACA,OAAOK,CACR,CAKA,MAAMmB,GAA2B,CAChC,SAAU,GACV,QAAS,GACT,UAAW,GACX,GAAG/D,EACJ,EAIA,SAASgE,EAAmBF,EAAMG,EAAU,CAC3C,UAAWC,KAAQD,EAAU,GAAIC,KAAQJ,GAAQ,OAAOA,EAAKI,CAAI,GAAM,OAAOD,EAASC,CAAI,EAAG,MAAO,GACrG,MAAO,EACR,CAOA,SAASC,GAAuBC,EAAK,CACpC,GAAI,OAAOA,GAAQ,UAAYA,IAAQ,KAAM,OAAO,KACpD,MAAMzB,EAAOyB,EAEb,GADI,OAAOzB,EAAK,QAAW,UAAY,CAACyB,EAAI,OAAS,OAAOA,EAAI,OAAU,UACtE,CAACJ,EAAmBI,EAAKL,EAAwB,EAAG,OAAO,KAC/D,MAAMlB,EAAQF,EAAK,MACnB,UAAWJ,KAAQM,EAAO,CACzB,MAAMJ,EAAOI,EAAMN,CAAI,EACvB,GAAI,CAACA,GAAQ,OAAOE,EAAK,MAAS,UAAY,CAACuB,EAAmBvB,EAAMtC,CAAwB,EAAG,OAAO,IAC3G,CACA,MAAM2C,EAAUH,EAAK,SAAW,OAAO,OAAO,IAAI,EAClD,UAAWJ,KAAQO,EAAS,CAC3B,MAAML,EAAOK,EAAQP,CAAI,EACnBU,EAASR,EAAK,OACpB,GAAI,CAACF,GAAQ,OAAOU,GAAW,UAAY,CAACJ,EAAMI,CAAM,GAAK,CAACH,EAAQG,CAAM,GAAK,CAACe,EAAmBvB,EAAMtC,CAAwB,EAAG,OAAO,IAC9I,CACA,OAAOwC,CACR,CAKA,MAAM0B,EAAc,OAAO,OAAO,IAAI,EAItC,SAASC,GAAWrC,EAAUG,EAAQ,CACrC,MAAO,CACN,SAAAH,EACA,OAAAG,EACA,MAAO,OAAO,OAAO,IAAI,EACzB,QAAyB,IAAI,GAC/B,CACA,CAIA,SAASmC,EAAWtC,EAAUG,EAAQ,CACrC,MAAMoC,EAAkBH,EAAYpC,CAAQ,IAAMoC,EAAYpC,CAAQ,EAAI,OAAO,OAAO,IAAI,GAC5F,OAAOuC,EAAgBpC,CAAM,IAAMoC,EAAgBpC,CAAM,EAAIkC,GAAWrC,EAAUG,CAAM,EACzF,CAMA,SAASqC,GAAWC,EAAS/B,EAAM,CAClC,OAAKwB,GAAuBxB,CAAI,EACzBiB,GAAajB,EAAM,CAACJ,EAAME,IAAS,CACrCA,EAAMiC,EAAQ,MAAMnC,CAAI,EAAIE,EAC3BiC,EAAQ,QAAQ,IAAInC,CAAI,CAC9B,CAAC,EAJyC,EAK3C,CAIA,SAASoC,GAAiBD,EAASnC,EAAME,EAAM,CAC9C,GAAI,CACH,GAAI,OAAOA,EAAK,MAAS,SACxB,OAAAiC,EAAQ,MAAMnC,CAAI,EAAI,CAAE,GAAGE,CAAI,EACxB,EAET,MAAc,CAAC,CACf,MAAO,EACR,CAIA,SAASmC,GAAY3C,EAAUG,EAAQ,CACtC,IAAIyC,EAAW,GAEf,OADkB,OAAO5C,GAAa,SAAW,CAACA,CAAQ,EAAI,OAAO,KAAKoC,CAAW,GAC3E,QAASS,GAAe,EAChB,OAAOA,GAAe,UAAY,OAAO1C,GAAW,SAAW,CAACA,CAAM,EAAI,OAAO,KAAKiC,EAAYS,CAAU,GAAK,EAAE,GAC3H,QAASC,GAAa,CAC9B,MAAML,EAAUH,EAAWO,EAAYC,CAAQ,EAC/CF,EAAWA,EAAS,OAAO,OAAO,KAAKH,EAAQ,KAAK,EAAE,IAAKnC,IAAUuC,IAAe,GAAK,IAAMA,EAAa,IAAM,IAAMC,EAAW,IAAMxC,CAAI,CAAC,CAC/I,CAAC,CACF,CAAC,EACMsC,CACR,CAKA,IAAIG,EAAc,GAClB,SAASC,GAAiBC,EAAO,CAChC,OAAI,OAAOA,GAAU,YAAWF,EAAcE,GACvCF,CACR,CASA,SAASG,EAAY5C,EAAM,CAC1B,MAAME,EAAO,OAAOF,GAAS,SAAWT,EAAaS,EAAM,GAAMyC,CAAW,EAAIzC,EAChF,GAAIE,EAAM,CACT,MAAMiC,EAAUH,EAAW9B,EAAK,SAAUA,EAAK,MAAM,EAC/C2C,EAAW3C,EAAK,KACtB,OAAOiC,EAAQ,MAAMU,CAAQ,IAAMV,EAAQ,QAAQ,IAAIU,CAAQ,EAAI,KAAO,OAC3E,CACD,CAIA,SAASC,GAAU9C,EAAMI,EAAM,CAC9B,MAAMF,EAAOX,EAAaS,EAAM,GAAMyC,CAAW,EACjD,GAAI,CAACvC,EAAM,MAAO,GAClB,MAAMiC,EAAUH,EAAW9B,EAAK,SAAUA,EAAK,MAAM,EACrD,OAAIE,EAAagC,GAAiBD,EAASjC,EAAK,KAAME,CAAI,GAEzD+B,EAAQ,QAAQ,IAAIjC,EAAK,IAAI,EACtB,GAET,CAIA,SAAS6C,GAAgB3C,EAAMV,EAAU,CACxC,GAAI,OAAOU,GAAS,SAAU,MAAO,GAErC,GADI,OAAOV,GAAa,WAAUA,EAAWU,EAAK,UAAY,IAC1DqC,GAAe,CAAC/C,GAAY,CAACU,EAAK,OAAQ,CAC7C,IAAI4C,EAAQ,GACZ,OAAIpB,GAAuBxB,CAAI,IAC9BA,EAAK,OAAS,GACdiB,GAAajB,EAAM,CAACJ,EAAME,IAAS,CAC9B4C,GAAU9C,EAAME,CAAI,IAAG8C,EAAQ,GACpC,CAAC,GAEKA,CACR,CACA,MAAMnD,EAASO,EAAK,OACpB,GAAI,CAACL,EAAiB,CACrB,OAAAF,EACA,KAAM,GACR,CAAE,EAAG,MAAO,GACX,MAAMsC,EAAUH,EAAWtC,EAAUG,CAAM,EAC3C,MAAO,CAAC,CAACqC,GAAWC,EAAS/B,CAAI,CAClC,CAIA,SAAS6C,GAAajD,EAAM,CAC3B,MAAO,CAAC,CAAC4C,EAAY5C,CAAI,CAC1B,CAIA,SAASkD,GAAUlD,EAAM,CACxB,MAAMF,EAAS8C,EAAY5C,CAAI,EAC/B,OAAOF,GAAS,CACf,GAAGnC,EACH,GAAGmC,CACL,CACA,CAKA,SAASqD,GAAeC,EAAUC,EAAI,CACrCD,EAAS,QAASjB,GAAY,CAC7B,MAAMmB,EAAQnB,EAAQ,gBAClBmB,IAAOnB,EAAQ,gBAAkBmB,EAAM,OAAQC,GAAQA,EAAI,KAAOF,CAAE,EACzE,CAAC,CACF,CAIA,SAASG,GAAgBrB,EAAS,CAC5BA,EAAQ,uBACZA,EAAQ,qBAAuB,GAC/B,WAAW,IAAM,CAChBA,EAAQ,qBAAuB,GAC/B,MAAMmB,EAAQnB,EAAQ,gBAAkBA,EAAQ,gBAAgB,MAAM,CAAC,EAAI,GAC3E,GAAI,CAACmB,EAAM,OAAQ,OACnB,IAAIG,EAAa,GACjB,MAAM/D,EAAWyC,EAAQ,SACnBtC,EAASsC,EAAQ,OACvBmB,EAAM,QAAS/B,GAAS,CACvB,MAAMjB,EAAQiB,EAAK,MACbmC,EAAYpD,EAAM,QAAQ,OAChCA,EAAM,QAAUA,EAAM,QAAQ,OAAQJ,GAAS,CAC9C,GAAIA,EAAK,SAAWL,EAAQ,MAAO,GACnC,MAAMG,EAAOE,EAAK,KAClB,GAAIiC,EAAQ,MAAMnC,CAAI,EAAGM,EAAM,OAAO,KAAK,CAC1C,SAAAZ,EACA,OAAAG,EACA,KAAAG,CACN,CAAM,UACQmC,EAAQ,QAAQ,IAAInC,CAAI,EAAGM,EAAM,QAAQ,KAAK,CACtD,SAAAZ,EACA,OAAAG,EACA,KAAAG,CACN,CAAM,MAEA,QAAAyD,EAAa,GACN,GAER,MAAO,EACR,CAAC,EACGnD,EAAM,QAAQ,SAAWoD,IACvBD,GAAYN,GAAe,CAAChB,CAAO,EAAGZ,EAAK,EAAE,EAClDA,EAAK,SAASjB,EAAM,OAAO,MAAM,CAAC,EAAGA,EAAM,QAAQ,MAAM,CAAC,EAAGA,EAAM,QAAQ,MAAM,CAAC,EAAGiB,EAAK,KAAK,EAEjG,CAAC,CACF,CAAC,EAEH,CAIA,IAAIoC,GAAY,EAIhB,SAASC,GAActC,EAAUhB,EAAOuD,EAAgB,CACvD,MAAMR,EAAKM,KACLG,EAAQX,GAAe,KAAK,KAAMU,EAAgBR,CAAE,EAC1D,GAAI,CAAC/C,EAAM,QAAQ,OAAQ,OAAOwD,EAClC,MAAMvC,EAAO,CACZ,GAAA8B,EACA,MAAA/C,EACA,SAAAgB,EACA,MAAAwC,CACF,EACC,OAAAD,EAAe,QAAS1B,GAAY,EAClCA,EAAQ,kBAAoBA,EAAQ,gBAAkB,KAAK,KAAKZ,CAAI,CACtE,CAAC,EACMuC,CACR,CAKA,SAASC,GAAUzD,EAAO,CACzB,MAAMR,EAAS,CACd,OAAQ,GACR,QAAS,GACT,QAAS,EACX,EACOqC,EAAU,OAAO,OAAO,IAAI,EAClC7B,EAAM,KAAK,CAAC0D,EAAGC,IACVD,EAAE,WAAaC,EAAE,SAAiBD,EAAE,SAAS,cAAcC,EAAE,QAAQ,EACrED,EAAE,SAAWC,EAAE,OAAeD,EAAE,OAAO,cAAcC,EAAE,MAAM,EAC1DD,EAAE,KAAK,cAAcC,EAAE,IAAI,CAClC,EACD,IAAIC,EAAW,CACd,SAAU,GACV,OAAQ,GACR,KAAM,EACR,EACC,OAAA5D,EAAM,QAASJ,GAAS,CACvB,GAAIgE,EAAS,OAAShE,EAAK,MAAQgE,EAAS,SAAWhE,EAAK,QAAUgE,EAAS,WAAahE,EAAK,SAAU,OAC3GgE,EAAWhE,EACX,MAAMR,EAAWQ,EAAK,SAChBL,EAASK,EAAK,OACdF,EAAOE,EAAK,KACZ+B,EAAkBE,EAAQzC,CAAQ,IAAMyC,EAAQzC,CAAQ,EAAI,OAAO,OAAO,IAAI,GAC9EyE,EAAelC,EAAgBpC,CAAM,IAAMoC,EAAgBpC,CAAM,EAAImC,EAAWtC,EAAUG,CAAM,GACtG,IAAIuE,EACApE,KAAQmE,EAAa,MAAOC,EAAOtE,EAAO,OACrCD,IAAW,IAAMsE,EAAa,QAAQ,IAAInE,CAAI,EAAGoE,EAAOtE,EAAO,QACnEsE,EAAOtE,EAAO,QACnB,MAAMyB,EAAO,CACZ,SAAA7B,EACA,OAAAG,EACA,KAAAG,CACH,EACEoE,EAAK,KAAK7C,CAAI,CACf,CAAC,EACMzB,CACR,CAKA,MAAMqC,EAAU,OAAO,OAAO,IAAI,EAIlC,SAASkC,GAAa3E,EAAU6B,EAAM,CACrCY,EAAQzC,CAAQ,EAAI6B,CACrB,CAIA,SAAS+C,EAAa5E,EAAU,CAC/B,OAAOyC,EAAQzC,CAAQ,GAAKyC,EAAQ,EAAE,CACvC,CAKA,SAASoC,GAAYH,EAAM5E,EAAW,GAAMiD,EAAc,GAAO,CAChE,MAAM3C,EAAS,GACf,OAAAsE,EAAK,QAAS7C,GAAS,CACtB,MAAMrB,EAAO,OAAOqB,GAAS,SAAWhC,EAAagC,EAAM/B,EAAUiD,CAAW,EAAIlB,EAChFrB,GAAMJ,EAAO,KAAKI,CAAI,CAC3B,CAAC,EACMJ,CACR,CAKA,SAAS0E,EAAgBC,EAAQ,CAChC,IAAIC,EACJ,GAAI,OAAOD,EAAO,WAAc,SAAUC,EAAY,CAACD,EAAO,SAAS,UAEtEC,EAAYD,EAAO,UACf,EAAEC,aAAqB,QAAU,CAACA,EAAU,OAAQ,OAAO,KAYhE,MAVe,CACd,UAAAA,EACA,KAAMD,EAAO,MAAQ,IACrB,OAAQA,EAAO,QAAU,IACzB,OAAQA,EAAO,QAAU,IACzB,QAASA,EAAO,SAAW,IAC3B,OAAQA,EAAO,SAAW,GAC1B,MAAOA,EAAO,OAAS,EACvB,iBAAkBA,EAAO,mBAAqB,EAChD,CAEA,CAIA,MAAME,EAAgB,OAAO,OAAO,IAAI,EAgBlCC,EAAqB,CAAC,4BAA6B,wBAAwB,EAC3EC,EAAc,GACpB,KAAOD,EAAmB,OAAS,GAAOA,EAAmB,SAAW,GAC/D,KAAK,OAAM,EAAK,GADkDC,EAAY,KAAKD,EAAmB,MAAK,CAAE,EAEjHC,EAAY,KAAKD,EAAmB,KAAK,EAC9CD,EAAc,EAAE,EAAIH,EAAgB,CAAE,UAAW,CAAC,4BAA4B,EAAE,OAAOK,CAAW,EAAG,EAIrG,SAASC,GAAiBpF,EAAUqF,EAAc,CACjD,MAAMC,EAASR,EAAgBO,CAAY,EAC3C,OAAIC,IAAW,KAAa,IAC5BL,EAAcjF,CAAQ,EAAIsF,EACnB,GACR,CAIA,SAASC,EAAavF,EAAU,CAC/B,OAAOiF,EAAcjF,CAAQ,CAC9B,CAIA,SAASwF,IAAmB,CAC3B,OAAO,OAAO,KAAKP,CAAa,CACjC,CAKA,MAAMQ,GAAgB,CACrB,UAAW,GACX,MAAO,EACP,QAAS,IACT,OAAQ,IACR,OAAQ,GACR,iBAAkB,EACnB,EAKA,SAASC,GAAUJ,EAAQK,EAASC,EAAOC,EAAM,CAChD,MAAMC,EAAiBR,EAAO,UAAU,OAClCS,EAAaT,EAAO,OAAS,KAAK,MAAM,KAAK,OAAM,EAAKQ,CAAc,EAAIR,EAAO,MACvF,IAAIN,EACJ,GAAIM,EAAO,OAAQ,CAClB,IAAIZ,EAAOY,EAAO,UAAU,MAAM,CAAC,EAEnC,IADAN,EAAY,GACLN,EAAK,OAAS,GAAG,CACvB,MAAMsB,EAAY,KAAK,MAAM,KAAK,OAAM,EAAKtB,EAAK,MAAM,EACxDM,EAAU,KAAKN,EAAKsB,CAAS,CAAC,EAC9BtB,EAAOA,EAAK,MAAM,EAAGsB,CAAS,EAAE,OAAOtB,EAAK,MAAMsB,EAAY,CAAC,CAAC,CACjE,CACAhB,EAAYA,EAAU,OAAON,CAAI,CAClC,MAAOM,EAAYM,EAAO,UAAU,MAAMS,CAAU,EAAE,OAAOT,EAAO,UAAU,MAAM,EAAGS,CAAU,CAAC,EAClG,MAAME,EAAY,KAAK,IAAG,EAC1B,IAAIC,EAAS,UACTC,EAAc,EACdC,EACAC,EAAQ,KACRC,EAAQ,GACRC,EAAgB,GAChB,OAAOV,GAAS,YAAYU,EAAc,KAAKV,CAAI,EAIvD,SAASW,GAAa,CACjBH,IACH,aAAaA,CAAK,EAClBA,EAAQ,KAEV,CAIA,SAASjC,GAAQ,CACZ8B,IAAW,YAAWA,EAAS,WACnCM,EAAU,EACVF,EAAM,QAASzE,GAAS,CACnBA,EAAK,SAAW,YAAWA,EAAK,OAAS,UAC9C,CAAC,EACDyE,EAAQ,EACT,CAKA,SAASG,EAAU7E,EAAU8E,EAAW,CACnCA,IAAWH,EAAgB,IAC3B,OAAO3E,GAAa,YAAY2E,EAAc,KAAK3E,CAAQ,CAChE,CAIA,SAAS+E,GAAiB,CACzB,MAAO,CACN,UAAAV,EACA,QAAAN,EACA,OAAAO,EACA,YAAAC,EACA,eAAgBG,EAAM,OACtB,UAAAG,EACA,MAAArC,CACH,CACC,CAIA,SAASwC,GAAY,CACpBV,EAAS,SACTK,EAAc,QAAS3E,GAAa,CACnCA,EAAS,OAAQwE,CAAS,CAC3B,CAAC,CACF,CAIA,SAASS,GAAa,CACrBP,EAAM,QAASzE,GAAS,CACnBA,EAAK,SAAW,YAAWA,EAAK,OAAS,UAC9C,CAAC,EACDyE,EAAQ,EACT,CAIA,SAASQ,EAAejF,EAAMkF,EAAUrG,EAAM,CAC7C,MAAMsG,EAAUD,IAAa,UAE7B,OADAT,EAAQA,EAAM,OAAQW,GAAWA,IAAWpF,CAAI,EACxCqE,EAAM,CACb,IAAK,UAAW,MAChB,IAAK,SACJ,GAAIc,GAAW,CAAC1B,EAAO,iBAAkB,OACzC,MACD,QAAS,MACZ,CACE,GAAIyB,IAAa,QAAS,CACzBX,EAAY1F,EACZkG,EAAS,EACT,MACD,CACA,GAAII,EAAS,CACZZ,EAAY1F,EACP4F,EAAM,SAAatB,EAAU,OAC7BkC,EAAQ,EAD6BN,EAAS,GAEnD,MACD,CAGA,GAFAJ,EAAU,EACVK,EAAU,EACN,CAACvB,EAAO,OAAQ,CACnB,MAAM6B,EAAQ7B,EAAO,UAAU,QAAQzD,EAAK,QAAQ,EAChDsF,IAAU,IAAMA,IAAU7B,EAAO,QAAOA,EAAO,MAAQ6B,EAC5D,CACAjB,EAAS,YACTK,EAAc,QAAS3E,GAAa,CACnCA,EAASlB,CAAI,CACd,CAAC,CACF,CAIA,SAASwG,GAAW,CACnB,GAAIhB,IAAW,UAAW,OAC1BM,EAAU,EACV,MAAMY,EAAWpC,EAAU,MAAK,EAChC,GAAIoC,IAAa,OAAQ,CACxB,GAAId,EAAM,OAAQ,CACjBD,EAAQ,WAAW,IAAM,CACxBG,EAAU,EACNN,IAAW,YACdW,EAAU,EACVD,EAAS,EAEX,EAAGtB,EAAO,OAAO,EACjB,MACD,CACAsB,EAAS,EACT,MACD,CACA,MAAM/E,EAAO,CACZ,OAAQ,UACR,SAAAuF,EACA,SAAU,CAACC,EAAU3G,IAAS,CAC7BoG,EAAejF,EAAMwF,EAAU3G,CAAI,CACpC,CACH,EACE4F,EAAM,KAAKzE,CAAI,EACfsE,IACAE,EAAQ,WAAWa,EAAU5B,EAAO,MAAM,EAC1CM,EAAMwB,EAAUzB,EAAS9D,EAAK,QAAQ,CACvC,CACA,kBAAWqF,CAAQ,EACZP,CACR,CAKA,SAASW,GAAeC,EAAK,CAC5B,MAAMjC,EAAS,CACd,GAAGG,GACH,GAAG8B,CACL,EACC,IAAIC,EAAU,GAId,SAAS/I,GAAU,CAClB+I,EAAUA,EAAQ,OAAQ3F,GAASA,EAAI,EAAG,SAAW,SAAS,CAC/D,CAIA,SAAS+D,EAAMD,EAAS8B,EAAeC,EAAc,CACpD,MAAMC,EAAUjC,GAAUJ,EAAQK,EAAS8B,EAAe,CAAC/G,EAAMkH,IAAU,CAC1EnJ,EAAO,EACHiJ,GAAcA,EAAahH,EAAMkH,CAAK,CAC3C,CAAC,EACD,OAAAJ,EAAQ,KAAKG,CAAO,EACbA,CACR,CAIA,SAASE,EAAKjG,EAAU,CACvB,OAAO4F,EAAQ,KAAMlJ,GACbsD,EAAStD,CAAK,CACrB,GAAK,IACP,CAUA,MATiB,CAChB,MAAAsH,EACA,KAAAiC,EACA,SAAWV,GAAU,CACpB7B,EAAO,MAAQ6B,CAChB,EACA,SAAU,IAAM7B,EAAO,MACvB,QAAA7G,CACF,CAEA,CAEA,SAASqJ,IAAkB,CAAC,CAC5B,MAAMC,EAAkB,OAAO,OAAO,IAAI,EAI1C,SAASC,GAAmBhI,EAAU,CACrC,GAAI,CAAC+H,EAAgB/H,CAAQ,EAAG,CAC/B,MAAMsF,EAASC,EAAavF,CAAQ,EACpC,GAAI,CAACsF,EAAQ,OACb,MAAM2C,EAAaX,GAAehC,CAAM,EAClC4C,EAAkB,CACvB,OAAA5C,EACA,WAAA2C,CACH,EACEF,EAAgB/H,CAAQ,EAAIkI,CAC7B,CACA,OAAOH,EAAgB/H,CAAQ,CAChC,CAIA,SAASmI,GAAaC,EAAQxC,EAAOhE,EAAU,CAC9C,IAAIqG,EACAI,EACJ,GAAI,OAAOD,GAAW,SAAU,CAC/B,MAAME,EAAM1D,EAAawD,CAAM,EAC/B,GAAI,CAACE,EACJ,OAAA1G,EAAS,OAAQ,GAAG,EACbkG,GAERO,EAAOC,EAAI,KACX,MAAMC,EAASP,GAAmBI,CAAM,EACpCG,IAAQN,EAAaM,EAAO,WACjC,KAAO,CACN,MAAMjD,EAASR,EAAgBsD,CAAM,EACrC,GAAI9C,EAAQ,CACX2C,EAAaX,GAAehC,CAAM,EAClC,MAAMkD,EAAYJ,EAAO,UAAYA,EAAO,UAAU,CAAC,EAAI,GACrDE,EAAM1D,EAAa4D,CAAS,EAC9BF,IAAKD,EAAOC,EAAI,KACrB,CACD,CACA,MAAI,CAACL,GAAc,CAACI,GACnBzG,EAAS,OAAQ,GAAG,EACbkG,IAEDG,EAAW,MAAMrC,EAAOyC,EAAMzG,CAAQ,EAAC,EAAG,KAClD,CAEA,SAAS6G,IAAgB,CAAC,CAI1B,SAASC,GAAejG,EAAS,CAC3BA,EAAQ,kBACZA,EAAQ,gBAAkB,GAC1B,WAAW,IAAM,CAChBA,EAAQ,gBAAkB,GAC1BqB,GAAgBrB,CAAO,CACxB,CAAC,EAEH,CAIA,SAASkG,GAAqB/H,EAAO,CACpC,MAAMgI,EAAQ,GACRC,EAAU,GAChB,OAAAjI,EAAM,QAASN,GAAS,EACtBA,EAAK,MAAMV,EAAa,EAAIgJ,EAAQC,GAAS,KAAKvI,CAAI,CACxD,CAAC,EACM,CACN,MAAAsI,EACA,QAAAC,CACF,CACA,CAIA,SAASC,EAAoBrG,EAAS7B,EAAOF,EAAM,CAClD,SAASqI,GAAe,CACvB,MAAMC,EAAUvG,EAAQ,aACxB7B,EAAM,QAASN,GAAS,CACnB0I,GAASA,EAAQ,OAAO1I,CAAI,EAC3BmC,EAAQ,MAAMnC,CAAI,GAAGmC,EAAQ,QAAQ,IAAInC,CAAI,CACnD,CAAC,CACF,CACA,GAAII,GAAQ,OAAOA,GAAS,SAAU,GAAI,CAEzC,GAAI,CADW8B,GAAWC,EAAS/B,CAAI,EAC3B,OAAQ,CACnBqI,EAAY,EACZ,MACD,CACD,OAASE,EAAK,CACb,QAAQ,MAAMA,CAAG,CAClB,CACAF,EAAY,EACZL,GAAejG,CAAO,CACvB,CAIA,SAASyG,GAA2BnC,EAAUnF,EAAU,CACnDmF,aAAoB,QAASA,EAAS,KAAMrG,GAAS,CACxDkB,EAASlB,CAAI,CACd,CAAC,EAAE,MAAM,IAAM,CACdkB,EAAS,IAAI,CACd,CAAC,EACIA,EAASmF,CAAQ,CACvB,CAIA,SAASoC,GAAa1G,EAAS7B,EAAO,CAChC6B,EAAQ,YACRA,EAAQ,YAAcA,EAAQ,YAAY,OAAO7B,CAAK,EAAE,KAAI,EADvC6B,EAAQ,YAAc7B,EAE3C6B,EAAQ,iBACZA,EAAQ,eAAiB,GACzB,WAAW,IAAM,CAChBA,EAAQ,eAAiB,GACzB,KAAM,CAAE,SAAAzC,EAAU,OAAAG,CAAM,EAAKsC,EACvB2G,EAAU3G,EAAQ,YAExB,GADA,OAAOA,EAAQ,YACX,CAAC2G,GAAW,CAACA,EAAQ,OAAQ,OACjC,MAAMC,EAAmB5G,EAAQ,SACjC,GAAIA,EAAQ,YAAc2G,EAAQ,OAAS,GAAK,CAACC,GAAmB,CACnEH,GAA2BzG,EAAQ,UAAU2G,EAASjJ,EAAQH,CAAQ,EAAIU,GAAS,CAClFoI,EAAoBrG,EAAS2G,EAAS1I,CAAI,CAC3C,CAAC,EACD,MACD,CACA,GAAI2I,EAAkB,CACrBD,EAAQ,QAAS9I,GAAS,CACzB,MAAMyG,EAAWsC,EAAiB/I,EAAMH,EAAQH,CAAQ,EACxDkJ,GAA2BnC,EAAWrG,GAAS,CAC9C,MAAM4I,EAAU5I,EAAO,CACtB,OAAAP,EACA,MAAO,CAAE,CAACG,CAAI,EAAGI,CAAI,CAC5B,EAAU,KACJoI,EAAoBrG,EAAS,CAACnC,CAAI,EAAGgJ,CAAO,CAC7C,CAAC,CACF,CAAC,EACD,MACD,CACA,KAAM,CAAE,MAAAV,EAAO,QAAAC,GAAYF,GAAqBS,CAAO,EAEvD,GADIP,EAAQ,QAAQC,EAAoBrG,EAASoG,EAAS,IAAI,EAC1D,CAACD,EAAM,OAAQ,OACnB,MAAMN,EAAMnI,EAAO,MAAMP,EAAa,EAAIgF,EAAa5E,CAAQ,EAAI,KACnE,GAAI,CAACsI,EAAK,CACTQ,EAAoBrG,EAASmG,EAAO,IAAI,EACxC,MACD,CACeN,EAAI,QAAQtI,EAAUG,EAAQyI,CAAK,EAC3C,QAAS/G,GAAS,CACxBsG,GAAanI,EAAU6B,EAAOnB,GAAS,CACtCoI,EAAoBrG,EAASZ,EAAK,MAAOnB,CAAI,CAC9C,CAAC,CACF,CAAC,CACF,CAAC,EAEH,CAIA,MAAM6I,GAAc,CAAC3I,EAAOgB,IAAa,CACxC,MAAM4H,EAAe3E,GAAYjE,EAAO,GAAMoC,GAAgB,CAAE,EAC1DyG,EAAcpF,GAAUmF,CAAY,EAC1C,GAAI,CAACC,EAAY,QAAQ,OAAQ,CAChC,IAAIC,EAAe,GACnB,OAAI9H,GAAU,WAAW,IAAM,CAC1B8H,GAAc9H,EAAS6H,EAAY,OAAQA,EAAY,QAASA,EAAY,QAAShB,EAAa,CACvG,CAAC,EACM,IAAM,CACZiB,EAAe,EAChB,CACD,CACA,MAAMC,EAAW,OAAO,OAAO,IAAI,EAC7BC,EAAU,GAChB,IAAIC,EAAcC,EAClB,OAAAL,EAAY,QAAQ,QAASjJ,GAAS,CACrC,KAAM,CAAE,SAAAR,EAAU,OAAAG,CAAM,EAAKK,EAC7B,GAAIL,IAAW2J,GAAc9J,IAAa6J,EAAc,OACxDA,EAAe7J,EACf8J,EAAa3J,EACbyJ,EAAQ,KAAKtH,EAAWtC,EAAUG,CAAM,CAAC,EACzC,MAAM4J,EAAmBJ,EAAS3J,CAAQ,IAAM2J,EAAS3J,CAAQ,EAAI,OAAO,OAAO,IAAI,GAClF+J,EAAiB5J,CAAM,IAAG4J,EAAiB5J,CAAM,EAAI,GAC3D,CAAC,EACDsJ,EAAY,QAAQ,QAASjJ,GAAS,CACrC,KAAM,CAAE,SAAAR,EAAU,OAAAG,EAAQ,KAAAG,CAAI,EAAKE,EAC7BiC,EAAUH,EAAWtC,EAAUG,CAAM,EACrC6J,EAAevH,EAAQ,eAAiBA,EAAQ,aAA+B,IAAI,KACpFuH,EAAa,IAAI1J,CAAI,IACzB0J,EAAa,IAAI1J,CAAI,EACrBqJ,EAAS3J,CAAQ,EAAEG,CAAM,EAAE,KAAKG,CAAI,EAEtC,CAAC,EACDsJ,EAAQ,QAASnH,GAAY,CAC5B,MAAMiC,EAAOiF,EAASlH,EAAQ,QAAQ,EAAEA,EAAQ,MAAM,EAClDiC,EAAK,QAAQyE,GAAa1G,EAASiC,CAAI,CAC5C,CAAC,EACM9C,EAAWsC,GAActC,EAAU6H,EAAaG,CAAO,EAAInB,EACnE,EAIMwB,GAAczJ,GACZ,IAAI,QAAQ,CAAC0J,EAASC,IAAW,CACvC,MAAMC,EAAU,OAAO5J,GAAS,SAAWX,EAAaW,EAAM,EAAI,EAAIA,EACtE,GAAI,CAAC4J,EAAS,CACbD,EAAO3J,CAAI,EACX,MACD,CACA+I,GAAY,CAACa,GAAW5J,CAAI,EAAI6J,GAAW,CAC1C,GAAIA,EAAO,QAAUD,EAAS,CAC7B,MAAM1J,EAAOwC,EAAYkH,CAAO,EAChC,GAAI1J,EAAM,CACTwJ,EAAQ,CACP,GAAGjM,EACH,GAAGyC,CACT,CAAM,EACD,MACD,CACD,CACAyJ,EAAO3J,CAAI,CACZ,CAAC,CACF,CAAC,EAMF,SAAS8J,GAAehM,EAAO,CAC3B,GAAI,CACA,MAAM6D,EAAM,OAAO7D,GAAU,SAAW,KAAK,MAAMA,CAAK,EAAIA,EAC5D,GAAI,OAAO6D,EAAI,MAAS,SACpB,MAAO,CACH,GAAGA,CACnB,CAGI,MACY,CAEZ,CACJ,CAKA,SAASoI,GAAejM,EAAOkM,EAAQ,CACnC,GAAI,OAAOlM,GAAU,SAEjB,MAAO,CACH,KAFSgM,GAAehM,CAAK,EAG7B,MAAAA,CACZ,EAEI,GAAI,OAAOA,GAAU,SAEjB,MAAO,CACH,MAAAA,CACZ,EAGI,GAAIA,EAAM,SAAS,GAAG,EAAG,CACrB,MAAMoC,EAAO4J,GAAehM,CAAK,EACjC,GAAIoC,EACA,MAAO,CACH,KAAAA,EACA,MAAApC,CAChB,CAEI,CAEA,MAAMgC,EAAOT,EAAavB,EAAO,GAAM,EAAI,EAC3C,GAAI,CAACgC,EACD,MAAO,CACH,MAAAhC,CACZ,EAGI,MAAMoC,EAAOwC,EAAY5C,CAAI,EAE7B,GAAII,IAAS,QAAa,CAACJ,EAAK,OAC5B,MAAO,CACH,MAAAhC,EACA,KAAAgC,EACA,KAAAI,CACZ,EAGI,MAAM+J,EAAUlB,GAAY,CAACjJ,CAAI,EAAG,IAAMkK,EAAOlM,EAAOgC,EAAM4C,EAAY5C,CAAI,CAAC,CAAC,EAChF,MAAO,CACH,MAAAhC,EACA,KAAAgC,EACA,QAAAmK,CACR,CACA,CAGA,IAAIC,GAAiB,GACrB,GAAI,CACAA,GAAiB,UAAU,OAAO,QAAQ,OAAO,IAAM,CAE3D,MACY,CAEZ,CAIA,SAASC,GAAcC,EAAMC,EAAM,CAC/B,OAAQA,EAAI,CAER,IAAK,MACL,IAAK,KACL,IAAK,OACD,OAAOA,CACnB,CAGI,OAAIA,IAAS,UACRH,IAAkBE,EAAK,QAAQ,IAAI,IAAM,IAEnC,MAGJA,EAAK,QAAQ,cAAc,IAAM,GAAK,KAAO,MACxD,CAKA,MAAME,GAAa,4BACbC,GAAY,4BAClB,SAASC,EAAgBC,EAAMC,EAAOC,EAAW,CAChD,GAAID,IAAU,EAAG,OAAOD,EAExB,GADAE,EAAYA,GAAa,IACrB,OAAOF,GAAS,SAAU,OAAO,KAAK,KAAKA,EAAOC,EAAQC,CAAS,EAAIA,EAC3E,GAAI,OAAOF,GAAS,SAAU,OAAOA,EACrC,MAAMG,EAAWH,EAAK,MAAMH,EAAU,EACtC,GAAIM,IAAa,MAAQ,CAACA,EAAS,OAAQ,OAAOH,EAClD,MAAMI,EAAW,GACjB,IAAIC,EAAOF,EAAS,MAAK,EACrBG,EAAWR,GAAU,KAAKO,CAAI,EAClC,OAAa,CACZ,GAAIC,EAAU,CACb,MAAM5M,EAAM,WAAW2M,CAAI,EACvB,MAAM3M,CAAG,EAAG0M,EAAS,KAAKC,CAAI,EAC7BD,EAAS,KAAK,KAAK,KAAK1M,EAAMuM,EAAQC,CAAS,EAAIA,CAAS,CAClE,MAAOE,EAAS,KAAKC,CAAI,EAEzB,GADAA,EAAOF,EAAS,MAAK,EACjBE,IAAS,OAAQ,OAAOD,EAAS,KAAK,EAAE,EAC5CE,EAAW,CAACA,CACb,CACD,CAEA,SAASC,GAAaC,EAASC,EAAM,OAAQ,CAC5C,IAAIC,EAAO,GACX,MAAMxE,EAAQsE,EAAQ,QAAQ,IAAMC,CAAG,EACvC,KAAOvE,GAAS,GAAG,CAClB,MAAMyE,EAAQH,EAAQ,QAAQ,IAAKtE,CAAK,EAClC0E,EAAMJ,EAAQ,QAAQ,KAAOC,CAAG,EACtC,GAAIE,IAAU,IAAMC,IAAQ,GAAI,MAChC,MAAMC,EAASL,EAAQ,QAAQ,IAAKI,CAAG,EACvC,GAAIC,IAAW,GAAI,MACnBH,GAAQF,EAAQ,MAAMG,EAAQ,EAAGC,CAAG,EAAE,KAAI,EAC1CJ,EAAUA,EAAQ,MAAM,EAAGtE,CAAK,EAAE,KAAI,EAAKsE,EAAQ,MAAMK,EAAS,CAAC,CACpE,CACA,MAAO,CACN,KAAAH,EACA,QAAAF,CACF,CACA,CAIA,SAASM,GAAoBJ,EAAMF,EAAS,CAC3C,OAAOE,EAAO,SAAWA,EAAO,UAAYF,EAAUA,CACvD,CAIA,SAASO,GAAepB,EAAMgB,EAAOC,EAAK,CACzC,MAAMjN,EAAQ4M,GAAaZ,CAAI,EAC/B,OAAOmB,GAAoBnN,EAAM,KAAMgN,EAAQhN,EAAM,QAAUiN,CAAG,CACnE,CAKA,MAAMI,GAAkB3N,GAAUA,IAAU,SAAWA,IAAU,aAAeA,IAAU,OAW1F,SAAS4N,GAAU1L,EAAMnB,EAAgB,CACxC,MAAM8M,EAAW,CAChB,GAAGlO,EACH,GAAGuC,CACL,EACO4L,EAAqB,CAC1B,GAAGhO,GACH,GAAGiB,CACL,EACOgN,EAAM,CACX,KAAMF,EAAS,KACf,IAAKA,EAAS,IACd,MAAOA,EAAS,MAChB,OAAQA,EAAS,MACnB,EACC,IAAIvB,EAAOuB,EAAS,KACpB,CAACA,EAAUC,CAAkB,EAAE,QAASE,GAAU,CACjD,MAAMC,EAAkB,GAClBC,EAAQF,EAAM,MACdG,EAAQH,EAAM,MACpB,IAAII,EAAWJ,EAAM,OACjBE,EAAWC,EAAOC,GAAY,GAEjCH,EAAgB,KAAK,cAAgBF,EAAI,MAAQA,EAAI,MAAM,SAAQ,EAAK,KAAO,EAAIA,EAAI,KAAK,SAAQ,EAAK,GAAG,EAC5GE,EAAgB,KAAK,aAAa,EAClCF,EAAI,IAAMA,EAAI,KAAO,GAEbI,IACRF,EAAgB,KAAK,cAAgB,EAAIF,EAAI,MAAM,SAAQ,EAAK,KAAOA,EAAI,OAASA,EAAI,KAAK,SAAQ,EAAK,GAAG,EAC7GE,EAAgB,KAAK,aAAa,EAClCF,EAAI,IAAMA,EAAI,KAAO,GAEtB,IAAIM,EAGJ,OAFID,EAAW,IAAGA,GAAY,KAAK,MAAMA,EAAW,CAAC,EAAI,GACzDA,EAAWA,EAAW,EACdA,EAAQ,CACf,IAAK,GACJC,EAAYN,EAAI,OAAS,EAAIA,EAAI,IACjCE,EAAgB,QAAQ,aAAeI,EAAU,WAAa,IAAMA,EAAU,SAAQ,EAAK,GAAG,EAC9F,MACD,IAAK,GACJJ,EAAgB,QAAQ,eAAiBF,EAAI,MAAQ,EAAIA,EAAI,MAAM,SAAQ,EAAK,KAAOA,EAAI,OAAS,EAAIA,EAAI,KAAK,SAAQ,EAAK,GAAG,EACjI,MACD,IAAK,GACJM,EAAYN,EAAI,MAAQ,EAAIA,EAAI,KAChCE,EAAgB,QAAQ,cAAgBI,EAAU,WAAa,IAAMA,EAAU,SAAQ,EAAK,GAAG,EAC/F,KACJ,CACMD,EAAW,IAAM,IAChBL,EAAI,OAASA,EAAI,MACpBM,EAAYN,EAAI,KAChBA,EAAI,KAAOA,EAAI,IACfA,EAAI,IAAMM,GAEPN,EAAI,QAAUA,EAAI,SACrBM,EAAYN,EAAI,MAChBA,EAAI,MAAQA,EAAI,OAChBA,EAAI,OAASM,IAGXJ,EAAgB,SAAQ3B,EAAOoB,GAAepB,EAAM,iBAAoB2B,EAAgB,KAAK,GAAG,EAAI,KAAO,MAAM,EACtH,CAAC,EACD,MAAMK,EAAsBR,EAAmB,MACzCS,EAAuBT,EAAmB,OAC1CU,EAAWT,EAAI,MACfU,EAAYV,EAAI,OACtB,IAAIW,EACAC,EACAL,IAAwB,MAC3BK,EAASJ,IAAyB,KAAO,MAAQA,IAAyB,OAASE,EAAYF,EAC/FG,EAAQhC,EAAgBiC,EAAQH,EAAWC,CAAS,IAEpDC,EAAQJ,IAAwB,OAASE,EAAWF,EACpDK,EAASJ,IAAyB,KAAO7B,EAAgBgC,EAAOD,EAAYD,CAAQ,EAAID,IAAyB,OAASE,EAAYF,GAEvI,MAAMK,EAAa,GACbC,EAAU,CAAClL,EAAM3D,IAAU,CAC3B2N,GAAe3N,CAAK,IAAG4O,EAAWjL,CAAI,EAAI3D,EAAM,SAAQ,EAC9D,EACA6O,EAAQ,QAASH,CAAK,EACtBG,EAAQ,SAAUF,CAAM,EACxB,MAAMG,EAAU,CACff,EAAI,KACJA,EAAI,IACJS,EACAC,CACF,EACC,OAAAG,EAAW,QAAUE,EAAQ,KAAK,GAAG,EAC9B,CACN,WAAAF,EACA,QAAAE,EACA,KAAAxC,CACF,CACA,CAKA,SAASyC,GAAazC,EAAMsC,EAAY,CACvC,IAAII,EAAoB1C,EAAK,QAAQ,QAAQ,IAAM,GAAK,GAAK,8CAC7D,UAAWtL,KAAQ4N,EAAYI,GAAqB,IAAMhO,EAAO,KAAQ4N,EAAW5N,CAAI,EAAI,IAC5F,MAAO,0CAA8CgO,EAAoB,IAAM1C,EAAO,QACvF,CAQA,SAAS2C,GAAgBC,EAAK,CAC7B,OAAOA,EAAI,QAAQ,KAAM,GAAG,EAAE,QAAQ,KAAM,KAAK,EAAE,QAAQ,KAAM,KAAK,EAAE,QAAQ,KAAM,KAAK,EAAE,QAAQ,KAAM,KAAK,EAAE,QAAQ,OAAQ,GAAG,CACtI,CAIA,SAASC,GAAUD,EAAK,CACvB,MAAO,sBAAwBD,GAAgBC,CAAG,CACnD,CAIA,SAASE,GAAWF,EAAK,CACxB,MAAO,QAAWC,GAAUD,CAAG,EAAI,IACpC,CAEA,MAAMG,GAAc,IAAM,CACzB,IAAI/L,EACJ,GAAI,CAEH,GADAA,EAAW,MACP,OAAOA,GAAa,WAAY,OAAOA,CAC5C,MAAc,CAAC,CAChB,EAIA,IAAIgM,EAAcD,GAAW,EAI7B,SAASE,GAASC,EAAS,CAC1BF,EAAcE,CACf,CAIA,SAASC,IAAW,CACnB,OAAOH,CACR,CAIA,SAASI,GAAmBhO,EAAUG,EAAQ,CAC7C,MAAMmF,EAASC,EAAavF,CAAQ,EACpC,GAAI,CAACsF,EAAQ,MAAO,GACpB,IAAIlF,EACJ,GAAI,CAACkF,EAAO,OAAQlF,EAAS,MACxB,CACJ,IAAI6N,EAAgB,EACpB3I,EAAO,UAAU,QAASzD,GAAS,CAElCoM,EAAgB,KAAK,IAAIA,EADZpM,EACgC,MAAM,CACpD,CAAC,EACD,MAAMqM,EAAM/N,EAAS,eACrBC,EAASkF,EAAO,OAAS2I,EAAgB3I,EAAO,KAAK,OAAS4I,EAAI,MACnE,CACA,OAAO9N,CACR,CAIA,SAAS+N,GAAYjI,EAAQ,CAC5B,OAAOA,IAAW,GACnB,CAIA,MAAMkI,GAAU,CAACpO,EAAUG,EAAQS,IAAU,CAC5C,MAAMyN,EAAU,GACVC,EAAYN,GAAmBhO,EAAUG,CAAM,EAC/CoO,EAAO,QACb,IAAI1M,EAAO,CACV,KAAA0M,EACA,SAAAvO,EACA,OAAAG,EACA,MAAO,EACT,EACKqO,EAAS,EACb,OAAA5N,EAAM,QAAQ,CAACN,EAAM6G,IAAU,CAC9BqH,GAAUlO,EAAK,OAAS,EACpBkO,GAAUF,GAAanH,EAAQ,IAClCkH,EAAQ,KAAKxM,CAAI,EACjBA,EAAO,CACN,KAAA0M,EACA,SAAAvO,EACA,OAAAG,EACA,MAAO,EACX,EACGqO,EAASlO,EAAK,QAEfuB,EAAK,MAAM,KAAKvB,CAAI,CACrB,CAAC,EACD+N,EAAQ,KAAKxM,CAAI,EACVwM,CACR,EAIA,SAASI,GAAQzO,EAAU,CAC1B,GAAI,OAAOA,GAAa,SAAU,CACjC,MAAMsF,EAASC,EAAavF,CAAQ,EACpC,GAAIsF,EAAQ,OAAOA,EAAO,IAC3B,CACA,MAAO,GACR,CAIA,MAAM+C,GAAO,CAACqG,EAAMC,EAAQ/M,IAAa,CACxC,GAAI,CAACgM,EAAa,CACjBhM,EAAS,QAAS,GAAG,EACrB,MACD,CACA,IAAIgN,EAAOH,GAAQE,EAAO,QAAQ,EAClC,OAAQA,EAAO,KAAI,CAClB,IAAK,QAAS,CACb,MAAMxO,EAASwO,EAAO,OAEhBE,EADQF,EAAO,MACG,KAAK,GAAG,EAC1BG,EAAY,IAAI,gBAAgB,CAAE,MAAOD,CAAS,CAAE,EAC1DD,GAAQzO,EAAS,SAAW2O,EAAU,SAAQ,EAC9C,KACD,CACA,IAAK,SAAU,CACd,MAAMC,EAAMJ,EAAO,IACnBC,GAAQG,EAAI,MAAM,EAAG,CAAC,IAAM,IAAMA,EAAI,MAAM,CAAC,EAAIA,EACjD,KACD,CACA,QACCnN,EAAS,QAAS,GAAG,EACrB,MACH,CACC,IAAIoN,EAAe,IACnBpB,EAAYc,EAAOE,CAAI,EAAE,KAAM7H,GAAa,CAC3C,MAAMb,EAASa,EAAS,OACxB,GAAIb,IAAW,IAAK,CACnB,WAAW,IAAM,CAChBtE,EAASuM,GAAYjI,CAAM,EAAI,QAAU,OAAQA,CAAM,CACxD,CAAC,EACD,MACD,CACA,OAAA8I,EAAe,IACRjI,EAAS,KAAI,CACrB,CAAC,EAAE,KAAMrG,GAAS,CACjB,GAAI,OAAOA,GAAS,UAAYA,IAAS,KAAM,CAC9C,WAAW,IAAM,CACZA,IAAS,IAAKkB,EAAS,QAASlB,CAAI,EACnCkB,EAAS,OAAQoN,CAAY,CACnC,CAAC,EACD,MACD,CACA,WAAW,IAAM,CAChBpN,EAAS,UAAWlB,CAAI,CACzB,CAAC,CACF,CAAC,EAAE,MAAM,IAAM,CACdkB,EAAS,OAAQoN,CAAY,CAC9B,CAAC,CACF,EAIMC,GAAiB,CACtB,QAAAb,GACA,KAAA/F,EACD,EAKA,SAAS6G,GAAuBC,EAAQhP,EAAQH,EAAU,CACzDsC,EAAWtC,GAAY,GAAIG,CAAM,EAAE,UAAYgP,CAChD,CAIA,SAASC,GAAsBD,EAAQhP,EAAQH,EAAU,CACxDsC,EAAWtC,GAAY,GAAIG,CAAM,EAAE,SAAWgP,CAC/C,CAKA,MAAME,EAAW,aAIjB,IAAIC,GAAc,GAMlB,SAASC,GAAkBC,EAAO,CAC9BF,GAAcE,CAClB,CAIA,SAASC,GAAYzO,EAAQ0O,EAAQ,CAEjC,IAAIC,EAAY,MAAM,KAAK3O,EAAO,UAAU,EAAE,KAAM5B,GAASA,EAAK,cAC9DA,EAAK,aAAaiQ,CAAQ,CAAC,EAC1BM,IACDA,EAAY,SAAS,cAAc,OAAO,EAC1CA,EAAU,aAAaN,EAAUA,CAAQ,EACzCrO,EAAO,YAAY2O,CAAS,GAGhCA,EAAU,YACN,8CACKD,EAAS,WAAa,KACvB,uCACAJ,EACZ,CAMA,SAASM,IAAkB,CAKvBjL,GAAa,GAAIsK,EAAc,EAE/BjM,GAAiB,EAAI,EACrB,IAAI6M,EACJ,GAAI,CACAA,EAAU,MAEd,MACY,CAEZ,CACA,GAAIA,EAAS,CAET,GAAIA,EAAQ,iBAAmB,OAAQ,CACnC,MAAMC,EAAUD,EAAQ,eAClB5G,EAAM,iCACR,OAAO6G,GAAY,UAAYA,IAAY,OAC1CA,aAAmB,MAAQA,EAAU,CAACA,CAAO,GAAG,QAASjO,GAAS,CAC/D,GAAI,EAGA,OAAOA,GAAS,UACZA,IAAS,MACTA,aAAgB,OAEhB,OAAOA,EAAK,OAAU,UACtB,OAAOA,EAAK,QAAW,UAEvB,CAACwB,GAAgBxB,CAAI,IACrB,QAAQ,MAAMoH,CAAG,CAGzB,MACU,CACN,QAAQ,MAAMA,CAAG,CACrB,CACJ,CAAC,CAET,CAEA,GAAI4G,EAAQ,mBAAqB,OAAQ,CACrC,MAAME,EAAYF,EAAQ,iBAC1B,GAAI,OAAOE,GAAc,UAAYA,IAAc,KAC/C,UAAWxQ,KAAOwQ,EAAW,CACzB,MAAM9G,EAAM,oBAAsB1J,EAAM,gBACxC,GAAI,CACA,MAAMjB,EAAQyR,EAAUxQ,CAAG,EAC3B,GAAI,OAAOjB,GAAU,UACjB,CAACA,GACDA,EAAM,YAAc,OACpB,SAEC8G,GAAiB7F,EAAKjB,CAAK,GAC5B,QAAQ,MAAM2K,CAAG,CAGzB,MACU,CACN,QAAQ,MAAMA,CAAG,CACrB,CACJ,CAER,CACJ,CASA,MAAO,CACH,WAAY1F,GACZ,QAASC,GACT,UAAWb,GACX,QAASS,GACT,cAAeC,GACf,cAAe2H,EACf,UAAWkB,GACX,WAAYmB,GACZ,SAAUK,GACV,UAAWnE,GACX,SAAUU,GACV,eAAgB7E,GAChB,oBAAqBgK,GACrB,qBAAsBF,GACtB,kBAAAK,GACA,KAxBS,CACT,aAAAhK,EACA,aAAAZ,GACA,aAAAwD,GACA,SAAA0F,GACA,SAAAE,GACA,iBAAAvI,EACR,CAkBA,CACA,CAGA,MAAMwK,EAAgB,CAClB,mBAAoB,cACxB,EACMC,GAAe,CACjB,mBAAoB,aACxB,EAEMC,GAAa,CACf,MAAO,aACP,OAAQ,YACR,KAAM,WACV,EACMC,GAAe,CACjB,eAAgBH,EAChB,KAAQA,EACR,WAAcC,EAClB,EACA,UAAW9P,KAAUgQ,GAAc,CAC/B,MAAMzL,EAAOyL,GAAahQ,CAAM,EAChC,UAAW8B,KAAQiO,GACfxL,EAAKvE,EAAS,IAAM8B,CAAI,EAAIiO,GAAWjO,CAAI,CAEnD,CAIA,SAASmO,GAAQ9R,EAAO,CACpB,OAAOA,EAAQA,GAASA,EAAM,MAAM,YAAY,EAAI,KAAO,IAAM,SACrE,CAIA,SAAS+R,GAAW3P,EAAMF,EAAM8P,EAAS,CACrC,MAAMlR,EAAO,SAAS,cAAc,MAAM,EAE1C,IAAIwL,EAAOlK,EAAK,KACZkK,EAAK,QAAQ,IAAI,IAAM,KAEvBA,GAAQ,QAAU,KAAK,IAAG,EAAK,QAGnC,MAAM2F,EAAgB7P,EAAK,WACrB8P,EAAOnD,GAAazC,EAAM,CAC5B,GAAG2F,EACH,MAAO/P,EAAK,MAAQ,GACpB,OAAQA,EAAK,OAAS,EAC9B,CAAK,EACK0N,EAAMR,GAAW8C,CAAI,EAErBC,EAAWrR,EAAK,MAChBsR,EAAS,CACX,QAASxC,EACT,MAASkC,GAAQG,EAAc,KAAK,EACpC,OAAUH,GAAQG,EAAc,MAAM,EACtC,GAAID,EAAUN,EAAgBC,EACtC,EAEI,UAAWhO,KAAQyO,EACfD,EAAS,YAAYxO,EAAMyO,EAAOzO,CAAI,CAAC,EAE3C,OAAO7C,CACX,CAEA,IAAIuR,EAIJ,SAASC,IAAe,CACvB,GAAI,CACHD,EAAS,OAAO,aAAa,aAAa,UAAW,CAAE,WAAaE,GAAMA,EAAG,CAC9E,MAAc,CACbF,EAAS,IACV,CACD,CAOA,SAASG,GAAiBN,EAAM,CAC/B,OAAIG,IAAW,QAAQC,GAAY,EAC5BD,EAASA,EAAO,WAAWH,CAAI,EAAIA,CAC3C,CAKA,SAASO,GAAUrQ,EAAM,CACrB,MAAMtB,EAAO,SAAS,cAAc,MAAM,EAEpCE,EAAOoB,EAAK,WAClB,IAAI8O,EAAQ,GACPlQ,EAAK,QACNkQ,EAAQ,mBAEPlQ,EAAK,SACNkQ,GAAS,oBAETA,IACAlQ,EAAK,MAAQkQ,GAGjB,MAAMgB,EAAOnD,GAAa3M,EAAK,KAAMpB,CAAI,EACzC,OAAAF,EAAK,UAAY0R,GAAiBN,CAAI,EAC/BpR,EAAK,UAChB,CAKA,SAAS4R,EAAgBhQ,EAAQ,CAC7B,OAAO,MAAM,KAAKA,EAAO,UAAU,EAAE,KAAM5B,GAAS,CAChD,MAAMsM,EAAMtM,EAAK,SACbA,EAAK,QAAQ,YAAW,EAC5B,OAAOsM,IAAQ,QAAUA,IAAQ,KACrC,CAAC,CACL,CAIA,SAASuF,GAAWjQ,EAAQkQ,EAAO,CAC/B,MAAMC,EAAWD,EAAM,KAAK,KACtB7R,EAAiB6R,EAAM,eAEvBE,EAAalF,GAAUiF,EAAU9R,CAAc,EACjDA,EAAe,sBACf+R,EAAW,WAAW,oBAClB/R,EAAe,qBAEvB,MAAMwL,EAAOqG,EAAM,aACnB,IAAI9R,EACJ,OAAQyL,EAAI,CACR,IAAK,MACDzL,EAAO2R,GAAUK,CAAU,EAC3B,MACJ,QACIhS,EAAOiR,GAAWe,EAAY,CAC1B,GAAGnT,EACH,GAAGkT,CACnB,EAAetG,IAAS,MAAM,CAC9B,CAEI,MAAMwG,EAAUL,EAAgBhQ,CAAM,EAClCqQ,EAEIjS,EAAK,UAAY,QAAUiS,EAAQ,UAAYjS,EAAK,QAEpDiS,EAAQ,aAAa,QAASjS,EAAK,aAAa,OAAO,CAAC,EAGxD4B,EAAO,aAAa5B,EAAMiS,CAAO,EAKrCrQ,EAAO,YAAY5B,CAAI,CAE/B,CAKA,SAASkS,GAAgB9Q,EAAMkP,EAAQ6B,EAAW,CAC9C,MAAMC,EAAaD,IACdA,EAAU,SACLA,EACAA,EAAU,YACpB,MAAO,CACH,SAAU,GACV,OAAA7B,EACA,KAAAlP,EACA,WAAAgR,CACR,CACA,CAKA,SAASC,GAAkBnR,EAAO,eAAgB,CAE9C,IAAIoR,EACAC,EACJ,GAAI,CACAD,EAAiB,OAAO,eACxBC,EAAc,OAAO,WAEzB,MACY,CACR,MACJ,CAEA,GAAI,CAACD,GAAkB,CAACC,EACpB,OAGJ,MAAMC,EAAmBF,EAAe,IAAIpR,CAAI,EAChD,GAAIsR,EACA,OAAOA,EAGX,MAAM1E,EAAa,CAEf,OAEA,OACA,SACA,aAEA,QACA,SACA,SACA,MACR,EAIU2E,EAAc,cAAcF,CAAY,CAE1C,YAEA,aAAe,GAEf,OAEA,aAAe,GAEf,WAAa,GAEb,UAAY,KACZ,SAAW,GAIX,aAAc,CACV,MAAK,EAEL,MAAMG,EAAQ,KAAK,YAAc,KAAK,aAAa,CAC/C,KAAM,MACtB,CAAa,EAEKpC,EAAS,KAAK,aAAa,QAAQ,EACzCD,GAAYqC,EAAMpC,CAAM,EAExB,KAAK,OAAS4B,GAAgB,CAC1B,MAAO,EACvB,EAAe5B,CAAM,EAET,KAAK,YAAW,CACpB,CAIA,mBAAoB,CAChB,KAAK,WAAa,GAClB,KAAK,cAAa,CACtB,CAIA,sBAAuB,CACnB,KAAK,WAAa,GAClB,KAAK,aAAY,CACrB,CAIA,WAAW,oBAAqB,CAC5B,OAAOxC,EAAW,MAAM,CAAC,CAC7B,CAqBA,yBAAyB5M,EAAM,CAC3B,OAAQA,EAAI,CACR,IAAK,SAAU,CAEX,MAAMyR,EAAY,KAAK,aAAa,QAAQ,EACtCb,EAAQ,KAAK,OACfa,IAAcb,EAAM,SAEpBA,EAAM,OAASa,EACftC,GAAY,KAAK,YAAasC,CAAS,GAE3C,KACJ,CACA,IAAK,aAAc,CACD,KAAK,aAAa,YAAY,EAExC,KAAK,cAAa,EAGlB,KAAK,aAAY,EAErB,KACJ,CACA,QAEI,KAAK,YAAW,CACpC,CACQ,CAIA,IAAI,MAAO,CACP,MAAMzT,EAAQ,KAAK,aAAa,MAAM,EACtC,GAAIA,GAASA,EAAM,MAAM,EAAG,CAAC,IAAM,IAC/B,GAAI,CACA,OAAO,KAAK,MAAMA,CAAK,CAE3B,MACY,CAEZ,CAEJ,OAAOA,CACX,CACA,IAAI,KAAKA,EAAO,CACR,OAAOA,GAAU,WACjBA,EAAQ,KAAK,UAAUA,CAAK,GAEhC,KAAK,aAAa,OAAQA,CAAK,CACnC,CAIA,IAAI,QAAS,CACT,OAAO,KAAK,aAAa,QAAQ,CACrC,CACA,IAAI,OAAOA,EAAO,CACVA,EACA,KAAK,aAAa,SAAU,MAAM,EAGlC,KAAK,gBAAgB,QAAQ,CAErC,CAIA,IAAI,UAAW,CACX,OAAO,KAAK,aAAa,UAAU,CACvC,CACA,IAAI,SAASA,EAAO,CACZA,EACA,KAAK,aAAa,WAAY,MAAM,EAGpC,KAAK,gBAAgB,UAAU,CAEvC,CAIA,kBAAmB,CACf,MAAM4S,EAAQ,KAAK,OACnB,GAAIA,EAAM,SAAU,CAChB,MAAMY,EAAO,KAAK,YAClB,GAAIZ,EAAM,eAAiB,MAEvB,GAAI,CACAY,EAAK,UAAU,eAAe,CAAC,EAC/B,MAEJ,MACY,CAEZ,CAEJb,GAAWa,EAAMZ,CAAK,CAC1B,CACJ,CAIA,IAAI,QAAS,CACT,MAAMA,EAAQ,KAAK,OACnB,OAAOA,EAAM,SACP,WACAA,EAAM,KAAK,OAAS,KAChB,SACA,SACd,CAIA,aAAc,CACL,KAAK,eACN,KAAK,aAAe,GACpB,WAAW,IAAM,CACb,KAAK,OAAM,CACf,CAAC,EAET,CAIA,QAAS,CACL,GAAI,CAAC,KAAK,aACN,OAEJ,KAAK,aAAe,GACpB,MAAMA,EAAQ,KAAK,OAEbc,EAAU,KAAK,aAAa,MAAM,EACxC,GAAIA,IAAYd,EAAM,KAAK,MAAO,CAC9B,KAAK,aAAac,CAAO,EACzB,MACJ,CAEA,GAAI,CAACd,EAAM,UAAY,CAAC,KAAK,SACzB,OAGJ,MAAMrG,EAAO,KAAK,aAAa,MAAM,EAC/BxL,EAAiBF,GAAkB,IAAI,GACzC+R,EAAM,WAAarG,GACnBpL,GAA0ByR,EAAM,eAAgB7R,CAAc,GAC9D,CAAC2R,EAAgB,KAAK,WAAW,IACjC,KAAK,YAAYE,EAAM,KAAM7R,EAAgBwL,CAAI,CAEzD,CAIA,aAAaoH,EAAU,CACnB,MAAMzR,EAAO+J,GAAe0H,EAAU,CAAC3T,EAAOgC,EAAMI,IAAS,CAEzD,MAAMwQ,EAAQ,KAAK,OACnB,GAAIA,EAAM,UAAY,KAAK,aAAa,MAAM,IAAM5S,EAEhD,OAGJ,MAAMkC,EAAO,CACT,MAAAlC,EACA,KAAAgC,EACA,KAAAI,CACpB,EACoBF,EAAK,KAEL,KAAK,aAAaA,CAAI,EAItB0Q,EAAM,KAAO1Q,CAErB,CAAC,EACGA,EAAK,KAEL,KAAK,aAAaA,CAAI,EAItB,KAAK,OAAS8Q,GAAgB9Q,EAAM,KAAK,OAAO,OAAQ,KAAK,MAAM,CAE3E,CAIA,cAAe,CACX,GAAI,CAAC,KAAK,SAAU,CAEhB,MAAMpB,EAAO4R,EAAgB,KAAK,WAAW,EACzC5R,GACA,KAAK,YAAY,YAAYA,CAAI,EAErC,MACJ,CAEA,KAAK,YAAW,CACpB,CAIA,aAAaoB,EAAM,CACf,KAAK,aAAe,GACpB,KAAK,YAAYA,EAAMrB,GAAkB,IAAI,EAAG,KAAK,aAAa,MAAM,CAAC,CAC7E,CAIA,YAAYqB,EAAMnB,EAAgB6S,EAAU,CAExC,MAAMC,EAAexH,GAAcnK,EAAK,KAAK,KAAM0R,CAAQ,EAErDxC,EAAS,KAAK,OAAO,OAE3BuB,GAAW,KAAK,YAAc,KAAK,OAAS,CACxC,SAAU,GACV,KAAAzQ,EACA,OAAAkP,EACA,eAAArQ,EACA,SAAA6S,EACA,aAAAC,CAChB,CAAa,CACL,CAIA,eAAgB,CACZ,GAAI,CAAC,KAAK,WAAa,CAAC,KAAK,aAAa,YAAY,EAClD,GAAI,CACA,KAAK,UAAY,IAAI,qBAAsBC,GAAY,CACnD,MAAMC,EAAeD,EAAQ,KAAME,GAAUA,EAAM,cAAc,EAC7DD,IAAiB,KAAK,WACtB,KAAK,SAAWA,EAChB,KAAK,aAAY,EAEzB,CAAC,EACD,KAAK,UAAU,QAAQ,IAAI,CAE/B,MACY,CAER,GAAI,KAAK,UAAW,CAChB,GAAI,CACA,KAAK,UAAU,WAAU,CAE7B,MACY,CAEZ,CACA,KAAK,UAAY,IACrB,CACJ,CAER,CAIA,cAAe,CACP,KAAK,YACL,KAAK,UAAU,WAAU,EACzB,KAAK,UAAY,KACjB,KAAK,SAAW,GACZ,KAAK,YAEL,KAAK,aAAY,EAG7B,CACR,EAEInF,EAAW,QAAS5N,GAAS,CACnBA,KAAQuS,EAAY,WACtB,OAAO,eAAeA,EAAY,UAAWvS,EAAM,CAC/C,IAAK,UAAY,CACb,OAAO,KAAK,aAAaA,CAAI,CACjC,EACA,IAAK,SAAUhB,EAAO,CACdA,IAAU,KACV,KAAK,aAAagB,EAAMhB,CAAK,EAG7B,KAAK,gBAAgBgB,CAAI,CAEjC,CAChB,CAAa,CAET,CAAC,EAED,MAAMiT,EAAY3C,GAAe,EACjC,UAAWrQ,KAAOgT,EACdV,EAAYtS,CAAG,EAAIsS,EAAY,UAAUtS,CAAG,EAAIgT,EAAUhT,CAAG,EAGjE,OAAAmS,EAAe,OAAOpR,EAAMuR,CAAW,EAChCA,CACX,CAKA,MAAMW,GAAuBf,GAAiB,GAAM7B,GAAe,EAI7D,CAAE,WAAA6C,GAAY,QAAAC,GAAS,UAAAC,GAAW,QAAAC,GAAS,cAAAC,GAAe,cAAAC,GAAe,UAAAC,GAAW,WAAAC,GAAY,SAAAC,GAAU,UAAAC,GAAW,SAAAC,GAAU,oBAAAC,GAAqB,qBAAAC,GAAsB,eAAAC,GAAgB,KAAAC,EAAI,EAAMf,IC5wExM,SAASgB,EAAQ,CAGjB,IAAIC,EAAc,QACdC,EAAS,CAAE,MAAO,OAAQ,KAAM,KAAK,EACrCC,EAAaD,EAAO,MACpBE,EAAYF,EAAO,KACnBG,EAAUD,EACVE,EAAU,CAACH,EAAYC,CAAS,EAEpC,SAASG,EAAUzT,EAAM,CACvB,OAAKA,IACDA,IAAS,QAAgBqT,EACzBrT,IAAS,OAAesT,EACrBtT,EACT,CAEA,SAAS0T,EAAYtP,EAAM,CACzB,IAAIuP,EAAS,MAAM,QAAQvP,CAAI,GAAKA,EAAK,OAASA,EAAK,MAAK,EAAKoP,EAAQ,MAAK,EAC9EG,EAAO,KAAKN,EAAYC,CAAS,EACjCE,EAAU,MAAM,KACd,IAAI,IACFG,EACG,IAAI,SAAS3V,EAAO,CACnB,OAAOyV,EAAU,OAAOzV,CAAK,CAAC,CAChC,CAAC,EACA,OAAO,OAAO,CACzB,CACA,CACE,CAEA0V,EAAW,EAEX,SAASE,EAAUC,EAAM,CACvB,GAAI,CACF,GAAI,CAACA,GAAQ,OAAOA,GAAS,SAAU,OACnCA,EAAK,YAAc,OAAOA,EAAK,YAAe,WAChDR,EAAaI,EAAUI,EAAK,UAAU,GAEpCA,EAAK,WAAa,OAAOA,EAAK,WAAc,WAC9CP,EAAYG,EAAUI,EAAK,SAAS,GAElCA,EAAK,cAAgB,OAAOA,EAAK,cAAiB,SACpDN,EAAUE,EAAUI,EAAK,YAAY,EAErCN,EAAUE,EAAUF,CAAO,EAE7BH,EAAO,MAAQC,EACfD,EAAO,KAAOE,EACV,MAAM,QAAQO,EAAK,OAAO,GAAKA,EAAK,QAAQ,OAC9CH,EAAYG,EAAK,OAAO,EAExBH,EAAW,EAETG,EAAK,YAAc,OAAOA,EAAK,YAAe,WAChDV,EAAcU,EAAK,WAEvB,MAAQ,CAER,CACF,CAEA,SAASC,GAAW,CAClB,IAAIC,EAAK,SAAS,gBACdC,EAAIP,EAAUM,EAAG,aAAa,YAAY,CAAC,EAC/C,GAAI,CAACC,GAAKR,EAAQ,QAAQQ,CAAC,IAAM,GAE/B,GAAI,CACF,IAAIzD,EAAIkD,EAAU,aAAa,QAAQN,CAAW,CAAC,EAC/C5C,GAAKiD,EAAQ,QAAQjD,CAAC,IAAM,KAAIyD,EAAIzD,EAC1C,MAAQ,CAAC,CAEX,OAAOiD,EAAQ,QAAQQ,CAAC,IAAM,GAAKA,EAAIT,CACzC,CAEA,SAASU,EAASjU,EAAMkU,EAASzP,EAAQ,CACvC,IAAIqD,EAAS2L,EAAUzT,CAAI,EAC3B,GAAIwT,EAAQ,QAAQ1L,CAAM,IAAM,GAChC,KAAIiM,EAAK,SAAS,gBAClBA,EAAG,aAAa,aAAcjM,CAAM,EACpCiM,EAAG,QAAQ,YAActP,GAAU,OACnC,IAAI0P,EAAO,SAAS,cAAc,2BAA2B,EAC7D,GAAIA,EAAM,CACR,IAAIC,EAAStM,IAAWwL,EACxBa,EAAK,aAAa,UAAWC,EAAS,aAAe,YAAY,CACnE,CACA,GAAIF,EACF,GAAI,CACF,aAAa,QAAQf,EAAarL,CAAM,CAC1C,MAAQ,CAAC,CAEX,GAAI,CACF,SAAS,cACP,IAAI,YAAY,cAAe,CAC7B,OAAQ,CAAE,MAAOA,EAAQ,OAAQrD,GAAU,MAAM,CAC3D,CAAS,CACT,CACI,MAAQ,CAAC,EACX,CAEA,SAAS4P,EAAYH,EAAS,CAC5B,IAAII,EAAMR,EAAQ,EAEdS,EAAOD,IAAQhB,EAAYD,EAAaC,EAC5C,OAAAW,EAASM,EAAML,IAAY,GAAO,QAAQ,EACnCK,CACT,CAEA,SAASC,GAAY,CAEnB,GAAI,CACF,IAAIC,EAAShB,EAAU,aAAa,QAAQN,CAAW,CAAC,EACpDuB,EAASlB,EAAQ,QAAQiB,CAAM,IAAM,GAAKA,EAASlB,EACvD,SAAS,gBAAgB,aAAa,aAAcmB,CAAM,EAC1D,SAAS,gBAAgB,QAAQ,YAAcD,EAC3C,UACA,UACJ,IAAIN,EAAO,SAAS,cAAc,2BAA2B,IACvD,UAAW,CACb,IAAIQ,EAAI,SAAS,cAAc,MAAM,EACrC,OAAAA,EAAE,KAAO,eACT,SAAS,KAAK,YAAYA,CAAC,EACpBA,CACT,GAAC,EACHR,EAAK,QAAUO,IAAWpB,EAAY,aAAe,YACvD,MAAQ,CACN,SAAS,gBAAgB,aAAa,aAAcC,CAAO,EAC3D,SAAS,gBAAgB,QAAQ,YAAc,UACjD,CACF,CAEA,SAASqB,EAASC,EAAS,CACzB,GAAI,OAAOA,GAAY,WAAY,OAAO,UAAW,CAAC,EACtD,IAAIC,EAAK,SAASC,EAAG,CACnBF,EAAQE,GAAG,QAAQ,OAASjB,EAAQ,EAAIiB,GAAG,QAAQ,QAAU,OAAO,CACtE,EACA,gBAAS,iBAAiB,cAAeD,CAAE,EACpC,UAAuB,CAC5B,SAAS,oBAAoB,cAAeA,CAAE,CAChD,CACF,CAEA,IAAI9M,EAAM,CACR,UAAW4L,EACX,SAAUE,EACV,SAAUG,EACV,YAAaI,EACb,UAAWG,EACX,SAAUI,EACV,OAAQxB,CACZ,EACEF,EAAO,WAAalL,CACtB,GAAG,MAAM,glCCjJIgN,GAAUC,GAAM,CACvB,SAAS,aAAe,UAC1B,SAAS,iBAAiB,mBAAoBA,EAAI,CAAE,KAAM,EAAI,CAAE,EAEhEA,EAAE,CAEN,EACMC,EAAK,CAACC,EAAK3D,EAAO,WAAaA,EAAK,cAAc2D,CAAG,EACrDC,EAAM,CAACD,EAAK3D,EAAO,WAAa,MAAM,KAAKA,EAAK,iBAAiB2D,CAAG,CAAC,EACrEE,GAAuB,IAC3B,OAAO,aAAa,kCAAkC,GAAG,SAAW,GAChEC,GAAW,IAAM,CACrB,GAAI,CACF,MAAMC,EAAI,UAAU,WACpB,MAAO,CAAC,EAAEA,IAAMA,EAAE,UAAY,KAAK,KAAKA,EAAE,eAAiB,EAAE,GAC/D,MAAQ,CACN,MAAO,EACT,CACF,EAMO,SAASC,IAAgB,CAG9B,MAAMC,EAAc,IAClBP,EAAG,oBAAoB,GACpBA,EAAG,iBAAiB,GACpBA,EAAG,oBAAoB,GACvBA,EAAG,eAAe,GAClBA,EAAG,QAAQ,EAEVQ,EAAa,IACjB,WACE,iBAAiB,SAAS,eAAe,EAAE,iBACzC,iBACR,CACA,GAAS,KAEDC,EAAmB,IAAM,CAC7B,MAAMC,EAAUF,EAAU,EAC1B,GAAI,OAAO,SAASE,CAAO,EAAG,OAAO,KAAK,KAAKA,CAAO,EACtD,MAAMC,EAAIJ,EAAW,EACrB,GAAI,CAACI,EAAG,MAAO,IACf,MAAMC,EAAID,EAAE,sBAAqB,EACjC,OAAO,KAAK,KAAKC,EAAE,MAAM,EAAI,EAC/B,EAEMC,EAASC,GAAM,SAAS,gBAAgB,MAAM,YAAY,kBAAmB,GAAGA,CAAE,IAAI,EAEtFC,EAAkB,IAAMF,EAAOJ,EAAgB,CAAE,EAGvD,IAAIO,EAAY,EAChB,MAAMC,EAAW,IAAM,CACjBD,IACJA,EAAY,sBAAsB,IAAM,CACtCA,EAAY,EACZD,EAAe,CACjB,CAAC,EACH,EACMJ,EAAIJ,EAAW,EACjB,mBAAoB,QAAUI,GAChC,IAAI,eAAeI,CAAe,EAAE,QAAQJ,CAAC,EAE/C,OAAO,iBAAiB,SAAUM,EAAU,CAAE,QAAS,EAAI,CAAE,EAC7DF,EAAe,EAEf,MAAMG,EAAW,CAACC,EAAO,KAAO,cAAc,KAAKA,CAAI,EAEjDC,EAAiBvC,GAAM,CAC3B,GAAI,CAACA,EAAI,OACT,MAAMwC,EAAcxC,EAAG,aAAa,UAAU,EACxCyC,EAAOzC,EAAG,aAAa,UAAU,EAClCwC,GAAaxC,EAAG,aAAa,WAAY,IAAI,EAClDA,EAAG,UAAU,IAAI,oBAAoB,EACrCA,EAAG,MAAM,CAAE,cAAe,EAAI,CAAE,EAChC,WAAW,IAAM,CACfA,EAAG,UAAU,OAAO,oBAAoB,EACnCwC,EACIC,IAAS,MAAMzC,EAAG,aAAa,WAAYyC,CAAI,EADtCzC,EAAG,gBAAgB,UAAU,CAEjD,EAAG,IAAI,CACT,EAEM0C,EAAiB,CAAC3O,EAAQ,CAAE,YAAA4O,CAAW,EAAK,KAAO,CACvD,GAAI,CAAC5O,EAAQ,OACb,MAAM6O,EAAShB,EAAgB,EACzBiB,EAAO9O,EAAO,sBAAqB,EACnC+O,EAAM,KAAK,IAAI,EAAG,OAAO,YAAcD,EAAK,IAAMD,CAAM,EAK9D,GAJA,OAAO,SAAS,CACd,IAAAE,EACA,SAAUxB,KAAyB,OAAS,QAClD,CAAK,EACG,CAACqB,EAAa,CAChB,MAAMrT,EAAKyE,EAAO,GAAK,IAAIA,EAAO,EAAE,GAAK,GACzC,GAAIzE,GAAMA,IAAO,SAAS,KACxB,GAAI,CACF,QAAQ,UAAU,KAAM,GAAIA,CAAE,CAChC,MAAQ,CAAC,CAEb,CACAiT,EAAexO,CAAM,CACvB,EAEA,SAAS,iBACP,QACAiN,GAAK,CACH,MAAM/Q,EAAI+Q,EAAE,OAAO,QAAQ,cAAc,EACzC,GAAI,CAAC/Q,EAAG,OACR,MAAMqS,EAAOrS,EAAE,aAAa,MAAM,EAClC,GAAI,CAACoS,EAASC,CAAI,EAAG,OACrB,MAAMvO,EAASoN,EAAGmB,CAAI,EACjBvO,IACLiN,EAAE,eAAc,EAChB0B,EAAe3O,CAAM,EACvB,EACA,EACJ,EAEE,MAAMgP,EAAgB,IAAM,CAC1B,KAAM,CAAE,KAAAC,CAAI,EAAK,OAAO,SACxB,GAAI,CAACX,EAASW,CAAI,EAAG,OACrB,MAAM/C,EAAIkB,EAAG6B,CAAI,EACZ/C,GACL,WAAW,IAAMyC,EAAezC,EAAG,CAAE,YAAa,EAAI,CAAE,EAAG,EAAE,CAC/D,EAEA,OAAO,iBAAiB,WAAY8C,EAAe,EAAK,EACxDA,EAAa,CACf,CAMO,SAASE,IAAkB,CAChC,MAAMC,EAAM/B,EAAG,eAAe,EAC9B,GAAI,CAAC+B,EAAK,OAEV,MAAMC,EAAQ,OAAO,YAAc,KAC7BC,EAAMF,EAAI,cAAc,aAAa,EACrCG,EAAOH,EAAI,cAAc,cAAc,EAEvCI,EAAUC,GAAS,CACvB,MAAMC,EAAOL,EAAQA,EAAM,OAAO,KAAO,MACnC9C,EAASkD,IAAUC,EACzBN,EAAI,aAAa,eAAgB,OAAO7C,CAAM,CAAC,EAC/C6C,EAAI,aACF,aACA7C,EAAS,wBAA0B,sBACzC,EACQ+C,GAAOC,IACTD,EAAI,UAAU,OAAO,SAAU/C,CAAM,EACrCgD,EAAK,UAAU,OAAO,SAAU,CAAChD,CAAM,EAE3C,EAEAiD,EACGH,GAASA,EAAM,SAAQ,GACnB,SAAS,gBAAgB,aAAa,YAAY,GAClD,KACT,EAEMA,GACFD,EAAI,iBAAiB,QAAS,IAAMI,EAAQH,EAAM,YAAY,EAAI,CAAC,CAAC,EACpEA,EAAM,SAASG,CAAO,GAGtBJ,EAAI,iBAAiB,QAAS,IAAM,CAClC,MAAMlD,EAAK,SAAS,gBAEdQ,GADMR,EAAG,aAAa,YAAY,GAAK,SACxB,MAAQ,OAAS,MACtCA,EAAG,aAAa,aAAcQ,CAAI,EAClC8C,EAAQ9C,CAAI,CACd,CAAC,CAEL,CAKO,SAASiD,IAAe,CAC7B,MAAMC,EAASrC,EAAI,YAAY,EAC/B,GAAKqC,EAAO,OACZ,UAAWzM,KAAQyM,EAAQ,CACzB,MAAMC,EAAM1M,EAAK,cACjB,GAAI,CAAC0M,GAAOA,EAAI,cAAc,mBAAmB,EAAG,SACpD,MAAMT,EAAM,SAAS,cAAc,QAAQ,EAC3CA,EAAI,KAAO,SACXA,EAAI,QAAQ,KAAO,GACnBA,EAAI,UAAY,+BAChBA,EAAI,YAAc,OAClBA,EAAI,MAAM,aAAe,SACzBA,EAAI,iBAAiB,QAAS,SAAY,CACxC,GAAI,CACF,MAAM,UAAU,UAAU,UAAUjM,EAAK,aAAe,EAAE,EAC1D,MAAMwL,EAAOS,EAAI,YACjBA,EAAI,YAAc,SAClB,WAAW,IAAOA,EAAI,YAAcT,EAAO,IAAI,CACjD,MAAQ,CAAC,CACX,CAAC,EACDkB,EAAI,aAAaT,EAAKjM,CAAI,CAC5B,CACF,CAKO,SAAS2M,IAAkB,CAChC,MAAMC,EAAUxC,EAAI,eAAe,EAC7B9R,EAAQ8R,EAAI,iBAAiB,EACnC,GAAI,CAACwC,EAAQ,QAAU,CAACtU,EAAM,OAAQ,OAEtC,MAAMuU,EAAQC,GAAU,CACtB,UAAWC,KAAMzU,EAAO,CACtB,MAAM2K,EAAO8J,EAAG,QAAQ,KACxBA,EAAG,UAAU,OAAO,SAAUD,IAAW,OAAS7J,IAAS6J,CAAM,CACnE,CACF,EAEA,UAAWb,KAAOW,EAChBX,EAAI,iBAAiB,QAAS,IAAM,CAClC,UAAWhT,KAAK2T,EACd3T,EAAE,aAAa,eAAgBA,IAAMgT,EAAM,OAAS,OAAO,EAE7DY,EAAMZ,EAAI,QAAQ,QAAU,KAAK,CACnC,CAAC,CAEL,CAMO,SAASe,IAAoB,CAClC,MAAM1N,EAAO,SAAS,MAAQ,SAAS,gBACjC2N,EAAa3N,GAAM,SAAS,QAAU,OAAS,aAAa,QAAQ,WAAW,IAAM,IACrF4N,EAAU,IAAI,gBAAgB,SAAS,MAAM,EAAE,IAAI,SAAS,IAAM,KACnE5N,GAAM,SAAS,UAAY,IAC1B6N,EAAO,OAAO,aAAa,qBAAqB,GAAG,SAAW,GAKpE,GAAI,EAFe,CAACF,IAAeC,GAAYC,GAAQ,CAAC7C,GAAQ,GAAM,CAACD,OAEtD,OAEjB,MAAM+C,EAAW,IAAKC,GAAA,IAAC,OAAO,6BAAoB,MAAE,MAAM,IAAM,CAAC,CAAC,EAC9D,wBAAyB,OAE3B,oBAAoB,IAAMD,EAAQ,EAAI,CAAE,QAAS,GAAI,CAAE,EAEvD,WAAWA,EAAU,GAAG,CAE5B,CAKO,SAASE,IAAW,CACzB9C,GAAa,EACbwB,GAAe,EACfQ,GAAY,EACZG,GAAe,EACfK,GAAiB,CACnB,CC5QAhD,GAAQ,IAAM,CACZsD,GAAQ,CACV,CAAC","names":["defaultIconDimensions","defaultIconTransformations","defaultIconProps","defaultExtendedIconProps","defaultIconSizeCustomisations","defaultIconCustomisations","rotateFromString","value","defaultValue","units","cleanup","value$1","num","split","separator","flipFromString","custom","flip","str","defaultCustomisations","getCustomisations","node","customisations","attr","key","def","haveCustomisationsChanged","value1","value2","matchIconName","stringToIcon","validate","allowSimpleName","provider","colonSeparated","name$1","prefix","result","validateIconName","name","dashSeparated","icon","getIconsTree","data","names","icons","aliases","resolved","resolve","parent","mergeIconTransformations","obj1","obj2","rotate","mergeIconData","child","internalGetIconData","tree","currentProps","parse","parseIconSet","callback","item","optionalPropertyDefaults","checkOptionalProps","defaults","prop","quicklyValidateIconSet","obj","dataStorage","newStorage","getStorage","providerStorage","addIconSet","storage","addIconToStorage","listIcons$1","allIcons","provider$1","prefix$1","simpleNames","allowSimpleNames","allow","getIconData","iconName","addIcon$1","addCollection$1","added","iconLoaded$1","getIcon$1","removeCallback","storages","id","items","row","updateCallbacks","hasPending","oldLength","idCounter","storeCallback","pendingSources","abort","sortIcons","a","b","lastIcon","localStorage","list","setAPIModule","getAPIModule","listToIcons","createAPIConfig","source","resources","configStorage","fallBackAPISources","fallBackAPI","addAPIProvider$1","customConfig","config","getAPIConfig","listAPIProviders","defaultConfig","sendQuery","payload","query","done","resourcesCount","startIndex","nextIndex","startTime","status","queriesSent","lastError","timer","queue","doneCallbacks","resetTimer","subscribe","overwrite","getQueryStatus","failQuery","clearQueue","moduleResponse","response","isError","queued","execNext","index","resource","status$1","initRedundancy","cfg","queries","queryCallback","doneCallback","query$1","error","find","emptyCallback$1","redundancyCache","getRedundancyCache","redundancy","cachedReundancy","sendAPIQuery","target","send","api","cached","moduleKey","emptyCallback","loadedNewIcons","checkIconNamesForAPI","valid","invalid","parseLoaderResponse","checkMissing","pending","err","parsePossiblyAsyncResponse","loadNewIcons","icons$1","customIconLoader","iconSet","loadIcons$1","cleanedIcons","sortedIcons","callCallback","newIcons","sources","lastProvider","lastPrefix","providerNewIcons","pendingQueue","loadIcon$1","fulfill","reject","iconObj","loaded","testIconObject","parseIconValue","onload","loading","isBuggedSafari","getRenderMode","body","mode","unitsSplit","unitsTest","calculateSize$1","size","ratio","precision","oldParts","newParts","code","isNumber","splitSVGDefs","content","tag","defs","start","end","endEnd","mergeDefsAndContent","wrapSVGContent","isUnsetKeyword","iconToSVG","fullIcon","fullCustomisations","box","props","transformations","hFlip","vFlip","rotation","tempValue","customisationsWidth","customisationsHeight","boxWidth","boxHeight","width","height","attributes","setAttr","viewBox","iconToHTML$1","renderAttribsHTML","encodeSVGforURL","svg","svgToData","svgToURL$1","detectFetch","fetchModule","setFetch","fetch$1","getFetch","calculateMaxLength","maxHostLength","url","shouldAbort","prepare","results","maxLength","type","length","getPath","host","params","path","iconsList","urlParams","uri","defaultError","fetchAPIModule","setCustomIconsLoader$1","loader","setCustomIconLoader$1","nodeAttr","customStyle","appendCustomStyle","style","updateStyle","inline","styleNode","exportFunctions","_window","preload","providers","monotoneProps","coloredProps","propsToAdd","propsToAddTo","fixSize","renderSPAN","useMask","renderAttribs","html","svgStyle","styles","policy","createPolicy","s","cleanUpInnerHTML","renderSVG","findIconElement","renderIcon","state","iconData","renderData","oldNode","setPendingState","lastState","lastRender","defineIconifyIcon","customElements","ParentClass","ConflictingClass","IconifyIcon","root","newInline","newIcon","newValue","attrMode","renderedMode","entries","intersecting","entry","functions","IconifyIconComponent","iconLoaded","getIcon","listIcons","addIcon","addCollection","calculateSize","buildIcon","iconToHTML","svgToURL","loadIcons","loadIcon","setCustomIconLoader","setCustomIconsLoader","addAPIProvider","_api","global","STORAGE_KEY","THEMES","LIGHT_NAME","DARK_NAME","DEFAULT","ALLOWED","normalize","syncAllowed","merged","configure","opts","getTheme","el","t","setTheme","persist","meta","isDark","toggleTheme","cur","next","initEarly","stored","picked","m","onChange","handler","fn","e","onReady","cb","qs","sel","qsa","prefersReducedMotion","saveData","c","initFootnotes","getHeaderEl","readCssVar","calcHeaderHeight","fromVar","h","r","setVar","px","updateHeaderVar","resizeRaf","onResize","isFnHash","href","applyHighlight","hadTabindex","prev","smoothScrollTo","skipHistory","header","rect","top","handleInitial","hash","initThemeToggle","btn","utils","sun","moon","reflect","theme","dark","initCodeCopy","blocks","pre","initWorkFilters","buttons","apply","filter","li","initOverlayLoader","overlayOff","forceOn","isLg","doImport","__vitePreload","bootSite"],"ignoreList":[0],"sources":["../../node_modules/iconify-icon/dist/iconify-icon.mjs","../../src/assets/js/theme-utils.js","../../src/assets/js/site-init.js","../../src/assets/js/app.js"],"sourcesContent":["/**\n* (c) Iconify\n*\n* For the full copyright and license information, please view the license.txt\n* files at https://github.com/iconify/iconify\n*\n* Licensed under MIT.\n*\n* @license MIT\n* @version 3.0.1\n*/\n/**\n* Default values for dimensions\n*/\nconst defaultIconDimensions = Object.freeze({\n\tleft: 0,\n\ttop: 0,\n\twidth: 16,\n\theight: 16\n});\n/**\n* Default values for transformations\n*/\nconst defaultIconTransformations = Object.freeze({\n\trotate: 0,\n\tvFlip: false,\n\thFlip: false\n});\n/**\n* Default values for all optional IconifyIcon properties\n*/\nconst defaultIconProps = Object.freeze({\n\t...defaultIconDimensions,\n\t...defaultIconTransformations\n});\n/**\n* Default values for all properties used in ExtendedIconifyIcon\n*/\nconst defaultExtendedIconProps = Object.freeze({\n\t...defaultIconProps,\n\tbody: \"\",\n\thidden: false\n});\n\n/**\n* Default icon customisations values\n*/\nconst defaultIconSizeCustomisations = Object.freeze({\n\twidth: null,\n\theight: null\n});\nconst defaultIconCustomisations = Object.freeze({\n\t...defaultIconSizeCustomisations,\n\t...defaultIconTransformations\n});\n\n/**\n* Get rotation value\n*/\nfunction rotateFromString(value, defaultValue = 0) {\n\tconst units = value.replace(/^-?[0-9.]*/, \"\");\n\tfunction cleanup(value$1) {\n\t\twhile (value$1 < 0) value$1 += 4;\n\t\treturn value$1 % 4;\n\t}\n\tif (units === \"\") {\n\t\tconst num = parseInt(value);\n\t\treturn isNaN(num) ? 0 : cleanup(num);\n\t} else if (units !== value) {\n\t\tlet split = 0;\n\t\tswitch (units) {\n\t\t\tcase \"%\":\n\t\t\t\tsplit = 25;\n\t\t\t\tbreak;\n\t\t\tcase \"deg\": split = 90;\n\t\t}\n\t\tif (split) {\n\t\t\tlet num = parseFloat(value.slice(0, value.length - units.length));\n\t\t\tif (isNaN(num)) return 0;\n\t\t\tnum = num / split;\n\t\t\treturn num % 1 === 0 ? cleanup(num) : 0;\n\t\t}\n\t}\n\treturn defaultValue;\n}\n\nconst separator = /[\\s,]+/;\n/**\n* Apply \"flip\" string to icon customisations\n*/\nfunction flipFromString(custom, flip) {\n\tflip.split(separator).forEach((str) => {\n\t\tconst value = str.trim();\n\t\tswitch (value) {\n\t\t\tcase \"horizontal\":\n\t\t\t\tcustom.hFlip = true;\n\t\t\t\tbreak;\n\t\t\tcase \"vertical\":\n\t\t\t\tcustom.vFlip = true;\n\t\t\t\tbreak;\n\t\t}\n\t});\n}\n\nconst defaultCustomisations = {\n    ...defaultIconCustomisations,\n    preserveAspectRatio: '',\n};\n/**\n * Get customisations\n */\nfunction getCustomisations(node) {\n    const customisations = {\n        ...defaultCustomisations,\n    };\n    const attr = (key, def) => node.getAttribute(key) || def;\n    // Dimensions\n    customisations.width = attr('width', null);\n    customisations.height = attr('height', null);\n    // Rotation\n    customisations.rotate = rotateFromString(attr('rotate', ''));\n    // Flip\n    flipFromString(customisations, attr('flip', ''));\n    // SVG attributes\n    customisations.preserveAspectRatio = attr('preserveAspectRatio', attr('preserveaspectratio', ''));\n    return customisations;\n}\n/**\n * Check if customisations have been updated\n */\nfunction haveCustomisationsChanged(value1, value2) {\n    for (const key in defaultCustomisations) {\n        if (value1[key] !== value2[key]) {\n            return true;\n        }\n    }\n    return false;\n}\n\n/**\n* Expression to test part of icon name.\n*\n* Used when loading icons from Iconify API due to project naming convension.\n* Ignored when using custom icon sets - convension does not apply.\n*/\nconst matchIconName = /^[a-z0-9]+(-[a-z0-9]+)*$/;\n/**\n* Convert string icon name to IconifyIconName object.\n*/\nconst stringToIcon = (value, validate, allowSimpleName, provider = \"\") => {\n\tconst colonSeparated = value.split(\":\");\n\tif (value.slice(0, 1) === \"@\") {\n\t\tif (colonSeparated.length < 2 || colonSeparated.length > 3) return null;\n\t\tprovider = colonSeparated.shift().slice(1);\n\t}\n\tif (colonSeparated.length > 3 || !colonSeparated.length) return null;\n\tif (colonSeparated.length > 1) {\n\t\tconst name$1 = colonSeparated.pop();\n\t\tconst prefix = colonSeparated.pop();\n\t\tconst result = {\n\t\t\tprovider: colonSeparated.length > 0 ? colonSeparated[0] : provider,\n\t\t\tprefix,\n\t\t\tname: name$1\n\t\t};\n\t\treturn validate && !validateIconName(result) ? null : result;\n\t}\n\tconst name = colonSeparated[0];\n\tconst dashSeparated = name.split(\"-\");\n\tif (dashSeparated.length > 1) {\n\t\tconst result = {\n\t\t\tprovider,\n\t\t\tprefix: dashSeparated.shift(),\n\t\t\tname: dashSeparated.join(\"-\")\n\t\t};\n\t\treturn validate && !validateIconName(result) ? null : result;\n\t}\n\tif (allowSimpleName && provider === \"\") {\n\t\tconst result = {\n\t\t\tprovider,\n\t\t\tprefix: \"\",\n\t\t\tname\n\t\t};\n\t\treturn validate && !validateIconName(result, allowSimpleName) ? null : result;\n\t}\n\treturn null;\n};\n/**\n* Check if icon is valid.\n*\n* This function is not part of stringToIcon because validation is not needed for most code.\n*/\nconst validateIconName = (icon, allowSimpleName) => {\n\tif (!icon) return false;\n\treturn !!((allowSimpleName && icon.prefix === \"\" || !!icon.prefix) && !!icon.name);\n};\n\n/**\n* Resolve icon set icons\n*\n* Returns parent icon for each icon\n*/\nfunction getIconsTree(data, names) {\n\tconst icons = data.icons;\n\tconst aliases = data.aliases || Object.create(null);\n\tconst resolved = Object.create(null);\n\tfunction resolve(name) {\n\t\tif (icons[name]) return resolved[name] = [];\n\t\tif (!(name in resolved)) {\n\t\t\tresolved[name] = null;\n\t\t\tconst parent = aliases[name] && aliases[name].parent;\n\t\t\tconst value = parent && resolve(parent);\n\t\t\tif (value) resolved[name] = [parent].concat(value);\n\t\t}\n\t\treturn resolved[name];\n\t}\n\t(Object.keys(icons).concat(Object.keys(aliases))).forEach(resolve);\n\treturn resolved;\n}\n\n/**\n* Merge transformations\n*/\nfunction mergeIconTransformations(obj1, obj2) {\n\tconst result = {};\n\tif (!obj1.hFlip !== !obj2.hFlip) result.hFlip = true;\n\tif (!obj1.vFlip !== !obj2.vFlip) result.vFlip = true;\n\tconst rotate = ((obj1.rotate || 0) + (obj2.rotate || 0)) % 4;\n\tif (rotate) result.rotate = rotate;\n\treturn result;\n}\n\n/**\n* Merge icon and alias\n*\n* Can also be used to merge default values and icon\n*/\nfunction mergeIconData(parent, child) {\n\tconst result = mergeIconTransformations(parent, child);\n\tfor (const key in defaultExtendedIconProps) if (key in defaultIconTransformations) {\n\t\tif (key in parent && !(key in result)) result[key] = defaultIconTransformations[key];\n\t} else if (key in child) result[key] = child[key];\n\telse if (key in parent) result[key] = parent[key];\n\treturn result;\n}\n\n/**\n* Get icon data, using prepared aliases tree\n*/\nfunction internalGetIconData(data, name, tree) {\n\tconst icons = data.icons;\n\tconst aliases = data.aliases || Object.create(null);\n\tlet currentProps = {};\n\tfunction parse(name$1) {\n\t\tcurrentProps = mergeIconData(icons[name$1] || aliases[name$1], currentProps);\n\t}\n\tparse(name);\n\ttree.forEach(parse);\n\treturn mergeIconData(data, currentProps);\n}\n\n/**\n* Extract icons from an icon set\n*\n* Returns list of icons that were found in icon set\n*/\nfunction parseIconSet(data, callback) {\n\tconst names = [];\n\tif (typeof data !== \"object\" || typeof data.icons !== \"object\") return names;\n\tif (data.not_found instanceof Array) data.not_found.forEach((name) => {\n\t\tcallback(name, null);\n\t\tnames.push(name);\n\t});\n\tconst tree = getIconsTree(data);\n\tfor (const name in tree) {\n\t\tconst item = tree[name];\n\t\tif (item) {\n\t\t\tcallback(name, internalGetIconData(data, name, item));\n\t\t\tnames.push(name);\n\t\t}\n\t}\n\treturn names;\n}\n\n/**\n* Optional properties\n*/\nconst optionalPropertyDefaults = {\n\tprovider: \"\",\n\taliases: {},\n\tnot_found: {},\n\t...defaultIconDimensions\n};\n/**\n* Check props\n*/\nfunction checkOptionalProps(item, defaults) {\n\tfor (const prop in defaults) if (prop in item && typeof item[prop] !== typeof defaults[prop]) return false;\n\treturn true;\n}\n/**\n* Validate icon set, return it as IconifyJSON on success, null on failure\n*\n* Unlike validateIconSet(), this function is very basic.\n* It does not throw exceptions, it does not check metadata, it does not fix stuff.\n*/\nfunction quicklyValidateIconSet(obj) {\n\tif (typeof obj !== \"object\" || obj === null) return null;\n\tconst data = obj;\n\tif (typeof data.prefix !== \"string\" || !obj.icons || typeof obj.icons !== \"object\") return null;\n\tif (!checkOptionalProps(obj, optionalPropertyDefaults)) return null;\n\tconst icons = data.icons;\n\tfor (const name in icons) {\n\t\tconst icon = icons[name];\n\t\tif (!name || typeof icon.body !== \"string\" || !checkOptionalProps(icon, defaultExtendedIconProps)) return null;\n\t}\n\tconst aliases = data.aliases || Object.create(null);\n\tfor (const name in aliases) {\n\t\tconst icon = aliases[name];\n\t\tconst parent = icon.parent;\n\t\tif (!name || typeof parent !== \"string\" || !icons[parent] && !aliases[parent] || !checkOptionalProps(icon, defaultExtendedIconProps)) return null;\n\t}\n\treturn data;\n}\n\n/**\n* Storage by provider and prefix\n*/\nconst dataStorage = Object.create(null);\n/**\n* Create new storage\n*/\nfunction newStorage(provider, prefix) {\n\treturn {\n\t\tprovider,\n\t\tprefix,\n\t\ticons: Object.create(null),\n\t\tmissing: /* @__PURE__ */ new Set()\n\t};\n}\n/**\n* Get storage for provider and prefix\n*/\nfunction getStorage(provider, prefix) {\n\tconst providerStorage = dataStorage[provider] || (dataStorage[provider] = Object.create(null));\n\treturn providerStorage[prefix] || (providerStorage[prefix] = newStorage(provider, prefix));\n}\n/**\n* Add icon set to storage\n*\n* Returns array of added icons\n*/\nfunction addIconSet(storage, data) {\n\tif (!quicklyValidateIconSet(data)) return [];\n\treturn parseIconSet(data, (name, icon) => {\n\t\tif (icon) storage.icons[name] = icon;\n\t\telse storage.missing.add(name);\n\t});\n}\n/**\n* Add icon to storage\n*/\nfunction addIconToStorage(storage, name, icon) {\n\ttry {\n\t\tif (typeof icon.body === \"string\") {\n\t\t\tstorage.icons[name] = { ...icon };\n\t\t\treturn true;\n\t\t}\n\t} catch (err) {}\n\treturn false;\n}\n/**\n* List available icons\n*/\nfunction listIcons$1(provider, prefix) {\n\tlet allIcons = [];\n\tconst providers = typeof provider === \"string\" ? [provider] : Object.keys(dataStorage);\n\tproviders.forEach((provider$1) => {\n\t\tconst prefixes = typeof provider$1 === \"string\" && typeof prefix === \"string\" ? [prefix] : Object.keys(dataStorage[provider$1] || {});\n\t\tprefixes.forEach((prefix$1) => {\n\t\t\tconst storage = getStorage(provider$1, prefix$1);\n\t\t\tallIcons = allIcons.concat(Object.keys(storage.icons).map((name) => (provider$1 !== \"\" ? \"@\" + provider$1 + \":\" : \"\") + prefix$1 + \":\" + name));\n\t\t});\n\t});\n\treturn allIcons;\n}\n\n/**\n* Allow storing icons without provider or prefix, making it possible to store icons like \"home\"\n*/\nlet simpleNames = false;\nfunction allowSimpleNames(allow) {\n\tif (typeof allow === \"boolean\") simpleNames = allow;\n\treturn simpleNames;\n}\n/**\n* Get icon data\n*\n* Returns:\n* - IconifyIcon on success, object directly from storage so don't modify it\n* - null if icon is marked as missing (returned in `not_found` property from API, so don't bother sending API requests)\n* - undefined if icon is missing in storage\n*/\nfunction getIconData(name) {\n\tconst icon = typeof name === \"string\" ? stringToIcon(name, true, simpleNames) : name;\n\tif (icon) {\n\t\tconst storage = getStorage(icon.provider, icon.prefix);\n\t\tconst iconName = icon.name;\n\t\treturn storage.icons[iconName] || (storage.missing.has(iconName) ? null : void 0);\n\t}\n}\n/**\n* Add one icon\n*/\nfunction addIcon$1(name, data) {\n\tconst icon = stringToIcon(name, true, simpleNames);\n\tif (!icon) return false;\n\tconst storage = getStorage(icon.provider, icon.prefix);\n\tif (data) return addIconToStorage(storage, icon.name, data);\n\telse {\n\t\tstorage.missing.add(icon.name);\n\t\treturn true;\n\t}\n}\n/**\n* Add icon set\n*/\nfunction addCollection$1(data, provider) {\n\tif (typeof data !== \"object\") return false;\n\tif (typeof provider !== \"string\") provider = data.provider || \"\";\n\tif (simpleNames && !provider && !data.prefix) {\n\t\tlet added = false;\n\t\tif (quicklyValidateIconSet(data)) {\n\t\t\tdata.prefix = \"\";\n\t\t\tparseIconSet(data, (name, icon) => {\n\t\t\t\tif (addIcon$1(name, icon)) added = true;\n\t\t\t});\n\t\t}\n\t\treturn added;\n\t}\n\tconst prefix = data.prefix;\n\tif (!validateIconName({\n\t\tprefix,\n\t\tname: \"a\"\n\t})) return false;\n\tconst storage = getStorage(provider, prefix);\n\treturn !!addIconSet(storage, data);\n}\n/**\n* Check if icon data is available\n*/\nfunction iconLoaded$1(name) {\n\treturn !!getIconData(name);\n}\n/**\n* Get full icon\n*/\nfunction getIcon$1(name) {\n\tconst result = getIconData(name);\n\treturn result ? {\n\t\t...defaultIconProps,\n\t\t...result\n\t} : result;\n}\n\n/**\n* Remove callback\n*/\nfunction removeCallback(storages, id) {\n\tstorages.forEach((storage) => {\n\t\tconst items = storage.loaderCallbacks;\n\t\tif (items) storage.loaderCallbacks = items.filter((row) => row.id !== id);\n\t});\n}\n/**\n* Update all callbacks for provider and prefix\n*/\nfunction updateCallbacks(storage) {\n\tif (!storage.pendingCallbacksFlag) {\n\t\tstorage.pendingCallbacksFlag = true;\n\t\tsetTimeout(() => {\n\t\t\tstorage.pendingCallbacksFlag = false;\n\t\t\tconst items = storage.loaderCallbacks ? storage.loaderCallbacks.slice(0) : [];\n\t\t\tif (!items.length) return;\n\t\t\tlet hasPending = false;\n\t\t\tconst provider = storage.provider;\n\t\t\tconst prefix = storage.prefix;\n\t\t\titems.forEach((item) => {\n\t\t\t\tconst icons = item.icons;\n\t\t\t\tconst oldLength = icons.pending.length;\n\t\t\t\ticons.pending = icons.pending.filter((icon) => {\n\t\t\t\t\tif (icon.prefix !== prefix) return true;\n\t\t\t\t\tconst name = icon.name;\n\t\t\t\t\tif (storage.icons[name]) icons.loaded.push({\n\t\t\t\t\t\tprovider,\n\t\t\t\t\t\tprefix,\n\t\t\t\t\t\tname\n\t\t\t\t\t});\n\t\t\t\t\telse if (storage.missing.has(name)) icons.missing.push({\n\t\t\t\t\t\tprovider,\n\t\t\t\t\t\tprefix,\n\t\t\t\t\t\tname\n\t\t\t\t\t});\n\t\t\t\t\telse {\n\t\t\t\t\t\thasPending = true;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\tif (icons.pending.length !== oldLength) {\n\t\t\t\t\tif (!hasPending) removeCallback([storage], item.id);\n\t\t\t\t\titem.callback(icons.loaded.slice(0), icons.missing.slice(0), icons.pending.slice(0), item.abort);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\n/**\n* Unique id counter for callbacks\n*/\nlet idCounter = 0;\n/**\n* Add callback\n*/\nfunction storeCallback(callback, icons, pendingSources) {\n\tconst id = idCounter++;\n\tconst abort = removeCallback.bind(null, pendingSources, id);\n\tif (!icons.pending.length) return abort;\n\tconst item = {\n\t\tid,\n\t\ticons,\n\t\tcallback,\n\t\tabort\n\t};\n\tpendingSources.forEach((storage) => {\n\t\t(storage.loaderCallbacks || (storage.loaderCallbacks = [])).push(item);\n\t});\n\treturn abort;\n}\n\n/**\n* Check if icons have been loaded\n*/\nfunction sortIcons(icons) {\n\tconst result = {\n\t\tloaded: [],\n\t\tmissing: [],\n\t\tpending: []\n\t};\n\tconst storage = Object.create(null);\n\ticons.sort((a, b) => {\n\t\tif (a.provider !== b.provider) return a.provider.localeCompare(b.provider);\n\t\tif (a.prefix !== b.prefix) return a.prefix.localeCompare(b.prefix);\n\t\treturn a.name.localeCompare(b.name);\n\t});\n\tlet lastIcon = {\n\t\tprovider: \"\",\n\t\tprefix: \"\",\n\t\tname: \"\"\n\t};\n\ticons.forEach((icon) => {\n\t\tif (lastIcon.name === icon.name && lastIcon.prefix === icon.prefix && lastIcon.provider === icon.provider) return;\n\t\tlastIcon = icon;\n\t\tconst provider = icon.provider;\n\t\tconst prefix = icon.prefix;\n\t\tconst name = icon.name;\n\t\tconst providerStorage = storage[provider] || (storage[provider] = Object.create(null));\n\t\tconst localStorage = providerStorage[prefix] || (providerStorage[prefix] = getStorage(provider, prefix));\n\t\tlet list;\n\t\tif (name in localStorage.icons) list = result.loaded;\n\t\telse if (prefix === \"\" || localStorage.missing.has(name)) list = result.missing;\n\t\telse list = result.pending;\n\t\tconst item = {\n\t\t\tprovider,\n\t\t\tprefix,\n\t\t\tname\n\t\t};\n\t\tlist.push(item);\n\t});\n\treturn result;\n}\n\n/**\n* Local storate types and entries\n*/\nconst storage = Object.create(null);\n/**\n* Set API module\n*/\nfunction setAPIModule(provider, item) {\n\tstorage[provider] = item;\n}\n/**\n* Get API module\n*/\nfunction getAPIModule(provider) {\n\treturn storage[provider] || storage[\"\"];\n}\n\n/**\n* Convert icons list from string/icon mix to icons and validate them\n*/\nfunction listToIcons(list, validate = true, simpleNames = false) {\n\tconst result = [];\n\tlist.forEach((item) => {\n\t\tconst icon = typeof item === \"string\" ? stringToIcon(item, validate, simpleNames) : item;\n\t\tif (icon) result.push(icon);\n\t});\n\treturn result;\n}\n\n/**\n* Create full API configuration from partial data\n*/\nfunction createAPIConfig(source) {\n\tlet resources;\n\tif (typeof source.resources === \"string\") resources = [source.resources];\n\telse {\n\t\tresources = source.resources;\n\t\tif (!(resources instanceof Array) || !resources.length) return null;\n\t}\n\tconst result = {\n\t\tresources,\n\t\tpath: source.path || \"/\",\n\t\tmaxURL: source.maxURL || 500,\n\t\trotate: source.rotate || 750,\n\t\ttimeout: source.timeout || 5e3,\n\t\trandom: source.random === true,\n\t\tindex: source.index || 0,\n\t\tdataAfterTimeout: source.dataAfterTimeout !== false\n\t};\n\treturn result;\n}\n/**\n* Local storage\n*/\nconst configStorage = Object.create(null);\n/**\n* Redundancy for API servers.\n*\n* API should have very high uptime because of implemented redundancy at server level, but\n* sometimes bad things happen. On internet 100% uptime is not possible.\n*\n* There could be routing problems. Server might go down for whatever reason, but it takes\n* few minutes to detect that downtime, so during those few minutes API might not be accessible.\n*\n* This script has some redundancy to mitigate possible network issues.\n*\n* If one host cannot be reached in 'rotate' (750 by default) ms, script will try to retrieve\n* data from different host. Hosts have different configurations, pointing to different\n* API servers hosted at different providers.\n*/\nconst fallBackAPISources = [\"https://api.simplesvg.com\", \"https://api.unisvg.com\"];\nconst fallBackAPI = [];\nwhile (fallBackAPISources.length > 0) if (fallBackAPISources.length === 1) fallBackAPI.push(fallBackAPISources.shift());\nelse if (Math.random() > .5) fallBackAPI.push(fallBackAPISources.shift());\nelse fallBackAPI.push(fallBackAPISources.pop());\nconfigStorage[\"\"] = createAPIConfig({ resources: [\"https://api.iconify.design\"].concat(fallBackAPI) });\n/**\n* Add custom config for provider\n*/\nfunction addAPIProvider$1(provider, customConfig) {\n\tconst config = createAPIConfig(customConfig);\n\tif (config === null) return false;\n\tconfigStorage[provider] = config;\n\treturn true;\n}\n/**\n* Get API configuration\n*/\nfunction getAPIConfig(provider) {\n\treturn configStorage[provider];\n}\n/**\n* List API providers\n*/\nfunction listAPIProviders() {\n\treturn Object.keys(configStorage);\n}\n\n/**\n* Default RedundancyConfig for API calls\n*/\nconst defaultConfig = {\n\tresources: [],\n\tindex: 0,\n\ttimeout: 2e3,\n\trotate: 750,\n\trandom: false,\n\tdataAfterTimeout: false\n};\n\n/**\n* Send query\n*/\nfunction sendQuery(config, payload, query, done) {\n\tconst resourcesCount = config.resources.length;\n\tconst startIndex = config.random ? Math.floor(Math.random() * resourcesCount) : config.index;\n\tlet resources;\n\tif (config.random) {\n\t\tlet list = config.resources.slice(0);\n\t\tresources = [];\n\t\twhile (list.length > 1) {\n\t\t\tconst nextIndex = Math.floor(Math.random() * list.length);\n\t\t\tresources.push(list[nextIndex]);\n\t\t\tlist = list.slice(0, nextIndex).concat(list.slice(nextIndex + 1));\n\t\t}\n\t\tresources = resources.concat(list);\n\t} else resources = config.resources.slice(startIndex).concat(config.resources.slice(0, startIndex));\n\tconst startTime = Date.now();\n\tlet status = \"pending\";\n\tlet queriesSent = 0;\n\tlet lastError;\n\tlet timer = null;\n\tlet queue = [];\n\tlet doneCallbacks = [];\n\tif (typeof done === \"function\") doneCallbacks.push(done);\n\t/**\n\t* Reset timer\n\t*/\n\tfunction resetTimer() {\n\t\tif (timer) {\n\t\t\tclearTimeout(timer);\n\t\t\ttimer = null;\n\t\t}\n\t}\n\t/**\n\t* Abort everything\n\t*/\n\tfunction abort() {\n\t\tif (status === \"pending\") status = \"aborted\";\n\t\tresetTimer();\n\t\tqueue.forEach((item) => {\n\t\t\tif (item.status === \"pending\") item.status = \"aborted\";\n\t\t});\n\t\tqueue = [];\n\t}\n\t/**\n\t* Add / replace callback to call when execution is complete.\n\t* This can be used to abort pending query implementations when query is complete or aborted.\n\t*/\n\tfunction subscribe(callback, overwrite) {\n\t\tif (overwrite) doneCallbacks = [];\n\t\tif (typeof callback === \"function\") doneCallbacks.push(callback);\n\t}\n\t/**\n\t* Get query status\n\t*/\n\tfunction getQueryStatus() {\n\t\treturn {\n\t\t\tstartTime,\n\t\t\tpayload,\n\t\t\tstatus,\n\t\t\tqueriesSent,\n\t\t\tqueriesPending: queue.length,\n\t\t\tsubscribe,\n\t\t\tabort\n\t\t};\n\t}\n\t/**\n\t* Fail query\n\t*/\n\tfunction failQuery() {\n\t\tstatus = \"failed\";\n\t\tdoneCallbacks.forEach((callback) => {\n\t\t\tcallback(void 0, lastError);\n\t\t});\n\t}\n\t/**\n\t* Clear queue\n\t*/\n\tfunction clearQueue() {\n\t\tqueue.forEach((item) => {\n\t\t\tif (item.status === \"pending\") item.status = \"aborted\";\n\t\t});\n\t\tqueue = [];\n\t}\n\t/**\n\t* Got response from module\n\t*/\n\tfunction moduleResponse(item, response, data) {\n\t\tconst isError = response !== \"success\";\n\t\tqueue = queue.filter((queued) => queued !== item);\n\t\tswitch (status) {\n\t\t\tcase \"pending\": break;\n\t\t\tcase \"failed\":\n\t\t\t\tif (isError || !config.dataAfterTimeout) return;\n\t\t\t\tbreak;\n\t\t\tdefault: return;\n\t\t}\n\t\tif (response === \"abort\") {\n\t\t\tlastError = data;\n\t\t\tfailQuery();\n\t\t\treturn;\n\t\t}\n\t\tif (isError) {\n\t\t\tlastError = data;\n\t\t\tif (!queue.length) if (!resources.length) failQuery();\n\t\t\telse execNext();\n\t\t\treturn;\n\t\t}\n\t\tresetTimer();\n\t\tclearQueue();\n\t\tif (!config.random) {\n\t\t\tconst index = config.resources.indexOf(item.resource);\n\t\t\tif (index !== -1 && index !== config.index) config.index = index;\n\t\t}\n\t\tstatus = \"completed\";\n\t\tdoneCallbacks.forEach((callback) => {\n\t\t\tcallback(data);\n\t\t});\n\t}\n\t/**\n\t* Execute next query\n\t*/\n\tfunction execNext() {\n\t\tif (status !== \"pending\") return;\n\t\tresetTimer();\n\t\tconst resource = resources.shift();\n\t\tif (resource === void 0) {\n\t\t\tif (queue.length) {\n\t\t\t\ttimer = setTimeout(() => {\n\t\t\t\t\tresetTimer();\n\t\t\t\t\tif (status === \"pending\") {\n\t\t\t\t\t\tclearQueue();\n\t\t\t\t\t\tfailQuery();\n\t\t\t\t\t}\n\t\t\t\t}, config.timeout);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfailQuery();\n\t\t\treturn;\n\t\t}\n\t\tconst item = {\n\t\t\tstatus: \"pending\",\n\t\t\tresource,\n\t\t\tcallback: (status$1, data) => {\n\t\t\t\tmoduleResponse(item, status$1, data);\n\t\t\t}\n\t\t};\n\t\tqueue.push(item);\n\t\tqueriesSent++;\n\t\ttimer = setTimeout(execNext, config.rotate);\n\t\tquery(resource, payload, item.callback);\n\t}\n\tsetTimeout(execNext);\n\treturn getQueryStatus;\n}\n\n/**\n* Redundancy instance\n*/\nfunction initRedundancy(cfg) {\n\tconst config = {\n\t\t...defaultConfig,\n\t\t...cfg\n\t};\n\tlet queries = [];\n\t/**\n\t* Remove aborted and completed queries\n\t*/\n\tfunction cleanup() {\n\t\tqueries = queries.filter((item) => item().status === \"pending\");\n\t}\n\t/**\n\t* Send query\n\t*/\n\tfunction query(payload, queryCallback, doneCallback) {\n\t\tconst query$1 = sendQuery(config, payload, queryCallback, (data, error) => {\n\t\t\tcleanup();\n\t\t\tif (doneCallback) doneCallback(data, error);\n\t\t});\n\t\tqueries.push(query$1);\n\t\treturn query$1;\n\t}\n\t/**\n\t* Find instance\n\t*/\n\tfunction find(callback) {\n\t\treturn queries.find((value) => {\n\t\t\treturn callback(value);\n\t\t}) || null;\n\t}\n\tconst instance = {\n\t\tquery,\n\t\tfind,\n\t\tsetIndex: (index) => {\n\t\t\tconfig.index = index;\n\t\t},\n\t\tgetIndex: () => config.index,\n\t\tcleanup\n\t};\n\treturn instance;\n}\n\nfunction emptyCallback$1() {}\nconst redundancyCache = Object.create(null);\n/**\n* Get Redundancy instance for provider\n*/\nfunction getRedundancyCache(provider) {\n\tif (!redundancyCache[provider]) {\n\t\tconst config = getAPIConfig(provider);\n\t\tif (!config) return;\n\t\tconst redundancy = initRedundancy(config);\n\t\tconst cachedReundancy = {\n\t\t\tconfig,\n\t\t\tredundancy\n\t\t};\n\t\tredundancyCache[provider] = cachedReundancy;\n\t}\n\treturn redundancyCache[provider];\n}\n/**\n* Send API query\n*/\nfunction sendAPIQuery(target, query, callback) {\n\tlet redundancy;\n\tlet send;\n\tif (typeof target === \"string\") {\n\t\tconst api = getAPIModule(target);\n\t\tif (!api) {\n\t\t\tcallback(void 0, 424);\n\t\t\treturn emptyCallback$1;\n\t\t}\n\t\tsend = api.send;\n\t\tconst cached = getRedundancyCache(target);\n\t\tif (cached) redundancy = cached.redundancy;\n\t} else {\n\t\tconst config = createAPIConfig(target);\n\t\tif (config) {\n\t\t\tredundancy = initRedundancy(config);\n\t\t\tconst moduleKey = target.resources ? target.resources[0] : \"\";\n\t\t\tconst api = getAPIModule(moduleKey);\n\t\t\tif (api) send = api.send;\n\t\t}\n\t}\n\tif (!redundancy || !send) {\n\t\tcallback(void 0, 424);\n\t\treturn emptyCallback$1;\n\t}\n\treturn redundancy.query(query, send, callback)().abort;\n}\n\nfunction emptyCallback() {}\n/**\n* Function called when new icons have been loaded\n*/\nfunction loadedNewIcons(storage) {\n\tif (!storage.iconsLoaderFlag) {\n\t\tstorage.iconsLoaderFlag = true;\n\t\tsetTimeout(() => {\n\t\t\tstorage.iconsLoaderFlag = false;\n\t\t\tupdateCallbacks(storage);\n\t\t});\n\t}\n}\n/**\n* Check icon names for API\n*/\nfunction checkIconNamesForAPI(icons) {\n\tconst valid = [];\n\tconst invalid = [];\n\ticons.forEach((name) => {\n\t\t(name.match(matchIconName) ? valid : invalid).push(name);\n\t});\n\treturn {\n\t\tvalid,\n\t\tinvalid\n\t};\n}\n/**\n* Parse loader response\n*/\nfunction parseLoaderResponse(storage, icons, data) {\n\tfunction checkMissing() {\n\t\tconst pending = storage.pendingIcons;\n\t\ticons.forEach((name) => {\n\t\t\tif (pending) pending.delete(name);\n\t\t\tif (!storage.icons[name]) storage.missing.add(name);\n\t\t});\n\t}\n\tif (data && typeof data === \"object\") try {\n\t\tconst parsed = addIconSet(storage, data);\n\t\tif (!parsed.length) {\n\t\t\tcheckMissing();\n\t\t\treturn;\n\t\t}\n\t} catch (err) {\n\t\tconsole.error(err);\n\t}\n\tcheckMissing();\n\tloadedNewIcons(storage);\n}\n/**\n* Handle response that can be async\n*/\nfunction parsePossiblyAsyncResponse(response, callback) {\n\tif (response instanceof Promise) response.then((data) => {\n\t\tcallback(data);\n\t}).catch(() => {\n\t\tcallback(null);\n\t});\n\telse callback(response);\n}\n/**\n* Load icons\n*/\nfunction loadNewIcons(storage, icons) {\n\tif (!storage.iconsToLoad) storage.iconsToLoad = icons;\n\telse storage.iconsToLoad = storage.iconsToLoad.concat(icons).sort();\n\tif (!storage.iconsQueueFlag) {\n\t\tstorage.iconsQueueFlag = true;\n\t\tsetTimeout(() => {\n\t\t\tstorage.iconsQueueFlag = false;\n\t\t\tconst { provider, prefix } = storage;\n\t\t\tconst icons$1 = storage.iconsToLoad;\n\t\t\tdelete storage.iconsToLoad;\n\t\t\tif (!icons$1 || !icons$1.length) return;\n\t\t\tconst customIconLoader = storage.loadIcon;\n\t\t\tif (storage.loadIcons && (icons$1.length > 1 || !customIconLoader)) {\n\t\t\t\tparsePossiblyAsyncResponse(storage.loadIcons(icons$1, prefix, provider), (data) => {\n\t\t\t\t\tparseLoaderResponse(storage, icons$1, data);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (customIconLoader) {\n\t\t\t\ticons$1.forEach((name) => {\n\t\t\t\t\tconst response = customIconLoader(name, prefix, provider);\n\t\t\t\t\tparsePossiblyAsyncResponse(response, (data) => {\n\t\t\t\t\t\tconst iconSet = data ? {\n\t\t\t\t\t\t\tprefix,\n\t\t\t\t\t\t\ticons: { [name]: data }\n\t\t\t\t\t\t} : null;\n\t\t\t\t\t\tparseLoaderResponse(storage, [name], iconSet);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { valid, invalid } = checkIconNamesForAPI(icons$1);\n\t\t\tif (invalid.length) parseLoaderResponse(storage, invalid, null);\n\t\t\tif (!valid.length) return;\n\t\t\tconst api = prefix.match(matchIconName) ? getAPIModule(provider) : null;\n\t\t\tif (!api) {\n\t\t\t\tparseLoaderResponse(storage, valid, null);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst params = api.prepare(provider, prefix, valid);\n\t\t\tparams.forEach((item) => {\n\t\t\t\tsendAPIQuery(provider, item, (data) => {\n\t\t\t\t\tparseLoaderResponse(storage, item.icons, data);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n}\n/**\n* Load icons\n*/\nconst loadIcons$1 = (icons, callback) => {\n\tconst cleanedIcons = listToIcons(icons, true, allowSimpleNames());\n\tconst sortedIcons = sortIcons(cleanedIcons);\n\tif (!sortedIcons.pending.length) {\n\t\tlet callCallback = true;\n\t\tif (callback) setTimeout(() => {\n\t\t\tif (callCallback) callback(sortedIcons.loaded, sortedIcons.missing, sortedIcons.pending, emptyCallback);\n\t\t});\n\t\treturn () => {\n\t\t\tcallCallback = false;\n\t\t};\n\t}\n\tconst newIcons = Object.create(null);\n\tconst sources = [];\n\tlet lastProvider, lastPrefix;\n\tsortedIcons.pending.forEach((icon) => {\n\t\tconst { provider, prefix } = icon;\n\t\tif (prefix === lastPrefix && provider === lastProvider) return;\n\t\tlastProvider = provider;\n\t\tlastPrefix = prefix;\n\t\tsources.push(getStorage(provider, prefix));\n\t\tconst providerNewIcons = newIcons[provider] || (newIcons[provider] = Object.create(null));\n\t\tif (!providerNewIcons[prefix]) providerNewIcons[prefix] = [];\n\t});\n\tsortedIcons.pending.forEach((icon) => {\n\t\tconst { provider, prefix, name } = icon;\n\t\tconst storage = getStorage(provider, prefix);\n\t\tconst pendingQueue = storage.pendingIcons || (storage.pendingIcons = /* @__PURE__ */ new Set());\n\t\tif (!pendingQueue.has(name)) {\n\t\t\tpendingQueue.add(name);\n\t\t\tnewIcons[provider][prefix].push(name);\n\t\t}\n\t});\n\tsources.forEach((storage) => {\n\t\tconst list = newIcons[storage.provider][storage.prefix];\n\t\tif (list.length) loadNewIcons(storage, list);\n\t});\n\treturn callback ? storeCallback(callback, sortedIcons, sources) : emptyCallback;\n};\n/**\n* Load one icon using Promise\n*/\nconst loadIcon$1 = (icon) => {\n\treturn new Promise((fulfill, reject) => {\n\t\tconst iconObj = typeof icon === \"string\" ? stringToIcon(icon, true) : icon;\n\t\tif (!iconObj) {\n\t\t\treject(icon);\n\t\t\treturn;\n\t\t}\n\t\tloadIcons$1([iconObj || icon], (loaded) => {\n\t\t\tif (loaded.length && iconObj) {\n\t\t\t\tconst data = getIconData(iconObj);\n\t\t\t\tif (data) {\n\t\t\t\t\tfulfill({\n\t\t\t\t\t\t...defaultIconProps,\n\t\t\t\t\t\t...data\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\treject(icon);\n\t\t});\n\t});\n};\n\n/**\n * Test icon string\n */\nfunction testIconObject(value) {\n    try {\n        const obj = typeof value === 'string' ? JSON.parse(value) : value;\n        if (typeof obj.body === 'string') {\n            return {\n                ...obj,\n            };\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    }\n    catch (err) {\n        //\n    }\n}\n\n/**\n * Parse icon value, load if needed\n */\nfunction parseIconValue(value, onload) {\n    if (typeof value === 'object') {\n        const data = testIconObject(value);\n        return {\n            data,\n            value,\n        };\n    }\n    if (typeof value !== 'string') {\n        // Invalid value\n        return {\n            value,\n        };\n    }\n    // Check for JSON\n    if (value.includes('{')) {\n        const data = testIconObject(value);\n        if (data) {\n            return {\n                data,\n                value,\n            };\n        }\n    }\n    // Parse icon name\n    const name = stringToIcon(value, true, true);\n    if (!name) {\n        return {\n            value,\n        };\n    }\n    // Valid icon name: check if data is available\n    const data = getIconData(name);\n    // Icon data exists or icon has no prefix. Do not load icon from API if icon has no prefix\n    if (data !== undefined || !name.prefix) {\n        return {\n            value,\n            name,\n            data, // could be 'null' -> icon is missing\n        };\n    }\n    // Load icon\n    const loading = loadIcons$1([name], () => onload(value, name, getIconData(name)));\n    return {\n        value,\n        name,\n        loading,\n    };\n}\n\n// Check for Safari\nlet isBuggedSafari = false;\ntry {\n    isBuggedSafari = navigator.vendor.indexOf('Apple') === 0;\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n}\ncatch (err) {\n    //\n}\n/**\n * Get render mode\n */\nfunction getRenderMode(body, mode) {\n    switch (mode) {\n        // Force mode\n        case 'svg':\n        case 'bg':\n        case 'mask':\n            return mode;\n    }\n    // Check for animation, use 'style' for animated icons, unless browser is Safari\n    // (only <a>, which should be ignored or animations start with '<a')\n    if (mode !== 'style' &&\n        (isBuggedSafari || body.indexOf('<a') === -1)) {\n        // Render <svg>\n        return 'svg';\n    }\n    // Use background or mask\n    return body.indexOf('currentColor') === -1 ? 'bg' : 'mask';\n}\n\n/**\n* Regular expressions for calculating dimensions\n*/\nconst unitsSplit = /(-?[0-9.]*[0-9]+[0-9.]*)/g;\nconst unitsTest = /^-?[0-9.]*[0-9]+[0-9.]*$/g;\nfunction calculateSize$1(size, ratio, precision) {\n\tif (ratio === 1) return size;\n\tprecision = precision || 100;\n\tif (typeof size === \"number\") return Math.ceil(size * ratio * precision) / precision;\n\tif (typeof size !== \"string\") return size;\n\tconst oldParts = size.split(unitsSplit);\n\tif (oldParts === null || !oldParts.length) return size;\n\tconst newParts = [];\n\tlet code = oldParts.shift();\n\tlet isNumber = unitsTest.test(code);\n\twhile (true) {\n\t\tif (isNumber) {\n\t\t\tconst num = parseFloat(code);\n\t\t\tif (isNaN(num)) newParts.push(code);\n\t\t\telse newParts.push(Math.ceil(num * ratio * precision) / precision);\n\t\t} else newParts.push(code);\n\t\tcode = oldParts.shift();\n\t\tif (code === void 0) return newParts.join(\"\");\n\t\tisNumber = !isNumber;\n\t}\n}\n\nfunction splitSVGDefs(content, tag = \"defs\") {\n\tlet defs = \"\";\n\tconst index = content.indexOf(\"<\" + tag);\n\twhile (index >= 0) {\n\t\tconst start = content.indexOf(\">\", index);\n\t\tconst end = content.indexOf(\"</\" + tag);\n\t\tif (start === -1 || end === -1) break;\n\t\tconst endEnd = content.indexOf(\">\", end);\n\t\tif (endEnd === -1) break;\n\t\tdefs += content.slice(start + 1, end).trim();\n\t\tcontent = content.slice(0, index).trim() + content.slice(endEnd + 1);\n\t}\n\treturn {\n\t\tdefs,\n\t\tcontent\n\t};\n}\n/**\n* Merge defs and content\n*/\nfunction mergeDefsAndContent(defs, content) {\n\treturn defs ? \"<defs>\" + defs + \"</defs>\" + content : content;\n}\n/**\n* Wrap SVG content, without wrapping definitions\n*/\nfunction wrapSVGContent(body, start, end) {\n\tconst split = splitSVGDefs(body);\n\treturn mergeDefsAndContent(split.defs, start + split.content + end);\n}\n\n/**\n* Check if value should be unset. Allows multiple keywords\n*/\nconst isUnsetKeyword = (value) => value === \"unset\" || value === \"undefined\" || value === \"none\";\n/**\n* Get SVG attributes and content from icon + customisations\n*\n* Does not generate style to make it compatible with frameworks that use objects for style, such as React.\n* Instead, it generates 'inline' value. If true, rendering engine should add verticalAlign: -0.125em to icon.\n*\n* Customisations should be normalised by platform specific parser.\n* Result should be converted to <svg> by platform specific parser.\n* Use replaceIDs to generate unique IDs for body.\n*/\nfunction iconToSVG(icon, customisations) {\n\tconst fullIcon = {\n\t\t...defaultIconProps,\n\t\t...icon\n\t};\n\tconst fullCustomisations = {\n\t\t...defaultIconCustomisations,\n\t\t...customisations\n\t};\n\tconst box = {\n\t\tleft: fullIcon.left,\n\t\ttop: fullIcon.top,\n\t\twidth: fullIcon.width,\n\t\theight: fullIcon.height\n\t};\n\tlet body = fullIcon.body;\n\t[fullIcon, fullCustomisations].forEach((props) => {\n\t\tconst transformations = [];\n\t\tconst hFlip = props.hFlip;\n\t\tconst vFlip = props.vFlip;\n\t\tlet rotation = props.rotate;\n\t\tif (hFlip) if (vFlip) rotation += 2;\n\t\telse {\n\t\t\ttransformations.push(\"translate(\" + (box.width + box.left).toString() + \" \" + (0 - box.top).toString() + \")\");\n\t\t\ttransformations.push(\"scale(-1 1)\");\n\t\t\tbox.top = box.left = 0;\n\t\t}\n\t\telse if (vFlip) {\n\t\t\ttransformations.push(\"translate(\" + (0 - box.left).toString() + \" \" + (box.height + box.top).toString() + \")\");\n\t\t\ttransformations.push(\"scale(1 -1)\");\n\t\t\tbox.top = box.left = 0;\n\t\t}\n\t\tlet tempValue;\n\t\tif (rotation < 0) rotation -= Math.floor(rotation / 4) * 4;\n\t\trotation = rotation % 4;\n\t\tswitch (rotation) {\n\t\t\tcase 1:\n\t\t\t\ttempValue = box.height / 2 + box.top;\n\t\t\t\ttransformations.unshift(\"rotate(90 \" + tempValue.toString() + \" \" + tempValue.toString() + \")\");\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\ttransformations.unshift(\"rotate(180 \" + (box.width / 2 + box.left).toString() + \" \" + (box.height / 2 + box.top).toString() + \")\");\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\ttempValue = box.width / 2 + box.left;\n\t\t\t\ttransformations.unshift(\"rotate(-90 \" + tempValue.toString() + \" \" + tempValue.toString() + \")\");\n\t\t\t\tbreak;\n\t\t}\n\t\tif (rotation % 2 === 1) {\n\t\t\tif (box.left !== box.top) {\n\t\t\t\ttempValue = box.left;\n\t\t\t\tbox.left = box.top;\n\t\t\t\tbox.top = tempValue;\n\t\t\t}\n\t\t\tif (box.width !== box.height) {\n\t\t\t\ttempValue = box.width;\n\t\t\t\tbox.width = box.height;\n\t\t\t\tbox.height = tempValue;\n\t\t\t}\n\t\t}\n\t\tif (transformations.length) body = wrapSVGContent(body, \"<g transform=\\\"\" + transformations.join(\" \") + \"\\\">\", \"</g>\");\n\t});\n\tconst customisationsWidth = fullCustomisations.width;\n\tconst customisationsHeight = fullCustomisations.height;\n\tconst boxWidth = box.width;\n\tconst boxHeight = box.height;\n\tlet width;\n\tlet height;\n\tif (customisationsWidth === null) {\n\t\theight = customisationsHeight === null ? \"1em\" : customisationsHeight === \"auto\" ? boxHeight : customisationsHeight;\n\t\twidth = calculateSize$1(height, boxWidth / boxHeight);\n\t} else {\n\t\twidth = customisationsWidth === \"auto\" ? boxWidth : customisationsWidth;\n\t\theight = customisationsHeight === null ? calculateSize$1(width, boxHeight / boxWidth) : customisationsHeight === \"auto\" ? boxHeight : customisationsHeight;\n\t}\n\tconst attributes = {};\n\tconst setAttr = (prop, value) => {\n\t\tif (!isUnsetKeyword(value)) attributes[prop] = value.toString();\n\t};\n\tsetAttr(\"width\", width);\n\tsetAttr(\"height\", height);\n\tconst viewBox = [\n\t\tbox.left,\n\t\tbox.top,\n\t\tboxWidth,\n\t\tboxHeight\n\t];\n\tattributes.viewBox = viewBox.join(\" \");\n\treturn {\n\t\tattributes,\n\t\tviewBox,\n\t\tbody\n\t};\n}\n\n/**\n* Generate <svg>\n*/\nfunction iconToHTML$1(body, attributes) {\n\tlet renderAttribsHTML = body.indexOf(\"xlink:\") === -1 ? \"\" : \" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\";\n\tfor (const attr in attributes) renderAttribsHTML += \" \" + attr + \"=\\\"\" + attributes[attr] + \"\\\"\";\n\treturn \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\"\" + renderAttribsHTML + \">\" + body + \"</svg>\";\n}\n\n/**\n* Encode SVG for use in url()\n*\n* Short alternative to encodeURIComponent() that encodes only stuff used in SVG, generating\n* smaller code.\n*/\nfunction encodeSVGforURL(svg) {\n\treturn svg.replace(/\"/g, \"'\").replace(/%/g, \"%25\").replace(/#/g, \"%23\").replace(/</g, \"%3C\").replace(/>/g, \"%3E\").replace(/\\s+/g, \" \");\n}\n/**\n* Generate data: URL from SVG\n*/\nfunction svgToData(svg) {\n\treturn \"data:image/svg+xml,\" + encodeSVGforURL(svg);\n}\n/**\n* Generate url() from SVG\n*/\nfunction svgToURL$1(svg) {\n\treturn \"url(\\\"\" + svgToData(svg) + \"\\\")\";\n}\n\nconst detectFetch = () => {\n\tlet callback;\n\ttry {\n\t\tcallback = fetch;\n\t\tif (typeof callback === \"function\") return callback;\n\t} catch (err) {}\n};\n/**\n* Fetch function\n*/\nlet fetchModule = detectFetch();\n/**\n* Set custom fetch() function\n*/\nfunction setFetch(fetch$1) {\n\tfetchModule = fetch$1;\n}\n/**\n* Get fetch() function. Used by Icon Finder Core\n*/\nfunction getFetch() {\n\treturn fetchModule;\n}\n/**\n* Calculate maximum icons list length for prefix\n*/\nfunction calculateMaxLength(provider, prefix) {\n\tconst config = getAPIConfig(provider);\n\tif (!config) return 0;\n\tlet result;\n\tif (!config.maxURL) result = 0;\n\telse {\n\t\tlet maxHostLength = 0;\n\t\tconfig.resources.forEach((item) => {\n\t\t\tconst host = item;\n\t\t\tmaxHostLength = Math.max(maxHostLength, host.length);\n\t\t});\n\t\tconst url = prefix + \".json?icons=\";\n\t\tresult = config.maxURL - maxHostLength - config.path.length - url.length;\n\t}\n\treturn result;\n}\n/**\n* Should query be aborted, based on last HTTP status\n*/\nfunction shouldAbort(status) {\n\treturn status === 404;\n}\n/**\n* Prepare params\n*/\nconst prepare = (provider, prefix, icons) => {\n\tconst results = [];\n\tconst maxLength = calculateMaxLength(provider, prefix);\n\tconst type = \"icons\";\n\tlet item = {\n\t\ttype,\n\t\tprovider,\n\t\tprefix,\n\t\ticons: []\n\t};\n\tlet length = 0;\n\ticons.forEach((name, index) => {\n\t\tlength += name.length + 1;\n\t\tif (length >= maxLength && index > 0) {\n\t\t\tresults.push(item);\n\t\t\titem = {\n\t\t\t\ttype,\n\t\t\t\tprovider,\n\t\t\t\tprefix,\n\t\t\t\ticons: []\n\t\t\t};\n\t\t\tlength = name.length;\n\t\t}\n\t\titem.icons.push(name);\n\t});\n\tresults.push(item);\n\treturn results;\n};\n/**\n* Get path\n*/\nfunction getPath(provider) {\n\tif (typeof provider === \"string\") {\n\t\tconst config = getAPIConfig(provider);\n\t\tif (config) return config.path;\n\t}\n\treturn \"/\";\n}\n/**\n* Load icons\n*/\nconst send = (host, params, callback) => {\n\tif (!fetchModule) {\n\t\tcallback(\"abort\", 424);\n\t\treturn;\n\t}\n\tlet path = getPath(params.provider);\n\tswitch (params.type) {\n\t\tcase \"icons\": {\n\t\t\tconst prefix = params.prefix;\n\t\t\tconst icons = params.icons;\n\t\t\tconst iconsList = icons.join(\",\");\n\t\t\tconst urlParams = new URLSearchParams({ icons: iconsList });\n\t\t\tpath += prefix + \".json?\" + urlParams.toString();\n\t\t\tbreak;\n\t\t}\n\t\tcase \"custom\": {\n\t\t\tconst uri = params.uri;\n\t\t\tpath += uri.slice(0, 1) === \"/\" ? uri.slice(1) : uri;\n\t\t\tbreak;\n\t\t}\n\t\tdefault:\n\t\t\tcallback(\"abort\", 400);\n\t\t\treturn;\n\t}\n\tlet defaultError = 503;\n\tfetchModule(host + path).then((response) => {\n\t\tconst status = response.status;\n\t\tif (status !== 200) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tcallback(shouldAbort(status) ? \"abort\" : \"next\", status);\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tdefaultError = 501;\n\t\treturn response.json();\n\t}).then((data) => {\n\t\tif (typeof data !== \"object\" || data === null) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (data === 404) callback(\"abort\", data);\n\t\t\t\telse callback(\"next\", defaultError);\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tsetTimeout(() => {\n\t\t\tcallback(\"success\", data);\n\t\t});\n\t}).catch(() => {\n\t\tcallback(\"next\", defaultError);\n\t});\n};\n/**\n* Export module\n*/\nconst fetchAPIModule = {\n\tprepare,\n\tsend\n};\n\n/**\n* Set custom loader for multiple icons\n*/\nfunction setCustomIconsLoader$1(loader, prefix, provider) {\n\tgetStorage(provider || \"\", prefix).loadIcons = loader;\n}\n/**\n* Set custom loader for one icon\n*/\nfunction setCustomIconLoader$1(loader, prefix, provider) {\n\tgetStorage(provider || \"\", prefix).loadIcon = loader;\n}\n\n/**\n * Attribute to add\n */\nconst nodeAttr = 'data-style';\n/**\n * Custom style to add to each node\n */\nlet customStyle = '';\n/**\n * Set custom style to add to all components\n *\n * Affects only components rendered after function call\n */\nfunction appendCustomStyle(style) {\n    customStyle = style;\n}\n/**\n * Add/update style node\n */\nfunction updateStyle(parent, inline) {\n    // Get node, create if needed\n    let styleNode = Array.from(parent.childNodes).find((node) => node.hasAttribute &&\n        node.hasAttribute(nodeAttr));\n    if (!styleNode) {\n        styleNode = document.createElement('style');\n        styleNode.setAttribute(nodeAttr, nodeAttr);\n        parent.appendChild(styleNode);\n    }\n    // Update content\n    styleNode.textContent =\n        ':host{display:inline-block;vertical-align:' +\n            (inline ? '-0.125em' : '0') +\n            '}span,svg{display:block;margin:auto}' +\n            customStyle;\n}\n\n// Core\n/**\n * Get functions and initialise stuff\n */\nfunction exportFunctions() {\n    /**\n     * Initialise stuff\n     */\n    // Set API module\n    setAPIModule('', fetchAPIModule);\n    // Allow simple icon names\n    allowSimpleNames(true);\n    let _window;\n    try {\n        _window = window;\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    }\n    catch (err) {\n        //\n    }\n    if (_window) {\n        // Load icons from global \"IconifyPreload\"\n        if (_window.IconifyPreload !== void 0) {\n            const preload = _window.IconifyPreload;\n            const err = 'Invalid IconifyPreload syntax.';\n            if (typeof preload === 'object' && preload !== null) {\n                (preload instanceof Array ? preload : [preload]).forEach((item) => {\n                    try {\n                        if (\n                        // Check if item is an object and not null/array\n                        typeof item !== 'object' ||\n                            item === null ||\n                            item instanceof Array ||\n                            // Check for 'icons' and 'prefix'\n                            typeof item.icons !== 'object' ||\n                            typeof item.prefix !== 'string' ||\n                            // Add icon set\n                            !addCollection$1(item)) {\n                            console.error(err);\n                        }\n                        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    }\n                    catch (e) {\n                        console.error(err);\n                    }\n                });\n            }\n        }\n        // Set API from global \"IconifyProviders\"\n        if (_window.IconifyProviders !== void 0) {\n            const providers = _window.IconifyProviders;\n            if (typeof providers === 'object' && providers !== null) {\n                for (const key in providers) {\n                    const err = 'IconifyProviders[' + key + '] is invalid.';\n                    try {\n                        const value = providers[key];\n                        if (typeof value !== 'object' ||\n                            !value ||\n                            value.resources === void 0) {\n                            continue;\n                        }\n                        if (!addAPIProvider$1(key, value)) {\n                            console.error(err);\n                        }\n                        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    }\n                    catch (e) {\n                        console.error(err);\n                    }\n                }\n            }\n        }\n    }\n    const _api = {\n        getAPIConfig,\n        setAPIModule,\n        sendAPIQuery,\n        setFetch,\n        getFetch,\n        listAPIProviders,\n    };\n    return {\n        iconLoaded: iconLoaded$1,\n        getIcon: getIcon$1,\n        listIcons: listIcons$1,\n        addIcon: addIcon$1,\n        addCollection: addCollection$1,\n        calculateSize: calculateSize$1,\n        buildIcon: iconToSVG,\n        iconToHTML: iconToHTML$1,\n        svgToURL: svgToURL$1,\n        loadIcons: loadIcons$1,\n        loadIcon: loadIcon$1,\n        addAPIProvider: addAPIProvider$1,\n        setCustomIconLoader: setCustomIconLoader$1,\n        setCustomIconsLoader: setCustomIconsLoader$1,\n        appendCustomStyle,\n        _api,\n    };\n}\n\n// List of properties to apply\nconst monotoneProps = {\n    'background-color': 'currentColor',\n};\nconst coloredProps = {\n    'background-color': 'transparent',\n};\n// Dynamically add common props to variables above\nconst propsToAdd = {\n    image: 'var(--svg)',\n    repeat: 'no-repeat',\n    size: '100% 100%',\n};\nconst propsToAddTo = {\n    '-webkit-mask': monotoneProps,\n    'mask': monotoneProps,\n    'background': coloredProps,\n};\nfor (const prefix in propsToAddTo) {\n    const list = propsToAddTo[prefix];\n    for (const prop in propsToAdd) {\n        list[prefix + '-' + prop] = propsToAdd[prop];\n    }\n}\n/**\n * Fix size: add 'px' to numbers\n */\nfunction fixSize(value) {\n    return value ? value + (value.match(/^[-0-9.]+$/) ? 'px' : '') : 'inherit';\n}\n/**\n * Render node as <span>\n */\nfunction renderSPAN(data, icon, useMask) {\n    const node = document.createElement('span');\n    // Body\n    let body = data.body;\n    if (body.indexOf('<a') !== -1) {\n        // Animated SVG: add something to fix timing bug\n        body += '<!-- ' + Date.now() + ' -->';\n    }\n    // Generate SVG as URL\n    const renderAttribs = data.attributes;\n    const html = iconToHTML$1(body, {\n        ...renderAttribs,\n        width: icon.width + '',\n        height: icon.height + '',\n    });\n    const url = svgToURL$1(html);\n    // Generate style\n    const svgStyle = node.style;\n    const styles = {\n        '--svg': url,\n        'width': fixSize(renderAttribs.width),\n        'height': fixSize(renderAttribs.height),\n        ...(useMask ? monotoneProps : coloredProps),\n    };\n    // Apply style\n    for (const prop in styles) {\n        svgStyle.setProperty(prop, styles[prop]);\n    }\n    return node;\n}\n\nlet policy;\n/**\n* Attempt to create policy\n*/\nfunction createPolicy() {\n\ttry {\n\t\tpolicy = window.trustedTypes.createPolicy(\"iconify\", { createHTML: (s) => s });\n\t} catch (err) {\n\t\tpolicy = null;\n\t}\n}\n/**\n* Clean up value for innerHTML assignment\n*\n* This code doesn't actually clean up anything.\n* It is intended be used with Iconify icon data, which has already been validated\n*/\nfunction cleanUpInnerHTML(html) {\n\tif (policy === void 0) createPolicy();\n\treturn policy ? policy.createHTML(html) : html;\n}\n\n/**\n * Render node as <svg>\n */\nfunction renderSVG(data) {\n    const node = document.createElement('span');\n    // Add style if needed\n    const attr = data.attributes;\n    let style = '';\n    if (!attr.width) {\n        style = 'width: inherit;';\n    }\n    if (!attr.height) {\n        style += 'height: inherit;';\n    }\n    if (style) {\n        attr.style = style;\n    }\n    // Generate SVG\n    const html = iconToHTML$1(data.body, attr);\n    node.innerHTML = cleanUpInnerHTML(html);\n    return node.firstChild;\n}\n\n/**\n * Find icon node\n */\nfunction findIconElement(parent) {\n    return Array.from(parent.childNodes).find((node) => {\n        const tag = node.tagName &&\n            node.tagName.toUpperCase();\n        return tag === 'SPAN' || tag === 'SVG';\n    });\n}\n/**\n * Render icon\n */\nfunction renderIcon(parent, state) {\n    const iconData = state.icon.data;\n    const customisations = state.customisations;\n    // Render icon\n    const renderData = iconToSVG(iconData, customisations);\n    if (customisations.preserveAspectRatio) {\n        renderData.attributes['preserveAspectRatio'] =\n            customisations.preserveAspectRatio;\n    }\n    const mode = state.renderedMode;\n    let node;\n    switch (mode) {\n        case 'svg':\n            node = renderSVG(renderData);\n            break;\n        default:\n            node = renderSPAN(renderData, {\n                ...defaultIconProps,\n                ...iconData,\n            }, mode === 'mask');\n    }\n    // Set element\n    const oldNode = findIconElement(parent);\n    if (oldNode) {\n        // Replace old element\n        if (node.tagName === 'SPAN' && oldNode.tagName === node.tagName) {\n            // Swap style instead of whole node\n            oldNode.setAttribute('style', node.getAttribute('style'));\n        }\n        else {\n            parent.replaceChild(node, oldNode);\n        }\n    }\n    else {\n        // Add new element\n        parent.appendChild(node);\n    }\n}\n\n/**\n * Set state to PendingState\n */\nfunction setPendingState(icon, inline, lastState) {\n    const lastRender = lastState &&\n        (lastState.rendered\n            ? lastState\n            : lastState.lastRender);\n    return {\n        rendered: false,\n        inline,\n        icon,\n        lastRender,\n    };\n}\n\n/**\n * Register 'iconify-icon' component, if it does not exist\n */\nfunction defineIconifyIcon(name = 'iconify-icon') {\n    // Check for custom elements registry and HTMLElement\n    let customElements;\n    let ParentClass;\n    try {\n        customElements = window.customElements;\n        ParentClass = window.HTMLElement;\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    }\n    catch (err) {\n        return;\n    }\n    // Make sure registry and HTMLElement exist\n    if (!customElements || !ParentClass) {\n        return;\n    }\n    // Check for duplicate\n    const ConflictingClass = customElements.get(name);\n    if (ConflictingClass) {\n        return ConflictingClass;\n    }\n    // All attributes\n    const attributes = [\n        // Icon\n        'icon',\n        // Mode\n        'mode',\n        'inline',\n        'noobserver',\n        // Customisations\n        'width',\n        'height',\n        'rotate',\n        'flip',\n    ];\n    /**\n     * Component class\n     */\n    const IconifyIcon = class extends ParentClass {\n        // Root\n        _shadowRoot;\n        // Initialised\n        _initialised = false;\n        // Icon state\n        _state;\n        // Attributes check queued\n        _checkQueued = false;\n        // Connected\n        _connected = false;\n        // Observer\n        _observer = null;\n        _visible = true;\n        /**\n         * Constructor\n         */\n        constructor() {\n            super();\n            // Attach shadow DOM\n            const root = (this._shadowRoot = this.attachShadow({\n                mode: 'open',\n            }));\n            // Add style\n            const inline = this.hasAttribute('inline');\n            updateStyle(root, inline);\n            // Create empty state\n            this._state = setPendingState({\n                value: '',\n            }, inline);\n            // Queue icon render\n            this._queueCheck();\n        }\n        /**\n         * Connected to DOM\n         */\n        connectedCallback() {\n            this._connected = true;\n            this.startObserver();\n        }\n        /**\n         * Disconnected from DOM\n         */\n        disconnectedCallback() {\n            this._connected = false;\n            this.stopObserver();\n        }\n        /**\n         * Observed attributes\n         */\n        static get observedAttributes() {\n            return attributes.slice(0);\n        }\n        /**\n         * Observed properties that are different from attributes\n         *\n         * Experimental! Need to test with various frameworks that support it\n         */\n        /*\n        static get properties() {\n            return {\n                inline: {\n                    type: Boolean,\n                    reflect: true,\n                },\n                // Not listing other attributes because they are strings or combination\n                // of string and another type. Cannot have multiple types\n            };\n        }\n        */\n        /**\n         * Attribute has changed\n         */\n        attributeChangedCallback(name) {\n            switch (name) {\n                case 'inline': {\n                    // Update immediately: not affected by other attributes\n                    const newInline = this.hasAttribute('inline');\n                    const state = this._state;\n                    if (newInline !== state.inline) {\n                        // Update style if inline mode changed\n                        state.inline = newInline;\n                        updateStyle(this._shadowRoot, newInline);\n                    }\n                    break;\n                }\n                case 'noobserver': {\n                    const value = this.hasAttribute('noobserver');\n                    if (value) {\n                        this.startObserver();\n                    }\n                    else {\n                        this.stopObserver();\n                    }\n                    break;\n                }\n                default:\n                    // Queue check for other attributes\n                    this._queueCheck();\n            }\n        }\n        /**\n         * Get/set icon\n         */\n        get icon() {\n            const value = this.getAttribute('icon');\n            if (value && value.slice(0, 1) === '{') {\n                try {\n                    return JSON.parse(value);\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                }\n                catch (err) {\n                    //\n                }\n            }\n            return value;\n        }\n        set icon(value) {\n            if (typeof value === 'object') {\n                value = JSON.stringify(value);\n            }\n            this.setAttribute('icon', value);\n        }\n        /**\n         * Get/set inline\n         */\n        get inline() {\n            return this.hasAttribute('inline');\n        }\n        set inline(value) {\n            if (value) {\n                this.setAttribute('inline', 'true');\n            }\n            else {\n                this.removeAttribute('inline');\n            }\n        }\n        /**\n         * Get/set observer\n         */\n        get observer() {\n            return this.hasAttribute('observer');\n        }\n        set observer(value) {\n            if (value) {\n                this.setAttribute('observer', 'true');\n            }\n            else {\n                this.removeAttribute('observer');\n            }\n        }\n        /**\n         * Restart animation\n         */\n        restartAnimation() {\n            const state = this._state;\n            if (state.rendered) {\n                const root = this._shadowRoot;\n                if (state.renderedMode === 'svg') {\n                    // Update root node\n                    try {\n                        root.lastChild.setCurrentTime(0);\n                        return;\n                        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    }\n                    catch (err) {\n                        // Failed: setCurrentTime() is not supported\n                    }\n                }\n                renderIcon(root, state);\n            }\n        }\n        /**\n         * Get status\n         */\n        get status() {\n            const state = this._state;\n            return state.rendered\n                ? 'rendered'\n                : state.icon.data === null\n                    ? 'failed'\n                    : 'loading';\n        }\n        /**\n         * Queue attributes re-check\n         */\n        _queueCheck() {\n            if (!this._checkQueued) {\n                this._checkQueued = true;\n                setTimeout(() => {\n                    this._check();\n                });\n            }\n        }\n        /**\n         * Check for changes\n         */\n        _check() {\n            if (!this._checkQueued) {\n                return;\n            }\n            this._checkQueued = false;\n            const state = this._state;\n            // Get icon\n            const newIcon = this.getAttribute('icon');\n            if (newIcon !== state.icon.value) {\n                this._iconChanged(newIcon);\n                return;\n            }\n            // Ignore other attributes if icon is not rendered\n            if (!state.rendered || !this._visible) {\n                return;\n            }\n            // Check for mode and attribute changes\n            const mode = this.getAttribute('mode');\n            const customisations = getCustomisations(this);\n            if (state.attrMode !== mode ||\n                haveCustomisationsChanged(state.customisations, customisations) ||\n                !findIconElement(this._shadowRoot)) {\n                this._renderIcon(state.icon, customisations, mode);\n            }\n        }\n        /**\n         * Icon value has changed\n         */\n        _iconChanged(newValue) {\n            const icon = parseIconValue(newValue, (value, name, data) => {\n                // Asynchronous callback: re-check values to make sure stuff wasn't changed\n                const state = this._state;\n                if (state.rendered || this.getAttribute('icon') !== value) {\n                    // Icon data is already available or icon attribute was changed\n                    return;\n                }\n                // Change icon\n                const icon = {\n                    value,\n                    name,\n                    data,\n                };\n                if (icon.data) {\n                    // Render icon\n                    this._gotIconData(icon);\n                }\n                else {\n                    // Nothing to render: update icon in state\n                    state.icon = icon;\n                }\n            });\n            if (icon.data) {\n                // Icon is ready to render\n                this._gotIconData(icon);\n            }\n            else {\n                // Pending icon\n                this._state = setPendingState(icon, this._state.inline, this._state);\n            }\n        }\n        /**\n         * Force render icon on state change\n         */\n        _forceRender() {\n            if (!this._visible) {\n                // Remove icon\n                const node = findIconElement(this._shadowRoot);\n                if (node) {\n                    this._shadowRoot.removeChild(node);\n                }\n                return;\n            }\n            // Re-render icon\n            this._queueCheck();\n        }\n        /**\n         * Got new icon data, icon is ready to (re)render\n         */\n        _gotIconData(icon) {\n            this._checkQueued = false;\n            this._renderIcon(icon, getCustomisations(this), this.getAttribute('mode'));\n        }\n        /**\n         * Re-render based on icon data\n         */\n        _renderIcon(icon, customisations, attrMode) {\n            // Get mode\n            const renderedMode = getRenderMode(icon.data.body, attrMode);\n            // Inline was not changed\n            const inline = this._state.inline;\n            // Set state and render\n            renderIcon(this._shadowRoot, (this._state = {\n                rendered: true,\n                icon,\n                inline,\n                customisations,\n                attrMode,\n                renderedMode,\n            }));\n        }\n        /**\n         * Start observer\n         */\n        startObserver() {\n            if (!this._observer && !this.hasAttribute('noobserver')) {\n                try {\n                    this._observer = new IntersectionObserver((entries) => {\n                        const intersecting = entries.some((entry) => entry.isIntersecting);\n                        if (intersecting !== this._visible) {\n                            this._visible = intersecting;\n                            this._forceRender();\n                        }\n                    });\n                    this._observer.observe(this);\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                }\n                catch (err) {\n                    // Something went wrong, possibly observer is not supported\n                    if (this._observer) {\n                        try {\n                            this._observer.disconnect();\n                            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                        }\n                        catch (err) {\n                            //\n                        }\n                        this._observer = null;\n                    }\n                }\n            }\n        }\n        /**\n         * Stop observer\n         */\n        stopObserver() {\n            if (this._observer) {\n                this._observer.disconnect();\n                this._observer = null;\n                this._visible = true;\n                if (this._connected) {\n                    // Render icon\n                    this._forceRender();\n                }\n            }\n        }\n    };\n    // Add getters and setters\n    attributes.forEach((attr) => {\n        if (!(attr in IconifyIcon.prototype)) {\n            Object.defineProperty(IconifyIcon.prototype, attr, {\n                get: function () {\n                    return this.getAttribute(attr);\n                },\n                set: function (value) {\n                    if (value !== null) {\n                        this.setAttribute(attr, value);\n                    }\n                    else {\n                        this.removeAttribute(attr);\n                    }\n                },\n            });\n        }\n    });\n    // Add exported functions: both as static and instance methods\n    const functions = exportFunctions();\n    for (const key in functions) {\n        IconifyIcon[key] = IconifyIcon.prototype[key] = functions[key];\n    }\n    // Define new component\n    customElements.define(name, IconifyIcon);\n    return IconifyIcon;\n}\n\n/**\n * Create exported data: either component instance or functions\n */\nconst IconifyIconComponent = defineIconifyIcon() || exportFunctions();\n/**\n * Export functions\n */\nconst { iconLoaded, getIcon, listIcons, addIcon, addCollection, calculateSize, buildIcon, iconToHTML, svgToURL, loadIcons, loadIcon, setCustomIconLoader, setCustomIconsLoader, addAPIProvider, _api, } = IconifyIconComponent;\n\nexport { IconifyIconComponent, _api, addAPIProvider, addCollection, addIcon, appendCustomStyle, buildIcon, calculateSize, getIcon, iconLoaded, iconToHTML, listIcons, loadIcon, loadIcons, setCustomIconLoader, setCustomIconsLoader, svgToURL };\n","// public/js/theme-utils.js\n// Framework-agnostic theme helpers for DaisyUI v5 themes.\n// Exposes a tiny global `ThemeUtils` for non-module usage and works without bundlers.\n;(function(global) {\n  'use strict'\n\n  var STORAGE_KEY = 'theme'\n  var THEMES = { light: 'silk', dark: 'dim' }\n  var LIGHT_NAME = THEMES.light\n  var DARK_NAME = THEMES.dark\n  var DEFAULT = DARK_NAME\n  var ALLOWED = [LIGHT_NAME, DARK_NAME]\n\n  function normalize(name) {\n    if (!name) return name\n    if (name === 'light') return LIGHT_NAME\n    if (name === 'dark') return DARK_NAME\n    return name\n  }\n\n  function syncAllowed(list) {\n    var merged = Array.isArray(list) && list.length ? list.slice() : ALLOWED.slice()\n    merged.push(LIGHT_NAME, DARK_NAME)\n    ALLOWED = Array.from(\n      new Set(\n        merged\n          .map(function(value) {\n            return normalize(String(value))\n          })\n          .filter(Boolean),\n      ),\n    )\n  }\n\n  syncAllowed()\n\n  function configure(opts) {\n    try {\n      if (!opts || typeof opts !== 'object') return\n      if (opts.lightTheme && typeof opts.lightTheme === 'string') {\n        LIGHT_NAME = normalize(opts.lightTheme)\n      }\n      if (opts.darkTheme && typeof opts.darkTheme === 'string') {\n        DARK_NAME = normalize(opts.darkTheme)\n      }\n      if (opts.defaultTheme && typeof opts.defaultTheme === 'string') {\n        DEFAULT = normalize(opts.defaultTheme)\n      } else {\n        DEFAULT = normalize(DEFAULT)\n      }\n      THEMES.light = LIGHT_NAME\n      THEMES.dark = DARK_NAME\n      if (Array.isArray(opts.allowed) && opts.allowed.length) {\n        syncAllowed(opts.allowed)\n      } else {\n        syncAllowed()\n      }\n      if (opts.storageKey && typeof opts.storageKey === 'string') {\n        STORAGE_KEY = opts.storageKey\n      }\n    } catch {\n      /* noop */\n    }\n  }\n\n  function getTheme() {\n    var el = document.documentElement\n    var t = normalize(el.getAttribute('data-theme'))\n    if (!t || ALLOWED.indexOf(t) === -1) {\n      // Fallback to storage then default\n      try {\n        var s = normalize(localStorage.getItem(STORAGE_KEY))\n        if (s && ALLOWED.indexOf(s) !== -1) t = s\n      } catch {}\n    }\n    return ALLOWED.indexOf(t) !== -1 ? t : DEFAULT\n  }\n\n  function setTheme(name, persist, source) {\n    var target = normalize(name)\n    if (ALLOWED.indexOf(target) === -1) return\n    var el = document.documentElement\n    el.setAttribute('data-theme', target)\n    el.dataset.themeSource = source || 'user'\n    var meta = document.querySelector('meta[name=\"color-scheme\"]')\n    if (meta) {\n      var isDark = target === DARK_NAME\n      meta.setAttribute('content', isDark ? 'dark light' : 'light dark')\n    }\n    if (persist) {\n      try {\n        localStorage.setItem(STORAGE_KEY, target)\n      } catch {}\n    }\n    try {\n      document.dispatchEvent(\n        new CustomEvent('themechange', {\n          detail: { theme: target, source: source || 'user' },\n        }),\n      )\n    } catch {}\n  }\n\n  function toggleTheme(persist) {\n    var cur = getTheme()\n    // Prefer binary toggle between LIGHT_NAME and DARK_NAME\n    var next = cur === DARK_NAME ? LIGHT_NAME : DARK_NAME\n    setTheme(next, persist !== false, 'toggle')\n    return next\n  }\n\n  function initEarly() {\n    // Run as early as possible in <head> to avoid FART.\n    try {\n      var stored = normalize(localStorage.getItem(STORAGE_KEY))\n      var picked = ALLOWED.indexOf(stored) !== -1 ? stored : DEFAULT\n      document.documentElement.setAttribute('data-theme', picked)\n      document.documentElement.dataset.themeSource = stored\n        ? 'storage'\n        : 'default'\n      var meta = document.querySelector('meta[name=\"color-scheme\"]')\n        || (function() {\n          var m = document.createElement('meta')\n          m.name = 'color-scheme'\n          document.head.appendChild(m)\n          return m\n        })()\n      meta.content = picked === DARK_NAME ? 'dark light' : 'light dark'\n    } catch {\n      document.documentElement.setAttribute('data-theme', DEFAULT)\n      document.documentElement.dataset.themeSource = 'fallback'\n    }\n  }\n\n  function onChange(handler) {\n    if (typeof handler !== 'function') return function() {}\n    var fn = function(e) {\n      handler(e?.detail?.theme || getTheme(), e?.detail?.source || 'event')\n    }\n    document.addEventListener('themechange', fn)\n    return function unsubscribe() {\n      document.removeEventListener('themechange', fn)\n    }\n  }\n\n  var api = {\n    configure: configure,\n    getTheme: getTheme,\n    setTheme: setTheme,\n    toggleTheme: toggleTheme,\n    initEarly: initEarly,\n    onChange: onChange,\n    THEMES: THEMES,\n  }\n  global.ThemeUtils = api\n})(window)\n","// import '/assets/css/app.css'\n\n// public/js/app.js\n// Vite entry: imports CSS and initializes all page-level JS.\n// Consolidates: footnote nav, theme toggle, code copy, work filters.\n// Lazily loads the heavy overlay only when conditions are good.\n\n/* -------------------------------\n   tiny utils\n--------------------------------*/\nexport const onReady = cb => {\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', cb, { once: true })\n  } else {\n    cb()\n  }\n}\nconst qs = (sel, root = document) => root.querySelector(sel)\nconst qsa = (sel, root = document) => Array.from(root.querySelectorAll(sel))\nconst prefersReducedMotion = () =>\n  window.matchMedia?.('(prefers-reduced-motion: reduce)')?.matches ?? false\nconst saveData = () => {\n  try {\n    const c = navigator.connection\n    return !!(c && (c.saveData || /2g/.test(c.effectiveType || '')))\n  } catch {\n    return false\n  }\n}\n\n/* -------------------------------\n   1) Footnote navigation\n   (sticky header aware + highlight)\n--------------------------------*/\nexport function initFootnotes() {\n  const EXTRA = 16\n\n  const getHeaderEl = () =>\n    qs('[data-site-header]')\n    || qs('[role=\"banner\"]')\n    || qs('header.site-header')\n    || qs('body > header')\n    || qs('header')\n\n  const readCssVar = () =>\n    parseFloat(\n      getComputedStyle(document.documentElement).getPropertyValue(\n        '--header-height',\n      ),\n    ) || null\n\n  const calcHeaderHeight = () => {\n    const fromVar = readCssVar()\n    if (Number.isFinite(fromVar)) return Math.ceil(fromVar)\n    const h = getHeaderEl()\n    if (!h) return 80 + EXTRA\n    const r = h.getBoundingClientRect()\n    return Math.ceil(r.height) + EXTRA\n  }\n\n  const setVar = px => document.documentElement.style.setProperty('--header-height', `${px}px`)\n\n  const updateHeaderVar = () => setVar(calcHeaderHeight())\n\n  // keep var fresh\n  let resizeRaf = 0\n  const onResize = () => {\n    if (resizeRaf) return\n    resizeRaf = requestAnimationFrame(() => {\n      resizeRaf = 0\n      updateHeaderVar()\n    })\n  }\n  const h = getHeaderEl()\n  if ('ResizeObserver' in window && h) {\n    new ResizeObserver(updateHeaderVar).observe(h)\n  }\n  window.addEventListener('resize', onResize, { passive: true })\n  updateHeaderVar()\n\n  const isFnHash = (href = '') => /^#fn(ref)?/i.test(href)\n\n  const applyHighlight = el => {\n    if (!el) return\n    const hadTabindex = el.hasAttribute('tabindex')\n    const prev = el.getAttribute('tabindex')\n    if (!hadTabindex) el.setAttribute('tabindex', '-1')\n    el.classList.add('footnote-highlight')\n    el.focus({ preventScroll: true })\n    setTimeout(() => {\n      el.classList.remove('footnote-highlight')\n      if (!hadTabindex) el.removeAttribute('tabindex')\n      else if (prev !== null) el.setAttribute('tabindex', prev)\n    }, 2200)\n  }\n\n  const smoothScrollTo = (target, { skipHistory } = {}) => {\n    if (!target) return\n    const header = calcHeaderHeight()\n    const rect = target.getBoundingClientRect()\n    const top = Math.max(0, window.pageYOffset + rect.top - header)\n    window.scrollTo({\n      top,\n      behavior: prefersReducedMotion() ? 'auto' : 'smooth',\n    })\n    if (!skipHistory) {\n      const id = target.id ? `#${target.id}` : ''\n      if (id && id !== location.hash) {\n        try {\n          history.pushState(null, '', id)\n        } catch {}\n      }\n    }\n    applyHighlight(target)\n  }\n\n  document.addEventListener(\n    'click',\n    e => {\n      const a = e.target.closest('a[href^=\"#\"]')\n      if (!a) return\n      const href = a.getAttribute('href')\n      if (!isFnHash(href)) return\n      const target = qs(href)\n      if (!target) return\n      e.preventDefault()\n      smoothScrollTo(target)\n    },\n    false,\n  )\n\n  const handleInitial = () => {\n    const { hash } = window.location\n    if (!isFnHash(hash)) return\n    const t = qs(hash)\n    if (!t) return\n    setTimeout(() => smoothScrollTo(t, { skipHistory: true }), 50)\n  }\n\n  window.addEventListener('popstate', handleInitial, false)\n  handleInitial()\n}\n\n/* -------------------------------\n   2) Theme toggle button\n   (uses global ThemeUtils from head)\n--------------------------------*/\nexport function initThemeToggle() {\n  const btn = qs('#theme-toggle')\n  if (!btn) return\n\n  const utils = window.ThemeUtils || null\n  const sun = btn.querySelector('.lucide-sun')\n  const moon = btn.querySelector('.lucide-moon')\n\n  const reflect = theme => {\n    const dark = utils ? utils.THEMES.dark : 'dim'\n    const isDark = theme === dark\n    btn.setAttribute('aria-pressed', String(isDark))\n    btn.setAttribute(\n      'aria-label',\n      isDark ? 'Switch to light theme' : 'Switch to dark theme',\n    )\n    if (sun && moon) {\n      sun.classList.toggle('hidden', isDark)\n      moon.classList.toggle('hidden', !isDark)\n    }\n  }\n\n  reflect(\n    (utils && utils.getTheme())\n      || document.documentElement.getAttribute('data-theme')\n      || 'dim',\n  )\n\n  if (utils) {\n    btn.addEventListener('click', () => reflect(utils.toggleTheme(true)))\n    utils.onChange(reflect)\n  } else {\n    // Fallback (shouldnt happen)\n    btn.addEventListener('click', () => {\n      const el = document.documentElement\n      const cur = el.getAttribute('data-theme') || 'dim'\n      const next = cur === 'dim' ? 'silk' : 'dim'\n      el.setAttribute('data-theme', next)\n      reflect(next)\n    })\n  }\n}\n\n/* -------------------------------\n   3) Code copy buttons\n--------------------------------*/\nexport function initCodeCopy() {\n  const blocks = qsa('pre > code')\n  if (!blocks.length) return\n  for (const code of blocks) {\n    const pre = code.parentElement\n    if (!pre || pre.querySelector('button[data-copy]')) continue\n    const btn = document.createElement('button')\n    btn.type = 'button'\n    btn.dataset.copy = ''\n    btn.className = 'btn btn-xs btn-ghost hb-anim'\n    btn.textContent = 'copy'\n    btn.style.marginBottom = '0.5rem'\n    btn.addEventListener('click', async () => {\n      try {\n        await navigator.clipboard.writeText(code.textContent || '')\n        const prev = btn.textContent\n        btn.textContent = 'copied'\n        setTimeout(() => (btn.textContent = prev), 1500)\n      } catch {}\n    })\n    pre.insertBefore(btn, code)\n  }\n}\n\n/* -------------------------------\n   4) Work filters\n--------------------------------*/\nexport function initWorkFilters() {\n  const buttons = qsa('[data-filter]')\n  const items = qsa('#work-list > li')\n  if (!buttons.length || !items.length) return\n\n  const apply = filter => {\n    for (const li of items) {\n      const type = li.dataset.type\n      li.classList.toggle('hidden', filter !== 'all' && type !== filter)\n    }\n  }\n\n  for (const btn of buttons) {\n    btn.addEventListener('click', () => {\n      for (const b of buttons) {\n        b.setAttribute('aria-pressed', b === btn ? 'true' : 'false')\n      }\n      apply(btn.dataset.filter || 'all')\n    })\n  }\n}\n\n/* -------------------------------\n   5) Lazy overlay loader\n   (only when it wont hurt UX)\n--------------------------------*/\nexport function initOverlayLoader() {\n  const body = document.body || document.documentElement\n  const overlayOff = body?.dataset?.mschf === 'off' || localStorage.getItem('mschf:off') === '1'\n  const forceOn = new URLSearchParams(location.search).get('overlay') === '1'\n    || body?.dataset?.overlay === '1'\n  const isLg = window.matchMedia?.('(min-width: 1024px)')?.matches ?? false\n\n  // Conditions: not disabled, large screens, no save-data, no reduced motion\n  const shouldLoad = !overlayOff && (forceOn || (isLg && !saveData() && !prefersReducedMotion()))\n\n  if (!shouldLoad) return\n\n  const doImport = () => import('./mschf-overlay.js').catch(() => {})\n  if ('requestIdleCallback' in window) {\n    // Give main content time to settle\n    requestIdleCallback(() => doImport(), { timeout: 2000 })\n  } else {\n    setTimeout(doImport, 600)\n  }\n}\n\n/* -------------------------------\n   bootstrap helpers\n--------------------------------*/\nexport function bootSite() {\n  initFootnotes()\n  initThemeToggle()\n  initCodeCopy()\n  initWorkFilters()\n  initOverlayLoader()\n}\n","// src/assets/js/app.js\n// Entry point: hydrate global scripts for Eleventy pages.\n\nimport '@/assets/css/app.css'\nimport 'iconify-icon'\nimport './theme-utils.js'\nimport { bootSite, onReady } from './site-init.js'\n\nonReady(() => {\n  bootSite()\n})\n"],"file":"assets/app.CL1t7Pkj.js"}