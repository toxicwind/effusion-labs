---
layout: "layout.njk"
pagination:
  data: collections.archiveCharacters | byCompany('pop-mart') | byLine('the-monsters') | byLocale('en')
  size: 1
  alias: character
eleventyComputed:
  companySlug: "{{ character.data.companySlug or character.data.company or 'pop-mart' }}"
  lineSlug: "{{ character.data.lineSlug or character.data.line or 'the-monsters' }}"
  charSlug: "{{ character.data.charSlug or (character.data.name | slug) }}"
  title: "{{ (character.data.name or charSlug) ~ ' — ' ~ (lineSlug | replace('-', ' ') | title) ~ ' — POP MART' }}"
permalink: "/archives/collectables/designer-toys/{{ companySlug }}/{{ lineSlug }}/characters/{{ charSlug }}/index.html"
---
{% from "components/badge.njk" import badge %}
{% from "components/back-link.njk" import backLink %}

<nav class="breadcrumbs text-sm mb-2 overflow-x-auto whitespace-nowrap" aria-label="Breadcrumb">
  <ul>
    <li><a href="/archives/">Archives</a></li>
    <li><a href="/archives/collectables/designer-toys/{{ companySlug }}/">POP MART</a></li>
    <li><a href="/archives/collectables/designer-toys/{{ companySlug }}/{{ lineSlug }}/">
      {{ lineSlug | replace('-', ' ') | title }}</a></li>
    <li class="opacity-70">{{ character.data.name or charSlug }}</li>
  </ul>
</nav>

<div class="mb-6">
  {{ backLink('Back', '/archives/collectables/designer-toys/' + companySlug + '/' + lineSlug + '/') }}
</div>

<header class="mb-6">
  <h1 class="font-heading text-3xl uppercase tracking-[-0.02em] text-primary mb-0">
    {{ character.data.name or charSlug }}
  </h1>
  {% if character.data.notes %}
    <p class="mt-2 text-base-content/80">{{ character.data.notes }}</p>
  {% endif %}
</header>

<h2 class="text-lg font-semibold mt-6 mb-3">Products featuring this character</h2>
<ul class="flex flex-wrap gap-2">
  {% set products = collections.archiveProducts | byCompany(companySlug) | byLine(lineSlug) %}
  {% set matches = [] %}
  {% for p in products %}
    {% if p.data.charSlug and p.data.charSlug == charSlug %}
      {% if matches.indexOf(p.data.productSlug) == -1 %}{% set _ = matches.push(p.data.productSlug) %}{% endif %}
      <li>
        {{ badge(
          p.data.product_id or p.data.productSlug,
          '/archives/collectables/designer-toys/' + companySlug + '/' + lineSlug + '/products/' + p.data.productSlug + '/'
        ) }}
      </li>
    {% endif %}
  {% endfor %}
  {% if matches.length == 0 %}
    <li class="opacity-60">No products found for this character.</li>
  {% endif %}
</ul>
