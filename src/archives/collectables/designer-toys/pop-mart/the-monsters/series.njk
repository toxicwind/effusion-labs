---
layout: "layout.njk"
pagination:
  data: collections.archiveSeries
  size: 1
  alias: series
eleventyComputed:
  companySlug: "{{ series.data.companySlug or series.data.company or 'pop-mart' }}"
  lineSlug: "{{ series.data.lineSlug or series.data.line or 'the-monsters' }}"
  seriesSlug: "{{ series.data.seriesSlug }}"
  title: "{{ (series.data.title or seriesSlug) ~ ' — ' ~ (lineSlug | replace('-', ' ') | title) ~ ' — POP MART' }}"
permalink: "/archives/collectables/designer-toys/{{ companySlug }}/{{ lineSlug }}/series/{{ seriesSlug }}/index.html"
---
{% from "components/back-link.njk" import backLink %}

<nav class="breadcrumbs text-sm mb-2 overflow-x-auto whitespace-nowrap" aria-label="Breadcrumb">
  <ul>
    <li><a href="/archives/">Archives</a></li>
    <li><a href="/archives/collectables/designer-toys/{{ companySlug }}/">POP MART</a></li>
    <li><a href="/archives/collectables/designer-toys/{{ companySlug }}/{{ lineSlug }}/">
      {{ lineSlug | replace('-', ' ') | title }}</a></li>
    <li class="opacity-70">{{ series.data.title or seriesSlug }}</li>
  </ul>
</nav>

<div class="mb-6">
  {{ backLink('Back', '/archives/collectables/designer-toys/' + companySlug + '/' + lineSlug + '/') }}
</div>

<header class="mb-6">
  <h1 class="text-3xl font-heading tracking-wide text-primary mb-0">
    {{ series.data.title or seriesSlug }}
  </h1>
  {% if series.data.notes %}
    <p class="mt-2 opacity-80">{{ series.data.notes }}</p>
  {% endif %}
</header>

{% set inLine = collections.archiveProducts | byCompany(companySlug) | byLine(lineSlug) %}
{% set matches = [] %}
{% for p in inLine %}
  {% if p.data.seriesSlug and p.data.seriesSlug == seriesSlug %}
    {% set _ = matches.push(p) %}
  {% endif %}
{% endfor %}
{% if matches.length %}
  <h2 class="text-lg font-semibold mt-6 mb-3">Products in this series</h2>
  <ul class="flex flex-wrap gap-2">
    {% for p in matches %}
      <li>
        <a class="badge badge-outline hover:badge-primary transition"
           href="/archives/collectables/designer-toys/{{ companySlug }}/{{ lineSlug }}/products/{{ p.data.productSlug }}/">
          {{ p.data.product_id or p.data.productSlug }}
        </a>
      </li>
    {% endfor %}
  </ul>
{% endif %}
