/* src/assets/css/app.css
   Tailwind v4 + daisyUI v5 via Vite (CSS-first)
   Single entry: includes tokens + Hyperbrut layers. */

@import "tailwindcss";
@plugin "@tailwindcss/typography";
@plugin "daisyui";

/* -------------------- */
/* Site tokens in CSS   */
/* -------------------- */

/* Light/Dark color tokens */
:root,
html[data-theme="light"] {
  --color-bg: 245 245 245;
  --color-surface: 230 230 230;
  --color-text: 30 30 30;
  --color-primary: 10 132 255;
  --color-border: 200 200 200;
  --color-code-bg: 235 235 235;
  --color-code-text: 30 30 30;
}
html[data-theme="dark"] {
  --color-bg: 18 18 18;
  --color-surface: 35 35 35;
  --color-text: 235 235 235;
  --color-primary: 10 132 255;
  --color-border: 60 60 60;
  --color-code-bg: 40 40 40;
  --color-code-text: 235 235 235;
}

/* Spectrum + layout tokens */
:root {
  --page-w: min(110rem, 92vw);
  --spec-a: #00E0FF; --spec-b: #9AFF00; --spec-c: #FF1CF7; --spec-d: #FFC700;
  --spectrum: linear-gradient(180deg, var(--spec-a), var(--spec-b) 33%, var(--spec-c) 66%, var(--spec-d));
  --spectrum-x: linear-gradient(90deg, var(--spec-a), var(--spec-c));
  --spec-alpha: .35; --spec-rail-w: 3px; --spec-underline-w: 2px; --spec-chip-bw: 2px;

  /* Small global niceties */
  --radius: .5rem;
}
@media (min-width:1920px){ :root{ --page-w: min(130rem, 88vw); } }
@media (min-width:2560px){ :root{ --page-w: min(150rem, 84vw); } }
@media (min-width:3840px){ :root{ --page-w: min(168rem, 78vw); } }

/* Smooth scrolling */
html { scroll-behavior: smooth; }

/* -------------------- */
/* Base layer           */
/* -------------------- */
@layer base {
  *,::before,::after { box-sizing: border-box; }
  html,body { height:100%; }
  body { margin:0; line-height:1.5; -webkit-font-smoothing: antialiased; }

  code { @apply font-mono text-sm px-1 rounded bg-base-300; }
}

/* -------------------- */
/* Utilities            */
/* -------------------- */
@layer utilities {
  @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
  .animate-fade-in { animation: fade-in .3s ease-in-out both; }

  .z-nav { z-index: 40; }
  .z-modal { z-index: 50; }

  .stack { @apply flex flex-col gap-4; }
  .center { @apply mx-auto max-w-screen-lg; }
  .hb-fluid-h1 { @apply text-4xl sm:text-5xl md:text-7xl lg:text-8xl; }
  .hb-fluid-h2 { @apply text-3xl sm:text-4xl md:text-6xl lg:text-7xl; }
  .hb-fluid-kicker { @apply text-lg sm:text-xl md:text-2xl; }
  .hb-bleed-reset { @apply mr-0 max-w-full; }

  /* Hyperbrut visuals */
  .hb-neon {
    --hb-g1: var(--spec-a, #00E0FF);
    --hb-g2: var(--spec-c, #FF1CF7);
    background-image: linear-gradient(120deg,
      color-mix(in oklab, var(--hb-g1), transparent 10%),
      color-mix(in oklab, var(--hb-g2), transparent 10%));
  }

  .hb-intensity-lite { --hb-shadow-a:.28; --hb-rail-a:.45; }
  .hb-intensity-bold { --hb-shadow-a:.52; --hb-rail-a:.8; }

  .hb-accent { position: relative; }
  .hb-accent::before {
    content:""; position:absolute; inset:0 auto 0 -1px; width:var(--spec-rail-w,3px);
    background:var(--spectrum); opacity:var(--spec-alpha,.35); pointer-events:none;
  }

  .hb-inlay {
    background: color-mix(in oklab, hsl(var(--b1)) 80%, hsl(var(--b2)) 20%);
    border-radius:.8rem;
    box-shadow: 0 0 0 2px color-mix(in oklab, hsl(var(--b3)) 70%, transparent),
                0 10px 24px rgba(0,0,0,.20);
    backdrop-filter: saturate(120%) blur(6px);
  }

  .hb-ink { color: hsl(var(--bc)); }
  .hb-ink-soft { color: color-mix(in oklab, hsl(var(--bc)) 80%, transparent); }

  .hb-shadow-brut {
    box-shadow: 6px 6px 0 rgba(0,0,0,calc(var(--hb-shadow-a,.32))),
                0 0 0 2px rgba(0,0,0,.85);
  }
  .hb-shadow-brut:hover {
    box-shadow: 8px 8px 0 rgba(0,0,0,calc(var(--hb-shadow-a,.32))),
                0 0 0 2px rgba(0,0,0,.9);
    transform: translate(-1px,-1px);
  }

  .hb-brut-card {
    border-radius:.75rem;
    border:2px solid hsl(var(--b3));
    background: linear-gradient(135deg, hsl(var(--b2)) 0%, hsl(var(--b1)) 100%);
    box-shadow: 0 1px 0 rgba(255,255,255,.04) inset,
                0 14px 28px rgba(0,0,0,.20);
    transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
  }
  .hb-brut-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 1px 0 rgba(255,255,255,.04) inset,
                0 18px 34px rgba(0,0,0,.24);
  }

  .hb-plasma {
    text-shadow: 0 1px 0 rgba(0,0,0,.35);
    box-shadow: 0 0 0 2px rgba(0,0,0,.8),
                0 10px 22px color-mix(in oklab, hsl(var(--p)) 35%, transparent);
  }
  .hb-plasma:hover {
    box-shadow: 0 0 0 2px rgba(0,0,0,.85),
                0 14px 28px color-mix(in oklab, hsl(var(--p)) 45%, transparent);
  }

  .hb-grid {
    background-image:
      radial-gradient(circle at 2px 2px, rgba(0,255,65,.18) 1.2px, transparent 0),
      linear-gradient(to right, rgba(255,255,255,.05) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(255,255,255,.05) 1px, transparent 1px);
    background-size: 40px 40px, 20px 20px, 20px 20px;
  }

  .hb-underline { position:relative; display:inline-block; padding-bottom:.35rem; }
  .hb-underline::after {
    content:""; position:absolute; left:0; bottom:0; height:var(--spec-underline-w,2px);
    width: clamp(5rem, 10vw, 10rem);
    background: var(--spectrum-x);
    opacity:.9;
  }

  .hb-field { box-shadow: 3px 3px 0 rgba(0,0,0,.55); border-width: 2px !important; }
  .hb-field:focus { box-shadow: 4px 4px 0 rgba(0,0,0,.6); }

  .hb-accent-top { position:relative; }
  .hb-accent-top::before {
    content:""; position:absolute; inset:-1px 0 auto 0; height:var(--spec-rail-w,3px);
    background: var(--spectrum-x); opacity: var(--spec-alpha,.35); pointer-events:none;
  }

  .hb-stat-card { position:relative; overflow:hidden; }
  .hb-num-outline {
    text-shadow: 1px 1px 0 rgba(0,0,0,.65), -1px -1px 0 rgba(0,0,0,.35),
                 1px -1px 0 rgba(0,0,0,.45), -1px 1px 0 rgba(0,0,0,.45);
    letter-spacing:-.02em;
  }
  .hb-scanbar { height:4px; background: var(--spectrum-x); border-radius:2px; opacity:.9; }

  .hb-anim { transition: transform .18s ease, box-shadow .18s ease; }
  .hb-overflow-visible { overflow: visible !important; }

  .hb-logo {
    width:2.5rem; height:2.5rem; padding:2px; border-radius:9999px;
    display:inline-flex; align-items:center; justify-content:center;
    background: conic-gradient(from 120deg, var(--spec-a), var(--spec-c), var(--spec-d));
    box-shadow: 4px 4px 0 rgba(0,0,0,.7);
  }
  .hb-logo-core {
    width:100%; height:100%; border-radius:9999px;
    display:inline-flex; align-items:center; justify-content:center;
    background:hsl(var(--p)); color:#000; font-weight:800;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, monospace;
  }

  .hb-blobs { position:relative; }
  .hb-blobs::before, .hb-blobs::after {
    content:""; position:fixed; inset:auto auto 10% -10%;
    width:40vmax; height:40vmax; border-radius:50%;
    filter:blur(60px); opacity:.12; pointer-events:none; z-index:0;
  }
  .hb-blobs::before {
    inset:5% -10% auto auto;
    background: radial-gradient(circle at 30% 30%, color-mix(in oklab, hsl(var(--p)) 60%, transparent), transparent 60%);
  }
  .hb-blobs::after  {
    inset:auto auto -10% 50%;
    background: radial-gradient(circle at 60% 40%, color-mix(in oklab, hsl(var(--a)) 60%, transparent), transparent 60%);
  }
  .hb-vignette::after {
    content:""; position:fixed; inset:0; box-shadow: inset 0 0 120px rgba(0,0,0,.35);
    pointer-events:none; z-index:0;
  }
  .hb-noise::after {
    content:""; position:fixed; inset:0;
    background-image:
      repeating-linear-gradient(0deg, rgba(255,255,255,.02) 0 1px, transparent 1px 2px),
      repeating-linear-gradient(90deg, rgba(255,255,255,.02) 0 1px, transparent 1px 2px);
    mix-blend-mode: overlay; pointer-events:none; z-index:0;
  }
}

/* -------------------- */
/* Components           */
/* -------------------- */
@layer components {
  .btn, .badge, .card, .alert, .menu, .kbd, .tab, .input, .select, .textarea {
    border-radius: var(--radius);
    border-width: 2px;
  }

  .title-glow { text-shadow: 0 0 .025em #fff, 0 0 .2em var(--fallback-p, theme(colors.primary)); }
  .chip-elevated { border-width: 2px; box-shadow: 4px 4px 0 rgba(0,0,0,.9); }

  .input, .select, .textarea { @apply focus:outline-none focus:ring-2 focus:ring-primary; }
  .modal { @apply backdrop-blur; }
  .alert { @apply text-base-content; }
  .badge { @apply rounded-md; }
  .btn { @apply font-semibold; }
  .card { @apply shadow-sm; }
  .breadcrumb { @apply text-sm; }
  .pagination { @apply flex items-center gap-2; }

  .navbar .link-underline { position: relative; }
  .navbar .link-underline::after {
    content: ""; position: absolute; left: 0; bottom: -.25rem; height: 2px; width: 0;
    background-color: currentColor; transition: width 200ms ease;
  }
  .navbar .link-underline:hover::after,
  .navbar .link-underline:focus-visible::after { width: 100%; }
}
@media (prefers-reduced-motion: reduce) {
  .navbar .link-underline::after { transition: none; }
}