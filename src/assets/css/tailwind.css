@config "../../../tailwind.config.cjs";
@import "tailwindcss";

/* ═══════════════  Core Affordance & Meta Utilities  ═══════════════ */
@layer components {
  .spec-note-soft     { @apply italic text-gray-500 border-b border-dotted border-gray-300 cursor-help; }
  .spec-note-subtle   { @apply text-gray-400 border-b border-dashed border-gray-300 cursor-help; }
  .spec-note-liminal  { @apply underline decoration-dotted decoration-gray-400 text-slate-500 italic cursor-help; }
  .spec-note-archival { @apply uppercase tracking-wide text-xs text-gray-600 border-b border-gray-400 cursor-help; }
  .spec-note-ghost    { @apply italic underline decoration-dotted decoration-gray-400 text-gray-400 cursor-help; }
  .silence-node       { @apply h-screen bg-white; }
  .push-up            { @apply -mt-20; }
  .push-left          { @apply -ml-16; }
  .rotate-90          { @apply transform rotate-90 origin-top-left block; }
  .mirror-x           { @apply transform -scale-x-100 block; }
}

/* ═══════════════  Typographic & Color Signifiers  ═══════════════ */
@layer components {
  .slate    { @apply text-slate-500; }
  .gray     { @apply text-gray-500; }
  .zinc     { @apply text-zinc-500; }
  .neutral  { @apply text-neutral-500; }
  .stone    { @apply text-stone-500; }
  .red      { @apply text-red-500; }
  .orange   { @apply text-orange-500; }
  .amber    { @apply text-amber-500; }
  .yellow   { @apply text-yellow-500; }
  .lime     { @apply text-lime-500; }
  .green    { @apply text-green-500; }
  .emerald  { @apply text-emerald-500; }
  .teal     { @apply text-teal-500; }
  .cyan     { @apply text-cyan-500; }
  .sky      { @apply text-sky-500; }
  .blue     { @apply text-blue-500; }
  .indigo   { @apply text-indigo-500; }
  .violet   { @apply text-violet-500; }
  .purple   { @apply text-purple-500; }
  .fuchsia  { @apply text-fuchsia-500; }
  .pink     { @apply text-pink-500; }
  .rose     { @apply text-rose-500; }
  .blackout { @apply text-black bg-black; }
}

/* ═══════════════  Behavior, Animation, & Embeds  ═══════════════ */
@layer components {
  .flicker     { @apply animate-pulse; }
  .audio-embed { @apply my-4 block; }
  .qr-code     { @apply my-4 block w-32 h-32; }
}

/* ═══════════════  Footnote Popover & Annotation Affordances  ═══════════════ */
@layer components {
  .annotation-ref {
    @apply relative;
  }
  .annotation-anchor {
    @apply px-1 text-blue-700 cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-300 underline decoration-dotted;
  }
  .annotation-popup {
    @apply transition pointer-events-none opacity-0 absolute left-1/2 transform -translate-x-1/2 top-7
           bg-white/95 border border-gray-200 shadow-xl rounded-xl p-4 text-sm text-gray-900 z-50;
  }
  .annotation-ref:hover .annotation-popup,
  .annotation-ref:focus-within .annotation-popup {
    @apply opacity-100 pointer-events-auto;
  }
}

/* ═══════════════  Link Visual Affordances (ALWAYS LAST)  ═══════════════ */
@layer components {
  .interlink::before {
    content: "↗ ";
    margin-right: 0.15rem;
    color: currentColor;
    font-size: 0.9em;
  }
  .external-link {
    @apply text-blue-600 underline hover:text-blue-800 transition;
  }
}
