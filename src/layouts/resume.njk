{# layouts/resume.njk #}
<!DOCTYPE html>
<html lang="en" class="scroll-pt-16" data-theme="dim">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="color-scheme" content="dark light" />

    <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f5f3" />
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#2a303c" />
    <meta name="msapplication-TileColor" content="#2a303c" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <title>{{ title or 'Resume' }} | Effusion Labs</title>

    {# Canonical/OG (ensure absolute so Vite doesn't treat /resume/ like an asset) #}
    {% set canon = canonicalUrl or page.canonicalUrl or (page and page.url) %}
    {% if canon and metadata and metadata.site and metadata.site.url %}
      <link rel="canonical" href="{{ canon | url | absoluteUrl(metadata.site.url) }}" />
      <meta property="og:url" content="{{ canon | url | absoluteUrl(metadata.site.url) }}" />
    {% elif canon %}
      <link rel="canonical" href="{{ canon | url }}" />
      <meta property="og:url" content="{{ canon | url }}" />
    {% endif %}

    {# Per-page head injections (redirects, robots, etc.) #}
    {{ headExtra | safe }}

        <script type="module" src="{{ '/assets/js/app.js' | url }}"></script>

    <script src="{{ '/js/theme-utils.js' | url }}"></script>
    <script>try{ ThemeUtils && ThemeUtils.initEarly && ThemeUtils.initEarly(); }catch(_){}</script>

    {# Fonts #}
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&family=Rubik:wght@400..900&family=Space+Grotesk:wght@400..700&display=swap"
      rel="stylesheet"
    />

    {# Favicons / manifest #}
    <link rel="icon" type="image/png" href="{{ '/favicon.ico' | url }}" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="{{ '/favicon.svg' | url }}" />
    <link rel="shortcut icon" href="{{ '/favicon.ico' | url }}" />
    <link rel="apple-touch-icon" sizes="180x180" href="{{ '/apple-touch-icon.png' | url }}" />
    <meta name="apple-mobile-web-app-title" content="Effusion Labs" />
    <link rel="manifest" href="{{ '/site.webmanifest' | url }}" />
  </head>

  <body class="bg-base-100 text-base-content font-body antialiased">
    <main id="main" class="min-h-[60vh]">
      {{ content | safe }}
    </main>

    {# Theme toggle UI logic (button exists in the page) #}
    <script type="module" src="{{ '/assets/js/theme-toggle.js' | url }}"></script>

  </body>
</html>
