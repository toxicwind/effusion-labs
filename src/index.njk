---
layout: "base.njk"
metaDisable: true
showTitle: false
prose: false
fullBleed: true
---

{% from "components/icons.njk" import icon %}
{%
  set heroStats = [
    { label: 'Projects', value: inventory.projects or 0 },
    { label: 'Concepts', value: inventory.concepts or 0 },
    { label: 'Sparks', value: inventory.sparks or 0 },
    { label: 'Meta', value: inventory.meta or 0 },
    { label: 'Archives', value: inventory.archives or 0 },
    { label: 'Docs', value: inventory.docs or 0 },
    { label: 'Flower Reports', value: inventory.flowers or 0 }
  ]
%}

<div id="home-shell" class="relative overflow-hidden pb-24">
  <div class="pointer-events-none absolute inset-0 -z-[1]">
    <div class="absolute inset-0 opacity-30 mix-blend-soft-light hb-grid"></div>
    <div class="absolute -left-32 top-[-20%] h-[28rem] w-[28rem] rounded-full bg-gradient-to-br from-sky-500/30 via-transparent to-transparent blur-3xl">
    </div>
    <div class="absolute right-[-10%] top-1/3 h-[26rem] w-[30rem] rounded-full bg-gradient-to-bl from-fuchsia-500/25 via-transparent to-transparent blur-3xl">
    </div>
    <div class="absolute bottom-[-25%] left-1/3 h-[32rem] w-[36rem] rounded-full bg-gradient-to-tr from-emerald-400/25 via-transparent to-transparent blur-3xl">
    </div>
  </div>
  <div class="relative z-[1] space-y-24">
    <section class="pt-16">
      <div class="mx-auto w-full max-w-[110rem] px-6 sm:px-8 lg:px-12">
        {% if branding and branding.logoSrc %}
          <div class="hb-hero-logo-stage">
            <img
              src="{{ branding.logoSrc | url }}"
              alt="{{ branding.logoAlt or 'Effusion Labs logo' }}"
              width="420"
              height="420"
              decoding="async"
              class="hb-hero-logo"
            >
          </div>
        {% endif %}
        <div class="mt-12 grid gap-12 lg:grid-cols-[minmax(0,1fr)_24rem] xl:gap-16">
          <div class="space-y-8">
            <p class="text-xs font-semibold uppercase tracking-[0.28em] text-base-content/60">
              Data Garden
            </p>
            <h1 class="hb-fluid-h1 font-heading font-black leading-none tracking-tight text-base-content">
              {{ title or 'Ideas, prototypes, and tools—shipped straight from the lab.' }}
            </h1>
            {% if lede %}
              <p class="max-w-3xl text-lg text-base-content/80">{{ lede }}</p>
            {% endif %}
            <div class="flex flex-wrap items-center gap-3">
              {% for c in (ctas or []) %}
                {% set _href = (c.href or '/work/') | url %}
                {% set _label = c.label or 'Explore work' %}
                {% set _variant = (c.variant or 'primary') %}
                {% set _btn = 'btn btn-primary hb-plasma uppercase tracking-[0.2em]' %}
                {% if _variant == 'ghost' %}
                  {%
                    set _btn = 'btn btn-ghost border-2 border-base-content/30 uppercase tracking-[0.2em]'
                  %}
                {% elif _variant == 'outline' %}
                  {% set _btn = 'btn btn-outline uppercase tracking-[0.2em]' %}
                {% endif %}
                <a class="{{ _btn }} px-6" href="{{ _href }}">{{ _label }}</a>
              {% endfor %}
              <a
                class="btn btn-outline btn-secondary uppercase tracking-[0.2em]"
                href="{{ '/map/' | url }}"
              >
                Concept Map
              </a>
            </div>
          </div>
          <aside class="relative">
            <div class="overflow-hidden rounded-[1.75rem] border-2 border-black/70 bg-base-200/70 p-6 shadow-[12px_12px_0_rgba(0,0,0,0.55)] backdrop-blur-xl">
              <div class="flex items-center justify-between">
                <span
                  class="text-[0.65rem] font-semibold uppercase tracking-[0.22em] text-base-content/65"
                >Lab index</span>
                <span class="hb-scanbar w-24"></span>
              </div>
              <div class="mt-6 space-y-1">
                <p class="text-xs uppercase tracking-[0.2em] text-base-content/60">
                  Total entries
                </p>
                <p class="text-5xl font-black leading-none text-base-content">
                  {{ inventory.total or 0 }}
                </p>
                <p class="text-xs uppercase tracking-[0.16em] text-base-content/50">
                  Projects • Concepts • Sparks • Meta
                </p>
              </div>
              <dl class="mt-6 grid grid-cols-2 gap-3 text-sm text-base-content/75">
                {% for stat in heroStats %}
                  <div class="rounded-xl border border-base-content/10 bg-base-100/40 p-3 shadow-inner">
                    <dt class="text-[0.55rem] uppercase tracking-[0.24em] text-base-content/60">
                      {{ stat.label }}
                    </dt>
                    <dd class="mt-1 text-xl font-semibold text-base-content">{{ stat.value }}</dd>
                  </div>
                {% endfor %}
              </dl>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <section>
      <div class="mx-auto w-full max-w-[110rem] px-6 sm:px-8 lg:px-12">
        <div class="flex flex-wrap items-baseline justify-between gap-4">
          <div>
            <p class="text-xs font-semibold uppercase tracking-[0.22em] text-base-content/60">
              Core surfaces
            </p>
            <h2 class="hb-fluid-h2 font-heading font-black leading-none text-base-content">
              Catalogued currents
            </h2>
          </div>
          <p class="max-w-2xl text-sm text-base-content/70">
            Each lane keeps the information exposed—no drawers, no dropdowns. Follow the threads
            across projects, conceptual frameworks, quick sparks, and meta-process notes.
          </p>
        </div>
        <div class="mt-12 grid gap-6 md:grid-cols-2 xl:grid-cols-4">
          {% for lane in coreLanes %}
            <article class="group relative overflow-hidden rounded-[1.75rem] border-2 border-black/65 bg-base-200/70 p-6 shadow-[10px_10px_0_rgba(0,0,0,0.45)] transition-transform duration-200 hover:-translate-y-1">
              <div class="pointer-events-none absolute inset-0 bg-gradient-to-br {{ lane.accent }} opacity-80 mix-blend-screen">
              </div>
              <div class="relative flex h-full flex-col gap-5">
                <div class="flex items-center justify-between">
                  <span
                    class="flex items-center gap-2 text-[0.7rem] font-semibold uppercase tracking-[0.2em] text-base-content/70"
                  >
                    {{ icon(lane.icon, { class: 'size-5 text-primary', 'aria-hidden':'true' }) }}
                    {{ lane.label }}
                  </span>
                  <span class="hb-num-outline text-3xl font-black text-base-content">{{
                    lane.count
                  }}</span>
                </div>
                <p class="text-sm text-base-content/75">{{ lane.summary }}</p>
                <ul class="flex flex-col gap-3 text-sm">
                  {% for item in lane.entries %}
                    <li class="border-l-2 border-base-content/25 pl-3">
                      <a
                        class="flex flex-col gap-1 no-underline text-base-content transition hover:text-primary"
                        href="{{ item.url | url }}"
                      >
                        <span class="font-semibold">{{
                          item.data.title or item.data.page.fileSlug
                        }}</span>
                        {% if item.date %}
                          <time
                            class="text-xs uppercase tracking-[0.16em] text-base-content/55"
                            datetime="{{ item.date | htmlDateString }}"
                          >{{ item.date | readableDate }}</time>
                        {% endif %}
                        {% if item.data.description %}
                          <span class="text-xs text-base-content/60">{{
                            item.data.description | truncate(140)
                          }}</span>
                        {% endif %}
                      </a>
                    </li>
                  {% else %}
                    <li class="text-sm text-base-content/60">Entries will bloom soon.</li>
                  {% endfor %}
                </ul>
                <div class="mt-auto">
                  <a
                    class="inline-flex items-center gap-2 text-[0.7rem] font-semibold uppercase tracking-[0.22em] text-primary transition hover:text-secondary"
                    href="{{ lane.href | url }}"
                  >
                    View all
                    {{ icon('arrow-up-right', { class: 'size-4', 'aria-hidden':'true' }) }}
                  </a>
                </div>
              </div>
            </article>
          {% endfor %}
        </div>
      </div>
    </section>

    <section>
      <div class="mx-auto w-full max-w-[110rem] px-6 sm:px-8 lg:px-12">
        <div class="flex flex-wrap items-center justify-between gap-4">
          <div>
            <p class="text-xs font-semibold uppercase tracking-[0.22em] text-base-content/60">
              Live feed
            </p>
            <h2 class="hb-fluid-h2 font-heading font-black leading-none text-base-content">
              Latest across the lab
            </h2>
          </div>
          <a
            class="btn btn-outline btn-primary uppercase tracking-[0.2em]"
            href="{{ '/work/' | url }}"
          >Open work index</a>
        </div>
        <div class="mt-10 grid gap-6 md:grid-cols-2 xl:grid-cols-3">
          {% for item in latest %}
            <article class="relative overflow-hidden rounded-[1.5rem] border-2 border-black/55 bg-base-100/85 p-6 shadow-[10px_10px_0_rgba(0,0,0,0.4)] transition-transform duration-200 hover:-translate-y-1">
              <div class="pointer-events-none absolute inset-0 bg-gradient-to-br from-base-200/40 via-transparent to-base-200/60 opacity-80 mix-blend-screen">
              </div>
              <div class="relative flex h-full flex-col gap-4">
                <div class="flex items-center justify-between text-[0.65rem] font-semibold uppercase tracking-[0.2em] text-base-content/60">
                  <span>{{ (item.type or item.data.type or 'Entry') | capitalize }}</span>
                  {% if item.date %}
                    <time datetime="{{ item.date | htmlDateString }}">{{
                      item.date | readableDate
                    }}</time>
                  {% endif %}
                </div>
                <h3 class="text-lg font-semibold leading-snug text-base-content">
                  <a
                    class="no-underline transition hover:text-primary"
                    href="{{ item.url | url }}"
                  >{{ item.data.title or item.data.page.fileSlug }}</a>
                </h3>
                {% if item.data.description %}
                  <p class="text-sm text-base-content/70">
                    {{ item.data.description | truncate(160) }}
                  </p>
                {% endif %}
                <div class="mt-auto">
                  <a
                    class="inline-flex items-center gap-2 text-[0.7rem] font-semibold uppercase tracking-[0.2em] text-primary transition hover:text-secondary"
                    href="{{ item.url | url }}"
                  >
                    Open
                    {{ icon('arrow-up-right', { class: 'size-4', 'aria-hidden':'true' }) }}
                  </a>
                </div>
              </div>
            </article>
          {% endfor %}
        </div>
      </div>
    </section>

    <section>
      <div class="mx-auto w-full max-w-[110rem] px-6 sm:px-8 lg:px-12">
        <div class="flex flex-wrap items-baseline justify-between gap-4">
          <div>
            <p class="text-xs font-semibold uppercase tracking-[0.22em] text-base-content/60">
              Satellite archives
            </p>
            <h2 class="hb-fluid-h2 font-heading font-black leading-none text-base-content">
              Every folder surfaces
            </h2>
          </div>
          <p class="max-w-2xl text-sm text-base-content/70">
            Archives, documentation, and retail field reports live beside the primary work. Nothing
            is hidden—each collection streams straight to the surface.
          </p>
        </div>
        <div class="mt-12 grid gap-6 lg:grid-cols-3">
          {% for lane in satelliteLanes %}
            <article class="group relative overflow-hidden rounded-[1.75rem] border-2 border-black/65 bg-base-200/70 p-6 shadow-[10px_10px_0_rgba(0,0,0,0.45)] transition-transform duration-200 hover:-translate-y-1">
              <div class="pointer-events-none absolute inset-0 bg-gradient-to-br {{ lane.accent }} opacity-90 mix-blend-screen">
              </div>
              <div class="relative flex h-full flex-col gap-5">
                <div class="flex items-center justify-between">
                  <span
                    class="flex items-center gap-2 text-[0.7rem] font-semibold uppercase tracking-[0.2em] text-base-content/70"
                  >
                    {{ icon(lane.icon, { class: 'size-5 text-accent', 'aria-hidden':'true' }) }}
                    {{ lane.label }}
                  </span>
                  <span class="hb-num-outline text-2xl font-black text-base-content">{{
                    lane.count
                  }}</span>
                </div>
                <p class="text-sm text-base-content/75">{{ lane.summary }}</p>
                <ul class="flex flex-col gap-3 text-sm">
                  {% for item in lane.entries %}
                    <li class="border-l-2 border-base-content/25 pl-3">
                      <a
                        class="no-underline text-base-content transition hover:text-secondary"
                        href="{{ item.url | url }}"
                      >
                        {{ item.data.title or item.data.page.fileSlug }}
                      </a>
                    </li>
                  {% else %}
                    <li class="text-sm text-base-content/60">Awaiting first drop.</li>
                  {% endfor %}
                </ul>
                <div class="mt-auto">
                  <a
                    class="inline-flex items-center gap-2 text-[0.7rem] font-semibold uppercase tracking-[0.22em] text-primary transition hover:text-secondary"
                    href="{{ lane.href | url }}"
                  >
                    Visit surface
                    {{ icon('arrow-up-right', { class: 'size-4', 'aria-hidden':'true' }) }}
                  </a>
                </div>
              </div>
            </article>
          {% endfor %}
        </div>
      </div>
    </section>

    <section class="pb-10">
      <div class="mx-auto w-full max-w-[110rem] px-6 sm:px-8 lg:px-12">
        <div class="relative overflow-hidden rounded-[2.5rem] border-2 border-black/70 bg-base-200/75 p-10 text-center shadow-[14px_14px_0_rgba(0,0,0,0.5)]">
          <div class="pointer-events-none absolute inset-0 bg-gradient-to-r from-sky-500/20 via-transparent to-emerald-400/25 opacity-90 mix-blend-screen">
          </div>
          <div class="relative mx-auto flex max-w-3xl flex-col gap-5">
            <p class="text-xs font-semibold uppercase tracking-[0.24em] text-base-content/60">
              Interactive atlas
            </p>
            <h2 class="hb-fluid-h2 font-heading font-black leading-none text-base-content">
              Navigate the concept map
            </h2>
            <p class="text-lg text-base-content/75">
              Traverse the living knowledge graph that links sparks, conceptual structures, and
              running prototypes. Every point stays in view—no hidden nodes, just connective tissue.
            </p>
            <div class="flex flex-wrap justify-center gap-3">
              <a
                class="btn btn-primary btn-lg hb-plasma uppercase tracking-[0.22em]"
                href="{{ '/map/' | url }}"
              >Launch concept map</a>
              <a
                class="btn btn-outline btn-secondary uppercase tracking-[0.2em]"
                href="{{ '/work/' | url }}"
              >Browse all work</a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
