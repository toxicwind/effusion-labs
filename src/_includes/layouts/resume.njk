{#_includes/layouts/resume.njk
  Resume Layout (standalone page shell)

  What this file does
  • Provides the <html> + <head> frame for the resume page.
  • Builds SEO tags (title/description), canonical URL, and absolute OG/Twitter
    images when `site.url` is available.
  • Loads global CSS (Tailwind v4 + daisyUI v5) and shared theme utils.

  Expected inputs
  • Data: `resume` (see src/pages/resume/resume.json).
  • Globals (optional): `site.url` for absolute canonicals, `build.hash | commit | version | buildTime` for cache-busting.
  • Macros: macros/meta.njk → buildPageTitle/buildPageDesc.
  • Filters: standard Eleventy filters + our safe `json`/`dump`.

  Usage
  --- front matter ---
  layout: "layouts/resume.njk"
  --------------------
  Then put ONLY the body/content in the page template (no <html> or <head>).

  Notes
  • JSON-LD is emitted from the page template (keeps the layout generic).
  • Theme is initialized early via /assets/js/theme-utils.js.
  • Designed to render safely even when optional resume fields are missing.
#}
<!DOCTYPE html>
<html lang="en" class="scroll-pt-16" data-mschf="off" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="color-scheme" content="light dark">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#0b0b0e">
  <meta name="msapplication-TileColor" content="#0b0b0e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  {% from "macros/meta.njk" import buildPageTitle, buildPageDesc %}
  {% set pageTitle = buildPageTitle(resume, title) %}
  {% set pageDesc  = buildPageDesc(resume) %}

  {# Absolute canonical if site.url is set #}
  {% set canonicalPath = "/resume/" | url %}
  {% set canonicalHref = (site and site.url) ? (site.url + canonicalPath) : canonicalPath %}

  {# Absolute OG image if possible #}
  {% if resume and resume.ogImage %}
    {% set ogRel = resume.ogImage | url %}
    {% set ogHref = (site and site.url) ? (site.url + ogRel) : ogRel %}
  {% endif %}

  <title>{{ pageTitle }}</title>
  <link rel="canonical" href="{{ canonicalHref }}">
  <meta name="description" content="{{ pageDesc }}">

  <meta property="og:type" content="profile">
  <meta property="og:title" content="{{ pageTitle }}">
  <meta property="og:description" content="{{ pageDesc }}">
  <meta property="og:url" content="{{ canonicalHref }}">
  {% if ogHref %}<meta property="og:image" content="{{ ogHref }}">{% endif %}

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ pageTitle }}">
  <meta name="twitter:description" content="{{ pageDesc }}">
  {% if ogHref %}<meta name="twitter:image" content="{{ ogHref }}">{% endif %}

  <script src="/assets/js/theme-utils.js"></script>
  <script>ThemeUtils.initEarly();</script>

  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&family=Rubik:wght@400..900&family=Space+Grotesk:wght@400..700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/assets/css/app.css?v={{ build.hash or build.commit or build.version or buildTime }}">
</head>
<body class="bg-base-100 text-base-content font-body antialiased selection:bg-primary/20">
  <main id="main" class="min-h-[60vh] mx-auto max-w-screen-2xl px-4 sm:px-6 lg:px-8 2xl:px-12 py-10">
    {{ content | safe }}
  </main>
</body>
</html>
