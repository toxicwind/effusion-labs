{# components/list-item.njk #}
{% macro listItem(item) %}
<a
  href="{{ item.url | url }}"
  aria-label="{{ item.data.title }}"
  class="group block surface-solid slab no-elevate with-rail p-5 sm:p-6 transition-colors hover:border-base-300 text-left no-underline"
  data-title="{{ item.data.title }}" data-date="{{ item.date | date('yyyy-MM-dd') }}"
>
  <div>
    {% set t = (item.data.type or item.type) | lower %}
    {% set typeClass = 'pill--meta' %}
    {% if t == 'project' %}{% set typeClass = 'pill--project' %}{% elif t == 'concept' %}{% set typeClass = 'pill--concept' %}
    {% elif t == 'spark' %}{% set typeClass = 'pill--spark' %}{% elif t == 'meta' %}{% set typeClass = 'pill--meta' %}{% endif %}
    <div class="flex items-start justify-between">
      {% if item.data.type %}<span class="pill {{ typeClass }}">{{ item.data.type | capitalize }}</span>{% endif %}
      {% if item.date %}<time datetime="{{ item.date | htmlDateString }}" class="text-[0.7rem] opacity-90">{{ item.date | readableDate }}</time>{% endif %}
    </div>
    <h3 class="font-heading text-base-content text-lg leading-tight group-hover:text-primary transition-colors">{{ item.data.title }}</h3>
    {% if item.data.description %}<p class="text-sm text-base-content/90">{{ item.data.description | truncate(120) }}</p>{% endif %}
    <div class="mt-1 flex items-center justify-between text-xs text-base-content/70">
      {% if item.data.status %}<span class="capitalize">[{{ item.data.status }}]</span>{% endif %}
    </div>
  </div>
</a>
{% endmacro %}
