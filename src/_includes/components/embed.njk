{# components/embed.njk #}
<a
  href="{{ url }}"
  class="embed block rounded-md border border-base-content/15 bg-base-100/80 backdrop-blur p-4 transition
         hover:bg-base-200/60 hover:border-primary/50
         focus:outline-none focus-visible:ring focus-visible:ring-primary/40"
>
  <div class="mb-1">
    <strong class="text-lg text-base-content">{{ title or fileSlug or "Untitled" }}</strong>
  </div>

  {% if description %}
    <p class="text-base-content/70 text-sm mb-2">{{ description }}</p>
  {% endif %}

  <div class="text-xs text-base-content/70 space-y-1">
    {% if status or certainty or importance %}
    <div class="flex gap-2 flex-wrap">
      {% if status %}<span class="badge badge-ghost badge-xs">{{ status }}</span>{% endif %}
      {% if certainty %}<span class="badge badge-ghost badge-xs">certainty: {{ certainty }}</span>{% endif %}
      {% if importance %}<span class="badge badge-ghost badge-xs">importance: {{ importance }}</span>{% endif %}
    </div>
    {% endif %}

    {% if tags %}
    <div class="mt-1">
      <strong class="text-base-content/60">Tags:</strong>
      <span class="inline-flex flex-wrap gap-1 pl-1">
        {% for tag in tags %}
          <span class="badge badge-outline badge-xs">{{ tag }}</span>
        {% endfor %}
      </span>
    </div>
    {% endif %}

    {% if memory_ref %}
    <div class="mt-1">
      <strong class="text-base-content/60">Memory:</strong>
      <ul class="list-disc pl-4">
        {% for ref in memory_ref %}
          <li><a href="{{ ref }}" class="link link-hover">{{ ref }}</a></li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}
  </div>
</a>
