@layer utilities {
  /* Neon spectrum band */
  .hb-neon {
    --hb-g1: var(--spec-a, #00E0FF);
    --hb-g2: var(--spec-c, #FF1CF7);
    background-image: linear-gradient(120deg, color-mix(in oklab, var(--hb-g1), transparent 10%), color-mix(in oklab, var(--hb-g2), transparent 10%));
  }

  /* Intensity knobs */
  .hb-intensity-lite { --hb-shadow-a: .28; --hb-rail-a: .45; }
  .hb-intensity-bold { --hb-shadow-a: .52; --hb-rail-a: .8; }

  /* Accent rail (left) */
  .hb-accent { position: relative; }
  .hb-accent::before {
    content: "";
    position: absolute; inset: 0 auto 0 -1px; width: var(--spec-rail-w, 3px);
    background: var(--spectrum, linear-gradient(180deg,#00E0FF,#9AFF00 33%,#FF1CF7 66%,#FFC700));
    opacity: var(--spec-alpha, .35);
    pointer-events: none;
  }

  /* Inlay surface for neon bands */
  .hb-inlay {
    background: color-mix(in oklab, hsl(var(--b1)) 80%, hsl(var(--b2)) 20%);
    border-radius: .8rem;
    box-shadow:
      0 0 0 2px color-mix(in oklab, hsl(var(--b3)) 70%, transparent),
      0 10px 24px rgba(0,0,0,.20);
    backdrop-filter: saturate(120%) blur(6px);
  }

  /* Ink helpers on neon */
  .hb-ink { color: hsl(var(--bc)); }
  .hb-ink-soft { color: color-mix(in oklab, hsl(var(--bc)) 80%, transparent); }

  /* Brutalist, stacked hard shadow */
  .hb-shadow-brut {
    box-shadow:
      6px 6px 0 0 rgba(0,0,0, calc(var(--hb-shadow-a, .32))),
      0 0 0 2px rgba(0,0,0,.85);
  }
  .hb-shadow-brut:hover { box-shadow:
      8px 8px 0 0 rgba(0,0,0, calc(var(--hb-shadow-a, .32))),
      0 0 0 2px rgba(0,0,0,.9);
    transform: translate(-1px,-1px);
  }

  /* Beveled edge illusion */
  .hb-bevel {
    background-image:
      linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.06));
  }

  /* Card preset that pops */
  .hb-brut-card {
    border-radius: .75rem;
    border: 2px solid hsl(var(--b3));
    background: linear-gradient(135deg, hsl(var(--b2)) 0%, hsl(var(--b1)) 100%);
    box-shadow:
      0 1px 0 rgba(255,255,255,.04) inset,
      0 14px 28px rgba(0,0,0, calc(.18 + var(--hb-shadow-a, .28)));
    transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
  }
  .hb-brut-card:hover { transform: translateY(-2px); box-shadow:
      0 1px 0 rgba(255,255,255,.04) inset,
      0 18px 34px rgba(0,0,0, calc(.22 + var(--hb-shadow-a, .28)));
  }

  /* Panel for code/mockups */
  .hb-brut-panel {
    border: 2px solid color-mix(in oklab, hsl(var(--p)) 40%, hsl(var(--b3)) 60%);
    background: linear-gradient(160deg, hsl(var(--b3)) 0%, hsl(var(--b2)) 100%);
    box-shadow: 0 12px 24px rgba(0,0,0,.32);
  }

  /* Plasma glow for primary CTAs */
  .hb-plasma {
    text-shadow: 0 1px 0 rgba(0,0,0,.35);
    box-shadow:
      0 0 0 2px rgba(0,0,0,.8),
      0 10px 22px color-mix(in oklab, hsl(var(--p)) 35%, transparent);
  }
  .hb-plasma:hover { box-shadow:
      0 0 0 2px rgba(0,0,0,.85),
      0 14px 28px color-mix(in oklab, hsl(var(--p)) 45%, transparent);
  }

  /* Energetic page grid */
  .hb-grid {
    background-image:
      radial-gradient(circle at 2px 2px, rgba(0,255,65,.18) 1.2px, transparent 0),
      linear-gradient(to right, rgba(255,255,255,.05) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(255,255,255,.05) 1px, transparent 1px);
    background-size: 40px 40px, 20px 20px, 20px 20px;
  }

  /* Micro motion */
  .hb-anim { transition: transform .18s ease, box-shadow .18s ease; }
}

