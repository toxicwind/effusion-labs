üöÄ Launching test runner...
üîç Found 14 test files.

üèóÔ∏è  Performing single Eleventy build...
npm warn Unknown env config "http-proxy". This will stop working in the next major version of npm.
üóÇ  Archives loaded from "src/content/archives": 88 items (44 products, 4 characters, 40 series)
[11ty] Writing /tmp/eleventy-build/concept-map.json from ./src/concept-map.json.njk
[11ty] Writing /tmp/eleventy-build/feed.xml from ./src/feed.njk
[11ty] Writing /tmp/eleventy-build/map/index.html from ./src/map.njk
[11ty] Writing /tmp/eleventy-build/404.html from ./src/404.njk
[11ty] Writing /tmp/eleventy-build/archives/index.html from ./src/archives/index.njk
[11ty] Writing /tmp/eleventy-build/work/1/index.html from ./src/work/index.njk
[11ty] Writing /tmp/eleventy-build/archives/collectables/index.html from ./src/archives/collectables/index.njk
[11ty] Writing /tmp/eleventy-build/meta/index.html from ./src/content/meta/index.njk
[11ty] Writing /tmp/eleventy-build/archives/collectables/designer-toys/index.html from ./src/archives/collectables/designer-toys/index.njk
[11ty] Writing /tmp/eleventy-build/archives/collectables/designer-toys/pop-mart/index.html from ./src/archives/collectables/designer-toys/pop-mart/index.njk
[11ty] Writing /tmp/eleventy-build/archives/collectables/designer-toys/pop-mart/the-monsters/index.html from ./src/archives/collectables/designer-toys/pop-mart/the-monsters/index.njk
[11ty] Writing /tmp/eleventy-build/index.html from ./src/index.njk
[11ty] Writing /tmp/eleventy-build/work/index.html from ./src/work.njk
[11ty] Writing /tmp/eleventy-build/content/concepts/aesthetic-inquiry/index.html from ./src/content/concepts/aesthetic-inquiry.md (njk)
[11ty] Writing /tmp/eleventy-build/content/concepts/atlas-process/index.html from ./src/content/concepts/atlas-process.md (njk)
[11ty] Writing /tmp/eleventy-build/content/concepts/autocatalytic-system/index.html from ./src/content/concepts/autocatalytic-system.md (njk)
[11ty] Writing /tmp/eleventy-build/work/block-ledger/index.html from ./src/content/concepts/block-ledger.md (njk)
[11ty] Writing /tmp/eleventy-build/content/concepts/compliant-spire/index.html from ./src/content/concepts/compliant-spire.md (njk)
[11ty] Writing /tmp/eleventy-build/content/concepts/ghost-byline/index.html from ./src/content/concepts/ghost-byline.md (njk)
[11ty] Writing /tmp/eleventy-build/content/concepts/ghost-engine/index.html from ./src/content/concepts/ghost-engine.md (njk)
[11ty] Writing /tmp/eleventy-build/content/concepts/parroting-mimicry/index.html from ./src/content/concepts/parroting-mimicry.md (njk)
[11ty] Writing /tmp/eleventy-build/content/concepts/readers-journey/index.html from ./src/content/concepts/readers-journey.md (njk)
[11ty] Writing /tmp/eleventy-build/content/concepts/rhizomatic-protocol/index.html from ./src/content/concepts/rhizomatic-protocol.md (njk)
[11ty] Writing /tmp/eleventy-build/content/concepts/three-studies-sensory/index.html from ./src/content/concepts/three-studies-sensory.md (njk)
[11ty] Writing /tmp/eleventy-build/content/concepts/verification-is-an-ecology/index.html from ./src/content/concepts/verification-is-an-ecology.md (njk)
[11ty] Writing /tmp/eleventy-build/content/concepts/workshop-weather/index.html from ./src/content/concepts/workshop-weather.md (njk)
[11ty] Writing /tmp/eleventy-build/content/meta/a-b-curatorial-protocolist/index.html from ./src/content/meta/a-b-curatorial-protocolist.md (njk)
[11ty] Writing /tmp/eleventy-build/content/meta/core-concept/index.html from ./src/content/meta/core-concept.md (njk)
[11ty] Writing /tmp/eleventy-build/content/meta/curatorial-generativism/index.html from ./src/content/meta/curatorial-generativism.md (njk)
[11ty] Writing /tmp/eleventy-build/content/meta/methodology/index.html from ./src/content/meta/methodology.md (njk)
[11ty] Writing /tmp/eleventy-build/content/meta/protocolist/index.html from ./src/content/meta/protocolist.md (njk)
[11ty] Writing /tmp/eleventy-build/content/meta/style-guide/index.html from ./src/content/meta/style-guide.md (njk)
[11ty] Writing /tmp/eleventy-build/content/meta/unified-referencing-syntax/index.html from ./src/content/meta/unified-referencing-syntax.md (njk)
[11ty] Writing /tmp/eleventy-build/content/projects/project-dandelion/index.html from ./src/content/projects/project-dandelion.md (njk)
[11ty] Writing /tmp/eleventy-build/content/sparks/academic-blindness/index.html from ./src/content/sparks/academic-blindness.md (njk)
[11ty] Writing /tmp/eleventy-build/content/sparks/breakfast-eggs/index.html from ./src/content/sparks/breakfast-eggs.md (njk)
[11ty] Writing /tmp/eleventy-build/content/sparks/george-eastman-obscure/index.html from ./src/content/sparks/george-eastman-obscure.md (njk)
[11ty] Writing /tmp/eleventy-build/content/sparks/illusion-japan-nicotine/index.html from ./src/content/sparks/illusion-japan-nicotine.md (njk)
[11ty] Writing /tmp/eleventy-build/content/sparks/murakami-market-analysis-2025/index.html from ./src/content/sparks/murakami-market-analysis-2025.md (njk)
[11ty] Writing /tmp/eleventy-build/content/sparks/paulin-paulin-paulin-marketing/index.html from ./src/content/sparks/paulin-paulin-paulin-marketing.md (njk)
[11ty] Writing /tmp/eleventy-build/content/sparks/smoker-sysadmin/index.html from ./src/content/sparks/smoker-sysadmin.md (njk)
[11ty] Writing /tmp/eleventy-build/content/sparks/vapor-linked-governance/index.html from ./src/content/sparks/vapor-linked-governance.md (njk)
[11ty] Writing /tmp/eleventy-build/work/drop/index.html from ./src/work/drop.11ty.js
[11ty] Writing /tmp/eleventy-build/work/latest/index.html from ./src/work/latest.11ty.js
[11ty] Writing /tmp/eleventy-build/concepts/index.html from ./src/content/concepts/index.njk
[11ty] Writing /tmp/eleventy-build/projects/index.html from ./src/content/projects/index.njk
[11ty] Writing /tmp/eleventy-build/sparks/index.html from ./src/content/sparks/index.njk
[11ty] Writing /tmp/eleventy-build/work/2/index.html from ./src/work/index.njk
[11ty] Copied 10 Wrote 48 files in 2.27 seconds (47.4ms each, v3.1.2)
‚úÖ Eleventy build complete.

üß™ Running 14 tests...
TAP version 13
# Subtest: callout merges footnotes into page pipeline
ok 1 - callout merges footnotes into page pipeline
  ---
  duration_ms: 11.12023
  type: 'test'
  ...
# Subtest: defines improved background colors
ok 2 - defines improved background colors
  ---
  duration_ms: 1.341923
  type: 'test'
  ...
# Subtest: text contrast meets WCAG AA
ok 3 - text contrast meets WCAG AA
  ---
  duration_ms: 5.685058
  type: 'test'
  ...
# Subtest: tailwind exposes readable font families
ok 4 - tailwind exposes readable font families
  ---
  duration_ms: 0.535419
  type: 'test'
  ...
# Subtest: includes fluid type scale tokens
ok 5 - includes fluid type scale tokens
  ---
  duration_ms: 0.275964
  type: 'test'
  ...
# Subtest: footnote popover separates source line
ok 6 - footnote popover separates source line
  ---
  duration_ms: 91.875392
  type: 'test'
  ...
# Subtest: projects computed picks latest entries by date
ok 7 - projects computed picks latest entries by date
  ---
  duration_ms: 1.782226
  type: 'test'
  ...
# Subtest: keepalive emits heartbeat to stderr
ok 8 - keepalive emits heartbeat to stderr
  ---
  duration_ms: 6095.609812
  type: 'test'
  ...
# Subtest: keepalive ignores first SIGINT
ok 9 - keepalive ignores first SIGINT
  ---
  duration_ms: 179.675703
  type: 'test'
  ...
# Subtest: gateway reads SOLVER_URL from environment
ok 10 - gateway reads SOLVER_URL from environment
  ---
  duration_ms: 0.970262
  type: 'test'
  ...
# Subtest: gateway retains default solver URL
ok 11 - gateway retains default solver URL
  ---
  duration_ms: 0.212331
  type: 'test'
  ...
# Subtest: external link renders with arrow and class
ok 12 - external link renders with arrow and class
  ---
  duration_ms: 8.923424
  type: 'test'
  ...
# Subtest: internal link keeps text without external markers
ok 13 - internal link keeps text without external markers
  ---
  duration_ms: 2.335799
  type: 'test'
  ...
# Subtest: external link starting with arrow does not duplicate
ok 14 - external link starting with arrow does not duplicate
  ---
  duration_ms: 2.281657
  type: 'test'
  ...
# Error: Uncaught [TypeError: window.matchMedia is not a function]
#     at reportException (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
#     at innerInvokeEventListeners (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
#     at invokeEventListeners (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
#     at DocumentImpl._dispatch (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
#     at DocumentImpl.dispatchEvent (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
#     at Document.dispatchEvent (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
#     at TestContext.<anonymous> (file:///workspace/effusion-labs/test/unit/mschf-overlay-style.test.mjs:13:23)
#     at Test.runInAsyncScope (node:async_hooks:214:14)
#     at Test.run (node:internal/test_runner/test:1047:25)
#     at Test.start (node:internal/test_runner/test:944:17) TypeError: window.matchMedia is not a function
#     at addSpectralRings (eval at <anonymous> (file:///workspace/effusion-labs/test/unit/mschf-overlay-style.test.mjs:12:14), <anonymous>:417:14)
#     at Object.lab (eval at <anonymous> (file:///workspace/effusion-labs/test/unit/mschf-overlay-style.test.mjs:12:14), <anonymous>:99:34)
#     at Document.initOverlay (eval at <anonymous> (file:///workspace/effusion-labs/test/unit/mschf-overlay-style.test.mjs:12:14), <anonymous>:126:16)
#     at Document.callTheUserObjectsOperation (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
#     at innerInvokeEventListeners (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
#     at invokeEventListeners (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
#     at DocumentImpl._dispatch (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
#     at DocumentImpl.dispatchEvent (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
#     at Document.dispatchEvent (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
#     at TestContext.<anonymous> (file:///workspace/effusion-labs/test/unit/mschf-overlay-style.test.mjs:13:23)
# Error: Uncaught [TypeError: window.matchMedia is not a function]
#     at reportException (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
#     at innerInvokeEventListeners (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
#     at invokeEventListeners (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
#     at DocumentImpl._dispatch (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
#     at fireAnEvent (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/helpers/events.js:18:36)
#     at dispatchEvent (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/nodes/Document-impl.js:520:9)
#     at /workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/nodes/Document-impl.js:525:11
#     at new Promise (<anonymous>)
#     at onDOMContentLoad (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/nodes/Document-impl.js:523:14)
#     at Object.check (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/browser/resources/resource-queue.js:76:23) TypeError: window.matchMedia is not a function
#     at addSpectralRings (eval at <anonymous> (file:///workspace/effusion-labs/test/unit/mschf-overlay-style.test.mjs:12:14), <anonymous>:417:14)
#     at Object.lab (eval at <anonymous> (file:///workspace/effusion-labs/test/unit/mschf-overlay-style.test.mjs:12:14), <anonymous>:99:34)
#     at Document.initOverlay (eval at <anonymous> (file:///workspace/effusion-labs/test/unit/mschf-overlay-style.test.mjs:12:14), <anonymous>:126:16)
#     at Document.callTheUserObjectsOperation (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
#     at innerInvokeEventListeners (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
#     at invokeEventListeners (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
#     at DocumentImpl._dispatch (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
#     at fireAnEvent (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/helpers/events.js:18:36)
#     at dispatchEvent (/workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/nodes/Document-impl.js:520:9)
#     at /workspace/effusion-labs/node_modules/jsdom/lib/jsdom/living/nodes/Document-impl.js:525:11
# Subtest: collage style includes base, ephemera, and lab modules
ok 15 - collage style includes base, ephemera, and lab modules
  ---
  duration_ms: 116.29169
  type: 'test'
  ...
# Subtest: node shim version matches system node
ok 16 - node shim version matches system node
  ---
  duration_ms: 143.878065
  type: 'test'
  ...
# Subtest: node shim is executable
ok 17 - node shim is executable
  ---
  duration_ms: 0.719578
  type: 'test'
  ...
# Subtest: node shim lacks llm-constants reference
ok 18 - node shim lacks llm-constants reference
  ---
  duration_ms: 0.276327
  type: 'test'
  ...
# Subtest: prettier pinned version and format script
ok 19 - prettier pinned version and format script
  ---
  duration_ms: 1.347439
  type: 'test'
  ...
# Subtest: test/unit/pty-runner.test.mjs
ok 11 - test/unit/pty-runner.test.mjs
  ---
  duration_ms: 866.486735
  type: 'test'
  ...
# Subtest: merges tag-like metadata into unified tags and categories
ok 21 - merges tag-like metadata into unified tags and categories
  ---
  duration_ms: 2.844184
  type: 'test'
  ...
# Subtest: deduplicates tag values
ok 22 - deduplicates tag values
  ---
  duration_ms: 0.247817
  type: 'test'
  ...
# Subtest: categories returns empty array when spark_type absent
ok 23 - categories returns empty array when spark_type absent
  ---
  duration_ms: 0.184073
  type: 'test'
  ...
# Subtest: ordinalSuffix handles basic single-digit numbers
ok 24 - ordinalSuffix handles basic single-digit numbers
  ---
  duration_ms: 1.060105
  type: 'test'
  ...
# Subtest: ordinalSuffix handles negative numbers correctly
ok 25 - ordinalSuffix handles negative numbers correctly
  ---
  duration_ms: 0.254076
  type: 'test'
  ...
# Subtest: ordinalSuffix uses "th" for all teen numbers
ok 26 - ordinalSuffix uses "th" for all teen numbers
  ---
  duration_ms: 0.325855
  type: 'test'
  ...
# Subtest: ordinalSuffix returns a valid suffix for all days in a month
ok 27 - ordinalSuffix returns a valid suffix for all days in a month
  ---
  duration_ms: 0.500195
  type: 'test'
  ...
# Subtest: readFileCached returns null for a nonexistent file path
ok 28 - readFileCached returns null for a nonexistent file path
  ---
  duration_ms: 0.588632
  type: 'test'
  ...
# Subtest: GitHub workflows use latest action versions
ok 29 - GitHub workflows use latest action versions
  ---
  duration_ms: 1.118347
  type: 'test'
  ...
1..29
# tests 29
# suites 0
# pass 29
# fail 0
# cancelled 0
# skipped 0
# todo 0
# duration_ms 6714.7609

‚ú® All tests passed!
